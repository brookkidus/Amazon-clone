/*! For license information please see main.f89e7ee0.js.LICENSE.txt */
!function(){var e={6438:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}function i(e){if("string"!==typeof e)throw new Error(r(7));return e.charAt(0).toUpperCase()+e.slice(1)}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}n.r(t),n.d(t,{capitalize:function(){return i},createChainedFunction:function(){return a},createSvgIcon:function(){return kr},debounce:function(){return br},deprecatedPropType:function(){return wr},isMuiElement:function(){return xr},ownerDocument:function(){return _r},ownerWindow:function(){return Sr},requirePropFactory:function(){return Er},setRef:function(){return Ir},unstable_useId:function(){return Dr},unsupportedProp:function(){return Tr},useControlled:function(){return Cr},useEventCallback:function(){return Ar},useForkRef:function(){return Or},useIsFocusVisible:function(){return zr}});var s=n(2791);function u(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function c(e,t){if(null==e)return{};var n,r,i=u(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=l(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var f=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=l(e))&&(r&&(r+=" "),r+=t);return r},h=n(2110),d=n.n(h),p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v="object"===("undefined"===typeof window?"undefined":p(window))&&"object"===("undefined"===typeof document?"undefined":p(document))&&9===document.nodeType,m=n(3144),y=n(9611);function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,y.Z)(e,t)}var k=n(7326),b={}.constructor;function w(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(w);if(e.constructor!==b)return e;var t={};for(var n in e)t[n]=w(e[n]);return t}function x(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=w(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var _=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},S=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=_(e[n]," ");else t=_(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function E(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function I(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function T(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var s=E(n),u=s.linebreak,c=s.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=u),r+=I(h+":"+c+S(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=u),r+=I(p+":"+c+S(v)+";",a))}for(var m in t){var y=t[m];null!=y&&"fallbacks"!==m&&(r&&(r+=u),r+=I(m+":"+c+S(y)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),I(""+e+c+"{"+r,--a)+I("}",a)):r}var C=/([[\].#*$><+~=|^:(),"'`\s])/g,N="undefined"!==typeof CSS&&CSS.escape,A=function(e){return N?N(e):e.replace(C,"\\$1")},O=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),D=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,s=r.sheet,u=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=u((0,k.Z)((0,k.Z)(i)),s),i.selectorText="."+A(i.id)),i}g(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=S(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?o({},e,{allowEmpty:!0}):e;return T(this.selectorText,this.style,n)},(0,m.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(O),P={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new D(e,t,n)}},R={indent:1,children:!0},M=/@([\w-]+)/,L=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(M);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new oe(o({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=R);var t=E(e).linebreak;if(null==e.indent&&(e.indent=R.indent),null==e.children&&(e.children=R.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),F=/@container|@media|@supports\s+/,j={onCreateRule:function(e,t,n){return F.test(e)?new L(e,t,n):null}},U={indent:1,children:!0},V=/@keyframes\s+([\w-]+)/,Z=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(V);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,a=n.sheet,s=n.generateId;for(var u in this.id=!1===i?this.name:A(s(this,a)),this.rules=new oe(o({},n,{parent:this})),t)this.rules.add(u,t[u],o({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=U);var t=E(e).linebreak;if(null==e.indent&&(e.indent=U.indent),null==e.children&&(e.children=U.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),B=/@keyframes\s+/,z=/\$([\w-]+)/g,q=function(e,t){return"string"===typeof e?e.replace(z,(function(e,n){return n in t?t[n]:e})):e},W=function(e,t,n){var r=e[t],i=q(r,n);i!==r&&(e[t]=i)},G={onCreateRule:function(e,t,n){return"string"===typeof e&&B.test(e)?new Z(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&W(e,"animation-name",n.keyframes),"animation"in e&&W(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return q(e,r.keyframes);default:return e}}},H=function(e){function t(){return e.apply(this,arguments)||this}return g(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?o({},e,{allowEmpty:!0}):e;return T(this.key,this.style,n)},t}(O),Y={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new H(e,t,n):null}},K=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=E(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=T(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return T(this.at,this.style,e)},e}(),Q=/@font-face/,$={onCreateRule:function(e,t,n){return Q.test(e)?new K(e,t,n):null}},J=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return T(this.key,this.style,e)},e}(),X={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new J(e,t,n):null}},ee=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),te={"@charset":!0,"@import":!0,"@namespace":!0},ne={onCreateRule:function(e,t,n){return e in te?new ee(e,t,n):null}},re=[P,j,G,Y,$,X,ne],ie={process:!0},ae={force:!0,process:!0},oe=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,a=r.sheet,s=r.jss,u=r.Renderer,c=r.generateId,l=r.scoped,f=o({classes:this.classes,parent:i,sheet:a,jss:s,Renderer:u,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(f.selector="."+A(this.classes[h]));var d=x(h,t,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==i&&(a=o({},n,{index:i})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof D?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof Z&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof D?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof Z&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=ie);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(a.onUpdate(n,t,o,r),r.process&&s&&s!==t.style){for(var u in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[u];c!==s[u]&&t.prop(u,c,ae)}for(var l in s){var f=t.style[l],h=s[l];null==f&&f!==h&&t.prop(l,null,ae)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=E(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),se=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=o({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new oe(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ue=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ce=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=u(t,["attached"]),i=E(r).linebreak,a="",o=0;o<this.registry.length;o++){var s=this.registry[o];null!=n&&s.attached!==n||(a&&(a+=i),a+=s.toString(r))}return a},(0,m.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),le=new ce,fe="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),he="2f1acc6c3a606b082e5eef5e54414ffb";null==fe[he]&&(fe[he]=0);var de=fe[he]++,pe=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+de+i+t:a+n.key+"-"+de+(i?"-"+i:"")+"-"+t}},ve=function(e){var t;return function(){return t||(t=e()),t}},me=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},ye=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=S(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,a=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,a,i>-1?"important":"")}}catch(o){return!1}return!0},ge=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},ke=function(e,t){return e.selectorText=t,e.selectorText===t},be=ve((function(){return document.querySelector("head")}));function we(e){var t=le.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=be(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var xe=ve((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),_e=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},Se=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},Ee=function(){function e(e){this.getPropertyValue=me,this.setProperty=ye,this.removeProperty=ge,this.setSelector=ke,this.hasInsertedRules=!1,this.cssRules=[],e&&le.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=xe();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=we(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else be().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=Se(n,t);if(!1===(i=_e(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var s=Se(n,t),u=_e(n,o,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof se&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Ie=0,Te=function(){function e(e){this.id=Ie++,this.version="10.10.0",this.plugins=new ue,this.options={id:{minify:!1},createGenerateId:pe,Renderer:v?Ee:null,plugins:[]},this.generateId=pe({minify:!1});for(var t=0;t<re.length;t++)this.plugins.use(re[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=o({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===le.index?0:le.index+1);var r=new se(e,o({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),le.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=o({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=x(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),Ce=function(e){return new Te(e)},Ne="object"===typeof CSS&&null!=CSS&&"number"in CSS;function Ae(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=Ae(r);a&&(t||(t={}),t[n]=a)}}return t}Ce();function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=o({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var De={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Pe=De;var Re=s.createContext(null);function Me(){return s.useContext(Re)}var Le="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",Fe=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var je=Date.now(),Ue="fnValues"+je,Ve="fnStyle"+ ++je,Ze=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=x(e,{},n);return r[Ve]=t,r},onProcessStyle:function(e,t){if(Ue in t||Ve in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Ue]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Ve];a&&(i.style=a(e)||{});var o=i[Ue];if(o)for(var s in o)i.prop(s,o[s](e),r)}}},Be="@global",ze="@global ",qe=function(){function e(e,t,n){for(var r in this.type="global",this.at=Be,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new oe(o({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),We=function(){function e(e,t,n){this.type="global",this.at=Be,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(8);this.rule=n.jss.createRule(r,t,o({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Ge=/\s*,\s*/g;function He(e,t){for(var n=e.split(Ge),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Ye=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Be)return new qe(e,t,n);if("@"===e[0]&&e.substr(0,8)===ze)return new We(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[Be]:null;if(i){for(var a in i)t.addRule(a,i[a],o({},n,{selector:He(a,e.selector)}));delete r[Be]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,Be.length)===Be){var a=He(i.substr(Be.length),e.selector);t.addRule(a,r[i],o({},n,{selector:a})),delete r[i]}}(e,t))}}},Ke=/\s*,\s*/g,Qe=/&/g,$e=/\$([\w-]+)/g;var Je=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Ke),r=e.split(Ke),i="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<r.length;s++){var u=r[s];i&&(i+=", "),i+=-1!==u.indexOf("&")?u.replace(Qe,o):o+" "+u}return i}function n(e,t,n){if(n)return o({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=o({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,a){if("style"!==i.type)return r;var s,u,c=i,l=c.options.parent;for(var f in r){var h=-1!==f.indexOf("&"),d="@"===f[0];if(h||d){if(s=n(c,l,s),h){var p=t(f,c.selector);u||(u=e(l,a)),p=p.replace($e,u);var v=c.key+"-"+f;"replaceRule"in l?l.replaceRule(v,r[f],o({},s,{selector:p})):l.addRule(v,r[f],o({},s,{selector:p}))}else d&&l.addRule(f,{},s).addRule(c.key,r[f],{selector:c.selector});delete r[f]}}return r}}},Xe=/[A-Z]/g,et=/^ms-/,tt={};function nt(e){return"-"+e.toLowerCase()}var rt=function(e){if(tt.hasOwnProperty(e))return tt[e];var t=e.replace(Xe,nt);return tt[e]=et.test(t)?"-"+t:t};function it(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:rt(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(it):t.fallbacks=it(e.fallbacks)),t}var at=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=it(e[t]);return e}return it(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=rt(t);return t===r?e:(n.prop(r,e),null)}}},ot=Ne&&CSS?CSS.px:"px",st=Ne&&CSS?CSS.ms:"ms",ut=Ne&&CSS?CSS.percent:"%";function ct(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var lt=ct({"animation-delay":st,"animation-duration":st,"background-position":ot,"background-position-x":ot,"background-position-y":ot,"background-size":ot,border:ot,"border-bottom":ot,"border-bottom-left-radius":ot,"border-bottom-right-radius":ot,"border-bottom-width":ot,"border-left":ot,"border-left-width":ot,"border-radius":ot,"border-right":ot,"border-right-width":ot,"border-top":ot,"border-top-left-radius":ot,"border-top-right-radius":ot,"border-top-width":ot,"border-width":ot,"border-block":ot,"border-block-end":ot,"border-block-end-width":ot,"border-block-start":ot,"border-block-start-width":ot,"border-block-width":ot,"border-inline":ot,"border-inline-end":ot,"border-inline-end-width":ot,"border-inline-start":ot,"border-inline-start-width":ot,"border-inline-width":ot,"border-start-start-radius":ot,"border-start-end-radius":ot,"border-end-start-radius":ot,"border-end-end-radius":ot,margin:ot,"margin-bottom":ot,"margin-left":ot,"margin-right":ot,"margin-top":ot,"margin-block":ot,"margin-block-end":ot,"margin-block-start":ot,"margin-inline":ot,"margin-inline-end":ot,"margin-inline-start":ot,padding:ot,"padding-bottom":ot,"padding-left":ot,"padding-right":ot,"padding-top":ot,"padding-block":ot,"padding-block-end":ot,"padding-block-start":ot,"padding-inline":ot,"padding-inline-end":ot,"padding-inline-start":ot,"mask-position-x":ot,"mask-position-y":ot,"mask-size":ot,height:ot,width:ot,"min-height":ot,"max-height":ot,"min-width":ot,"max-width":ot,bottom:ot,left:ot,top:ot,right:ot,inset:ot,"inset-block":ot,"inset-block-end":ot,"inset-block-start":ot,"inset-inline":ot,"inset-inline-end":ot,"inset-inline-start":ot,"box-shadow":ot,"text-shadow":ot,"column-gap":ot,"column-rule":ot,"column-rule-width":ot,"column-width":ot,"font-size":ot,"font-size-delta":ot,"letter-spacing":ot,"text-decoration-thickness":ot,"text-indent":ot,"text-stroke":ot,"text-stroke-width":ot,"word-spacing":ot,motion:ot,"motion-offset":ot,outline:ot,"outline-offset":ot,"outline-width":ot,perspective:ot,"perspective-origin-x":ut,"perspective-origin-y":ut,"transform-origin":ut,"transform-origin-x":ut,"transform-origin-y":ut,"transform-origin-z":ut,"transition-delay":st,"transition-duration":st,"vertical-align":ot,"flex-basis":ot,"shape-margin":ot,size:ot,gap:ot,grid:ot,"grid-gap":ot,"row-gap":ot,"grid-row-gap":ot,"grid-column-gap":ot,"grid-template-rows":ot,"grid-template-columns":ot,"grid-auto-rows":ot,"grid-auto-columns":ot,"box-shadow-x":ot,"box-shadow-y":ot,"box-shadow-blur":ot,"box-shadow-spread":ot,"font-line-height":ot,"text-shadow-x":ot,"text-shadow-y":ot,"text-shadow-blur":ot});function ft(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=ft(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=ft(i,t[i],n);else for(var a in t)t[a]=ft(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||lt[e];return!o||0===t&&o===ot?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var ht=function(e){void 0===e&&(e={});var t=ct(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=ft(r,e[r],t);return e},onChangeValue:function(e,n){return ft(n,e,t)}}},dt=n(3433),pt="",vt="",mt="",yt="",gt=v&&"ontouchstart"in document.documentElement;if(v){var kt={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},bt=document.createElement("p").style;for(var wt in kt)if(wt+"Transform"in bt){pt=wt,vt=kt[wt];break}"Webkit"===pt&&"msHyphens"in bt&&(pt="ms",vt=kt.ms,yt="edge"),"Webkit"===pt&&"-apple-trailing-word"in bt&&(mt="apple")}var xt={js:pt,css:vt,vendor:mt,browser:yt,isTouch:gt};var _t={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===xt.js?"-webkit-"+e:xt.css+e)}},St={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===xt.js?xt.css+"print-"+e:e)}},Et=/[-\s]+(.)?/g;function It(e,t){return t?t.toUpperCase():""}function Tt(e){return e.replace(Et,It)}function Ct(e){return Tt("-"+e)}var Nt,At={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===xt.js){var n="mask-image";if(Tt(n)in t)return e;if(xt.js+Ct(n)in t)return xt.css+e}return e}},Ot={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==xt.vendor||xt.isTouch?e:xt.css+e)}},Dt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:xt.css+e)}},Pt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:xt.css+e)}},Rt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===xt.js||"ms"===xt.js&&"edge"!==xt.browser?xt.css+e:e)}},Mt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===xt.js||"ms"===xt.js||"apple"===xt.vendor?xt.css+e:e)}},Lt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===xt.js?"WebkitColumn"+Ct(e)in t&&xt.css+"column-"+e:"Moz"===xt.js&&("page"+Ct(e)in t&&"page-"+e))}},Ft={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===xt.js)return e;var n=e.replace("-inline","");return xt.js+Ct(n)in t&&xt.css+n}},jt={supportedProperty:function(e,t){return Tt(e)in t&&e}},Ut={supportedProperty:function(e,t){var n=Ct(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:xt.js+n in t?xt.css+e:"Webkit"!==xt.js&&"Webkit"+n in t&&"-webkit-"+e}},Vt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===xt.js?""+xt.css+e:e)}},Zt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===xt.js?xt.css+"scroll-chaining":e)}},Bt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},zt={supportedProperty:function(e,t){var n=Bt[e];return!!n&&(xt.js+Ct(n)in t&&xt.css+n)}},qt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Wt=Object.keys(qt),Gt=function(e){return xt.css+e},Ht={supportedProperty:function(e,t,n){var r=n.multiple;if(Wt.indexOf(e)>-1){var i=qt[e];if(!Array.isArray(i))return xt.js+Ct(i)in t&&xt.css+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(xt.js+Ct(i[0])in t))return!1;return i.map(Gt)}return!1}},Yt=[_t,St,At,Ot,Dt,Pt,Rt,Mt,Lt,Ft,jt,Ut,Vt,Zt,zt,Ht],Kt=Yt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Qt=Yt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,dt.Z)(t.noPrefill)),e}),[]),$t={};if(v){Nt=document.createElement("p");var Jt=window.getComputedStyle(document.documentElement,"");for(var Xt in Jt)isNaN(Xt)||($t[Jt[Xt]]=Jt[Xt]);Qt.forEach((function(e){return delete $t[e]}))}function en(e,t){if(void 0===t&&(t={}),!Nt)return e;if(null!=$t[e])return $t[e];"transition"!==e&&"transform"!==e||(t[e]=e in Nt.style);for(var n=0;n<Kt.length&&($t[e]=Kt[n](e,Nt.style,t),!$t[e]);n++);try{Nt.style[e]=""}catch(r){return!1}return $t[e]}var tn,nn={},rn={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},an=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function on(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?en(t):", "+en(n);return r||(t||n)}function sn(e,t){var n=t;if(!tn||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=nn[r])return nn[r];try{tn.style[e]=n}catch(i){return nn[r]=!1,!1}if(rn[e])n=n.replace(an,on);else if(""===tn.style[e]&&("-ms-flex"===(n=xt.css+n)&&(tn.style[e]="-ms-flexbox"),tn.style[e]=n,""===tn.style[e]))return nn[r]=!1,!1;return tn.style[e]="",nn[r]=n,nn[r]}v&&(tn=document.createElement("p"));var un=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=en(n);a&&a!==n&&(i=!0);var o=!1,s=sn(a,S(r));s&&s!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===xt.js?e:"@"+xt.css+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return sn(t,S(e))||e}}};var cn=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var ln=Ce({plugins:[Ze(),Ye(),Je(),at(),ht(),"undefined"===typeof window?null:un(),cn()]}),fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,s=""===o?"":"".concat(o,"-"),u=0,c=function(){return u+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Fe.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Le]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(s).concat(i).concat(c())}}(),hn={disableGeneration:!1,generateClassName:fn,jss:ln,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},dn=s.createContext(hn);var pn=-1e9;var vn=n(1002);function mn(e){return e&&"object"===(0,vn.Z)(e)&&e.constructor===Object}function yn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?o({},e):e;return mn(e)&&mn(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(mn(t[i])&&i in e?r[i]=yn(e[i],t[i],n):r[i]=t[i])})),r}var gn={};function kn(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,a=e.stylesCreator,s=e.name;if(!i.disableGeneration){var u=Pe.get(i.sheetsManager,a,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},Pe.set(i.sheetsManager,a,r,u));var c=o({},a.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=i.sheetsRegistry;if(0===u.refs){var f;i.sheetsCache&&(f=Pe.get(i.sheetsCache,a,r));var h=a.create(r,s);f||((f=i.jss.createStyleSheet(h,o({link:!1},c))).attach(),i.sheetsCache&&Pe.set(i.sheetsCache,a,r,f)),l&&l.add(f),u.staticSheet=f,u.dynamicStyles=Ae(h)}if(u.dynamicStyles){var d=i.jss.createStyleSheet(u.dynamicStyles,o({link:!0},c));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=Oe({baseClasses:u.staticSheet.classes,newClasses:d.classes}),l&&l.add(d)}else n.classes=u.staticSheet.classes;u.refs+=1}}function bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=t.classNamePrefix,i=t.Component,a=t.defaultTheme,u=void 0===a?gn:a,l=c(t,["name","classNamePrefix","Component","defaultTheme"]),f=function(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(u){throw u}if(!r||!n.overrides||!n.overrides[r])return i;var a=n.overrides[r],s=o({},i);return Object.keys(a).forEach((function(e){s[e]=yn(s[e],a[e])})),s},options:{}}}(e),h=n||r||"makeStyles";f.options={index:pn+=1,name:n,meta:h,classNamePrefix:h};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Me()||u,r=o({},s.useContext(dn),l),a=s.useRef(),c=s.useRef();!function(e,t){var n,r=s.useRef([]),i=s.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),s.useEffect((function(){return function(){n&&n()}}),[i])}((function(){var i={name:n,state:{},stylesCreator:f,stylesOptions:r,theme:t};return kn(i,e),c.current=!1,a.current=i,function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Pe.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Pe.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}(i)}}),[t,f]),s.useEffect((function(){c.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(a.current,e),c.current=!0}));var h=function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Oe({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(a.current,e.classes,i);return h}}var wn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=t.defaultTheme,i=t.withTheme,a=void 0!==i&&i,u=t.name,l=c(t,["defaultTheme","withTheme","name"]);var f=u,h=bn(e,o({defaultTheme:r,Component:n,name:u||n.displayName,classNamePrefix:f},l)),p=s.forwardRef((function(e,t){e.classes;var i,l=e.innerRef,f=c(e,["classes","innerRef"]),d=h(o({},n.defaultProps,e)),p=f;return("string"===typeof u||a)&&(i=Me()||r,u&&(p=function(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}({theme:i,name:u,props:f})),a&&!p.theme&&(p.theme=i)),s.createElement(n,o({ref:l||t,classes:d},p))}));return d()(p,n),p}},xn=["xs","sm","md","lg","xl"];var _n=n(4942);function Sn(e,t,n){var r;return o({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),o({paddingLeft:t(2),paddingRight:t(2)},n,(0,_n.Z)({},e.up("sm"),o({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},(0,_n.Z)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,_n.Z)(r,e.up("sm"),{minHeight:64}),r)},n)}var En={black:"#000",white:"#fff"},In={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Tn={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Cn={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Nn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},An={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},On={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Dn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Rn(e){if(e.type)return e;if("#"===e.charAt(0))return Rn(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(r(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function Mn(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function Ln(e){var t="hsl"===(e=Rn(e)).type?Rn(function(e){var t=(e=Rn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),Mn({type:s,values:u})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Fn(e,t){if(e=Rn(e),t=Pn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Mn(e)}function jn(e,t){if(e=Rn(e),t=Pn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return Mn(e)}var Un={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:En.white,default:In[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Vn={text:{primary:En.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:In[800],default:"#303030"},action:{active:En.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Zn(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=jn(e.main,i):"dark"===t&&(e.dark=Fn(e.main,a)))}function Bn(e){var t=e.primary,n=void 0===t?{light:Tn[300],main:Tn[500],dark:Tn[700]}:t,i=e.secondary,a=void 0===i?{light:Cn.A200,main:Cn.A400,dark:Cn.A700}:i,s=e.error,u=void 0===s?{light:Nn[300],main:Nn[500],dark:Nn[700]}:s,l=e.warning,f=void 0===l?{light:An[300],main:An[500],dark:An[700]}:l,h=e.info,d=void 0===h?{light:On[300],main:On[500],dark:On[700]}:h,p=e.success,v=void 0===p?{light:Dn[300],main:Dn[500],dark:Dn[700]}:p,m=e.type,y=void 0===m?"light":m,g=e.contrastThreshold,k=void 0===g?3:g,b=e.tonalOffset,w=void 0===b?.2:b,x=c(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function _(e){var t=function(e,t){var n=Ln(e),r=Ln(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Vn.text.primary)>=k?Vn.text.primary:Un.text.primary;return t}var S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=o({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(r(4,t));if("string"!==typeof e.main)throw new Error(r(5,JSON.stringify(e.main)));return Zn(e,"light",n,w),Zn(e,"dark",i,w),e.contrastText||(e.contrastText=_(e.main)),e},E={dark:Vn,light:Un};return yn(o({common:En,type:y,primary:S(n),secondary:S(a,"A400","A200","A700"),error:S(u),warning:S(f),info:S(d),success:S(v),grey:In,contrastThreshold:k,getContrastText:_,augmentColor:S,tonalOffset:w},E[y]),x)}function zn(e){return Math.round(1e5*e)/1e5}function qn(e){return zn(e)}var Wn={textTransform:"uppercase"},Gn='"Roboto", "Helvetica", "Arial", sans-serif';function Hn(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?Gn:r,a=n.fontSize,s=void 0===a?14:a,u=n.fontWeightLight,l=void 0===u?300:u,f=n.fontWeightRegular,h=void 0===f?400:f,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,k=n.allVariants,b=n.pxToRem,w=c(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var x=s/14,_=b||function(e){return"".concat(e/g*x,"rem")},S=function(e,t,n,r,a){return o({fontFamily:i,fontWeight:e,fontSize:_(t),lineHeight:n},i===Gn?{letterSpacing:"".concat(zn(r/t),"em")}:{},a,k)},E={h1:S(l,96,1.167,-1.5),h2:S(l,60,1.2,-.5),h3:S(h,48,1.167,0),h4:S(h,34,1.235,.25),h5:S(h,24,1.334,0),h6:S(p,20,1.6,.15),subtitle1:S(h,16,1.75,.15),subtitle2:S(p,14,1.57,.1),body1:S(h,16,1.5,.15),body2:S(h,14,1.43,.15),button:S(p,14,1.75,.4,Wn),caption:S(h,12,1.66,.4),overline:S(h,12,2.66,1,Wn)};return yn(o({htmlFontSize:g,pxToRem:_,round:qn,fontFamily:i,fontSize:s,fontWeightLight:l,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:m},E),w,{clone:!1})}function Yn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Kn=["none",Yn(0,2,1,-1,0,1,1,0,0,1,3,0),Yn(0,3,1,-2,0,2,2,0,0,1,5,0),Yn(0,3,3,-2,0,3,4,0,0,1,8,0),Yn(0,2,4,-1,0,4,5,0,0,1,10,0),Yn(0,3,5,-1,0,5,8,0,0,1,14,0),Yn(0,3,5,-1,0,6,10,0,0,1,18,0),Yn(0,4,5,-2,0,7,10,1,0,2,16,1),Yn(0,5,5,-3,0,8,10,1,0,3,14,2),Yn(0,5,6,-3,0,9,12,1,0,3,16,2),Yn(0,6,6,-3,0,10,14,1,0,4,18,3),Yn(0,6,7,-4,0,11,15,1,0,4,20,3),Yn(0,7,8,-4,0,12,17,2,0,5,22,4),Yn(0,7,8,-4,0,13,19,2,0,5,24,4),Yn(0,7,9,-4,0,14,21,2,0,5,26,4),Yn(0,8,9,-5,0,15,22,2,0,6,28,5),Yn(0,8,10,-5,0,16,24,2,0,6,30,5),Yn(0,8,11,-5,0,17,26,2,0,6,32,5),Yn(0,9,11,-5,0,18,28,2,0,7,34,6),Yn(0,9,12,-6,0,19,29,2,0,7,36,6),Yn(0,10,13,-6,0,20,31,3,0,8,38,7),Yn(0,10,13,-6,0,21,33,3,0,8,40,7),Yn(0,10,14,-6,0,22,35,3,0,8,42,7),Yn(0,11,14,-7,0,23,36,3,0,9,44,8),Yn(0,11,15,-7,0,24,38,3,0,9,46,8)],Qn={borderRadius:4},$n=n(9439),Jn={xs:0,sm:600,md:960,lg:1280,xl:1920},Xn={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Jn[e],"px)")}};var er=function(e,t){return t?yn(e,t,{clone:!1}):e};var tr={m:"margin",p:"padding"},nr={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},rr={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ir=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!rr[e])return[e];e=rr[e]}var t=e.split(""),n=(0,$n.Z)(t,2),r=n[0],i=n[1],a=tr[r],o=nr[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),ar=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function or(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function sr(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function ur(e){var t=or(e.theme);return Object.keys(e).map((function(n){if(-1===ar.indexOf(n))return null;var r=sr(ir(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||Xn;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===(0,vn.Z)(t)){var i=e.theme.breakpoints||Xn;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(er,{})}ur.propTypes={},ur.filterProps=ar;var cr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},lr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function fr(e){return"".concat(Math.round(e),"ms")}var hr={easing:cr,duration:lr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?lr.standard:n,i=t.easing,a=void 0===i?cr.easeInOut:i,o=t.delay,s=void 0===o?0:o;c(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:fr(r)," ").concat(a," ").concat("string"===typeof s?s:fr(s))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},dr={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function pr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,a=e.palette,s=void 0===a?{}:a,u=e.spacing,l=e.typography,f=void 0===l?{}:l,h=c(e,["breakpoints","mixins","palette","spacing","typography"]),d=Bn(s),p=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,s=void 0===a?5:a,u=c(e,["values","unit","step"]);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e,t){var r=xn.indexOf(t);return r===xn.length-1?l(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[xn[r+1]]?n[xn[r+1]]:t)-s/100).concat(i,")")}return o({keys:xn,values:n,up:l,down:function(e){var t=xn.indexOf(e)+1,r=n[xn[t]];return t===xn.length?l("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-s/100).concat(i,")")},between:f,only:function(e){return f(e,e)},width:function(e){return n[e]}},u)}(n),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=or({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}(u),m=yn({breakpoints:p,direction:"ltr",mixins:Sn(p,v,i),overrides:{},palette:d,props:{},shadows:Kn,typography:Hn(d,f),spacing:v,shape:Qn,transitions:hr,zIndex:dr},h),y=arguments.length,g=new Array(y>1?y-1:0),k=1;k<y;k++)g[k-1]=arguments[k];return m=g.reduce((function(e,t){return yn(e,t)}),m)}var vr=pr();var mr=function(e,t){return wn(e,o({defaultTheme:vr},t))},yr=s.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,u=e.color,l=void 0===u?"inherit":u,h=e.component,d=void 0===h?"svg":h,p=e.fontSize,v=void 0===p?"medium":p,m=e.htmlColor,y=e.titleAccess,g=e.viewBox,k=void 0===g?"0 0 24 24":g,b=c(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return s.createElement(d,o({className:f(r.root,a,"inherit"!==l&&r["color".concat(i(l))],"default"!==v&&"medium"!==v&&r["fontSize".concat(i(v))]),focusable:"false",viewBox:k,color:m,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},b),n,y?s.createElement("title",null,y):null)}));yr.muiName="SvgIcon";var gr=mr((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(yr);function kr(e,t){var n=function(t,n){return s.createElement(gr,o({ref:n},t),e)};return n.muiName=gr.muiName,s.memo(s.forwardRef(n))}function br(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this;clearTimeout(t),t=setTimeout((function(){e.apply(o,i)}),n)}return r.clear=function(){clearTimeout(t)},r}function wr(e,t){return function(){return null}}function xr(e,t){return s.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}function _r(e){return e&&e.ownerDocument||document}function Sr(e){return _r(e).defaultView||window}function Er(e){return function(){return null}}function Ir(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Tr(e,t,n,r,i){return null}function Cr(e){var t=e.controlled,n=e.default,r=(e.name,e.state,s.useRef(void 0!==t).current),i=s.useState(n),a=i[0],o=i[1];return[r?t:a,s.useCallback((function(e){r||o(e)}),[])]}var Nr="undefined"!==typeof window?s.useLayoutEffect:s.useEffect;function Ar(e){var t=s.useRef(e);return Nr((function(){t.current=e})),s.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}function Or(e,t){return s.useMemo((function(){return null==e&&null==t?null:function(n){Ir(e,n),Ir(t,n)}}),[e,t])}function Dr(e){var t=s.useState(e),n=t[0],r=t[1],i=e||n;return s.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),i}var Pr=n(4164),Rr=!0,Mr=!1,Lr=null,Fr={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function jr(e){e.metaKey||e.altKey||e.ctrlKey||(Rr=!0)}function Ur(){Rr=!1}function Vr(){"hidden"===this.visibilityState&&Mr&&(Rr=!0)}function Zr(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Rr||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Fr[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function Br(){Mr=!0,window.clearTimeout(Lr),Lr=window.setTimeout((function(){Mr=!1}),100)}function zr(){return{isFocusVisible:Zr,onBlurVisible:Br,ref:s.useCallback((function(e){var t,n=Pr.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",jr,!0),t.addEventListener("mousedown",Ur,!0),t.addEventListener("pointerdown",Ur,!0),t.addEventListener("touchstart",Ur,!0),t.addEventListener("visibilitychange",Vr,!0))}),[])}}},3880:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},6208:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M17.21 9l-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"ShoppingBasket");t.Z=o},4894:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(6438)},5764:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return s(e)||u(e,t)||c(e,t)||f()}function s(e){if(Array.isArray(e))return e}function u(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}function c(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var d="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function p(){}function v(){}v.resetWarningCache=p;var m=function(){function e(e,t,n,r,i,a){if(a!==d){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:v,resetWarningCache:p};return n.PropTypes=n,n},y=h((function(e){e.exports=m()})),g=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},k=function(e){return null!==e&&"object"===i(e)},b=function(e){return k(e)&&"function"===typeof e.then},w=function(e){return k(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},x="[object Object]",_=function e(t,n){if(!k(t)||!k(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===x;if(i!==(Object.prototype.toString.call(n)===x))return!1;if(!i&&!r)return t===n;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(var s={},u=0;u<a.length;u+=1)s[a[u]]=!0;for(var c=0;c<o.length;c+=1)s[o[c]]=!0;var l=Object.keys(s);if(l.length!==a.length)return!1;var f=t,h=n,d=function(t){return e(f[t],h[t])};return l.every(d)},S=function(e,t,n){return k(e)?Object.keys(e).reduce((function(i,o){var s=!k(t)||!_(e[o],t[o]);return n.includes(o)?(s&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):s?r(r({},i||{}),{},a({},o,e[o])):i}),null):null},E="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",I=function(e){if(null===e||w(e))return e;throw new Error(E)},T=function(e){if(b(e))return{tag:"async",stripePromise:Promise.resolve(e).then(I)};var t=I(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},C=t.createContext(null);C.displayName="ElementsContext";var N=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},A=t.createContext(null);A.displayName="CartElementContext";var O=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},D=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useMemo((function(){return T(n)}),[n]),s=o(t.useState(null),2),u=s[0],c=s[1],l=o(t.useState(null),2),f=l[0],h=l[1],d=o(t.useState((function(){return{stripe:"sync"===a.tag?a.stripe:null,elements:"sync"===a.tag?a.stripe.elements(r):null}})),2),p=d[0],v=d[1];t.useEffect((function(){var e=!0,t=function(e){v((function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}}))};return"async"!==a.tag||p.stripe?"sync"!==a.tag||p.stripe||t(a.stripe):a.stripePromise.then((function(n){n&&e&&t(n)})),function(){e=!1}}),[a,p,r]);var m=g(n);t.useEffect((function(){null!==m&&m!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[m,n]);var y=g(r);return t.useEffect((function(){if(p.elements){var e=S(r,y,["clientSecret","fonts"]);e&&p.elements.update(e)}}),[r,y,p.elements]),t.useEffect((function(){var e=p.stripe;e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"1.16.5"}),e.registerAppInfo({name:"react-stripe-js",version:"1.16.5",url:"https://stripe.com/docs/stripe-js/react"}))}),[p.stripe]),t.createElement(C.Provider,{value:p},t.createElement(A.Provider,{value:{cart:u,setCart:c,cartState:f,setCartState:h}},i))};D.propTypes={stripe:y.any,options:y.object};var P=function(e){var n=t.useContext(C);return N(n,e)},R=function(e){var n=t.useContext(A);return O(n,e)},M=function(){return P("calls useElements()").elements},L=function(){return P("calls useStripe()").stripe},F=function(){return R("calls useCartElement()").cart},j=function(){return R("calls useCartElementState()").cartState},U=function(e){return(0,e.children)(P("mounts <ElementsConsumer>"))};U.propTypes={children:y.func.isRequired};var V=function(e,n,r){var i=!!r,a=t.useRef(r);t.useEffect((function(){a.current=r}),[r]),t.useEffect((function(){if(!i||!e)return function(){};var t=function(){a.current&&a.current.apply(a,arguments)};return e.on(n,t),function(){e.off(n,t)}}),[i,n,e,a])},Z=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},B=function(e,n){var r="".concat(Z(e),"Element"),i=n?function(e){P("mounts <".concat(r,">")),R("mounts <".concat(r,">"));var n=e.id,i=e.className;return t.createElement("div",{id:n,className:i})}:function(n){var i,a=n.id,s=n.className,u=n.options,c=void 0===u?{}:u,l=n.onBlur,f=n.onFocus,h=n.onReady,d=n.onChange,p=n.onEscape,v=n.onClick,m=n.onLoadError,y=n.onLoaderStart,k=n.onNetworksChange,b=n.onCheckout,w=n.onLineItemClick,x=n.onConfirm,_=n.onCancel,E=n.onShippingAddressChange,I=n.onShippingRateChange,T=P("mounts <".concat(r,">")).elements,C=o(t.useState(null),2),N=C[0],A=C[1],O=t.useRef(null),D=t.useRef(null),M=R("mounts <".concat(r,">")),L=M.setCart,F=M.setCartState;V(N,"blur",l),V(N,"focus",f),V(N,"escape",p),V(N,"click",v),V(N,"loaderror",m),V(N,"loaderstart",y),V(N,"networkschange",k),V(N,"lineitemclick",w),V(N,"confirm",x),V(N,"cancel",_),V(N,"shippingaddresschange",E),V(N,"shippingratechange",I),"cart"===e?i=function(e){F(e),h&&h(e)}:h&&(i="payButton"===e?h:function(){h(N)}),V(N,"ready",i),V(N,"change","cart"===e?function(e){F(e),d&&d(e)}:d),V(N,"checkout","cart"===e?function(e){F(e),b&&b(e)}:b),t.useLayoutEffect((function(){if(null===O.current&&T&&null!==D.current){var t=T.create(e,c);"cart"===e&&L&&L(t),O.current=t,A(t),t.mount(D.current)}}),[T,c,L]);var j=g(c);return t.useEffect((function(){if(O.current){var e=S(c,j,["paymentRequest"]);e&&O.current.update(e)}}),[c,j]),t.useLayoutEffect((function(){return function(){O.current&&(O.current.destroy(),O.current=null)}}),[]),t.createElement("div",{id:a,className:s,ref:D})};return i.propTypes={id:y.string,className:y.string,onChange:y.func,onBlur:y.func,onFocus:y.func,onReady:y.func,onEscape:y.func,onClick:y.func,onLoadError:y.func,onLoaderStart:y.func,onNetworksChange:y.func,onCheckout:y.func,onLineItemClick:y.func,onConfirm:y.func,onCancel:y.func,onShippingAddressChange:y.func,onShippingRateChange:y.func,options:y.object},i.displayName=r,i.__elementType=e,i},z="undefined"===typeof window,q=B("auBankAccount",z),W=B("card",z),G=B("cardNumber",z),H=B("cardExpiry",z),Y=B("cardCvc",z),K=B("fpxBank",z),Q=B("iban",z),$=B("idealBank",z),J=B("p24Bank",z),X=B("epsBank",z),ee=B("payment",z),te=B("payButton",z),ne=B("paymentRequestButton",z),re=B("linkAuthentication",z),ie=B("address",z),ae=B("shippingAddress",z),oe=B("cart",z),se=B("paymentMethodMessaging",z),ue=B("affirmMessage",z),ce=B("afterpayClearpayMessage",z);e.AddressElement=ie,e.AffirmMessageElement=ue,e.AfterpayClearpayMessageElement=ce,e.AuBankAccountElement=q,e.CardCvcElement=Y,e.CardElement=W,e.CardExpiryElement=H,e.CardNumberElement=G,e.CartElement=oe,e.Elements=D,e.ElementsConsumer=U,e.EpsBankElement=X,e.FpxBankElement=K,e.IbanElement=Q,e.IdealBankElement=$,e.LinkAuthenticationElement=re,e.P24BankElement=J,e.PayButtonElement=te,e.PaymentElement=ee,e.PaymentMethodMessagingElement=se,e.PaymentRequestButtonElement=ne,e.ShippingAddressElement=ae,e.useCartElement=F,e.useCartElementState=j,e.useElements=M,e.useStripe=L,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(2791))},4569:function(e,t,n){e.exports=n(8036)},3381:function(e,t,n){"use strict";var r=n(3589),i=n(7297),a=n(9301),o=n(9774),s=n(1804),u=n(9145),c=n(5411),l=n(6467);e.exports=function(e){return new Promise((function(t,n){var f=e.data,h=e.headers,d=e.responseType;r.isFormData(f)&&delete h["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(v+":"+m)}var y=s(e.baseURL,e.url);function g(){if(p){var r="getAllResponseHeaders"in p?u(p.getAllResponseHeaders()):null,a={data:d&&"text"!==d&&"json"!==d?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};i(t,n,a),p=null}}if(p.open(e.method.toUpperCase(),o(y,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(n(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var k=(e.withCredentials||c(y))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;k&&(h[e.xsrfHeaderName]=k)}"setRequestHeader"in p&&r.forEach(h,(function(e,t){"undefined"===typeof f&&"content-type"===t.toLowerCase()?delete h[t]:p.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),d&&"json"!==d&&(p.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),n(e),p=null)})),f||(f=null),p.send(f)}))}},8036:function(e,t,n){"use strict";var r=n(3589),i=n(4049),a=n(3773),o=n(777);function s(e){var t=new a(e),n=i(a.prototype.request,t);return r.extend(n,a.prototype,t),r.extend(n,t),n}var u=s(n(221));u.Axios=a,u.create=function(e){return s(o(u.defaults,e))},u.Cancel=n(9346),u.CancelToken=n(6857),u.isCancel=n(5517),u.all=function(e){return Promise.all(e)},u.spread=n(8089),u.isAxiosError=n(9580),e.exports=u,e.exports.default=u},9346:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},6857:function(e,t,n){"use strict";var r=n(9346);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),i=n(9774),a=n(7470),o=n(2733),s=n(777),u=n(7835),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&u.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!r){var l=[o,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(a),i=Promise.resolve(e);l.length;)i=i.then(l.shift(),l.shift());return i}for(var f=e;n.length;){var h=n.shift(),d=n.shift();try{f=h(f)}catch(p){d(p);break}}try{i=o(f)}catch(p){return Promise.reject(p)}for(;a.length;)i=i.then(a.shift(),a.shift());return i},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},7470:function(e,t,n){"use strict";var r=n(3589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},1804:function(e,t,n){"use strict";var r=n(4044),i=n(9549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},6467:function(e,t,n){"use strict";var r=n(6460);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},2733:function(e,t,n){"use strict";var r=n(3589),i=n(2693),a=n(5517),o=n(221);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6460:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],a=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(a,c),r.forEach(o,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(void 0,t[i])})),r.forEach(s,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var l=i.concat(a).concat(o).concat(s),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(f,c),n}},7297:function(e,t,n){"use strict";var r=n(6467);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),i=n(221);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},221:function(e,t,n){"use strict";var r=n(3589),i=n(4341),a=n(6460),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(3381)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o){if("SyntaxError"===s.name)throw a(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(o)})),e.exports=u},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},9580:function(e){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},9145:function(e,t,n){"use strict";var r=n(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7835:function(e,t,n){"use strict";var r=n(8593),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={},o=r.version.split(".");function s(e,t){for(var n=t?t.split("."):o,r=e.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}i.transitional=function(e,t,n){var i=t&&s(t);function o(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(o(r," has been removed in "+t));return i&&!a[r]&&(a[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new TypeError("option "+a+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+a)}},validators:i}},3589:function(e,t,n){"use strict";var r=n(4049),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function o(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:u,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):a(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},2426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function d(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Yn(e,t,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(e){return null==e._pf&&(e._pf=v()),e._pf}function y(e){if(null==e._isValid){var t=m(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=p(NaN);return null!=e?d(m(t),e):m(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var k=r.momentProperties=[],b=!1;function w(e,t){var n,r,i,a=k.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=m(t)),c(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)c(i=t[r=k[n]])||(e[r]=i);return e}function x(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function _(e){return e instanceof x||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,a,o,u=[],c=arguments.length;for(a=0;a<c;a++){if(i="","object"===typeof arguments[a]){for(o in i+="\n["+a+"] ",arguments[0])s(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];u.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var I,T={};function C(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),T[e]||(S(t),T[e]=!0)}function N(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e){var t,n;for(n in e)s(e,n)&&(N(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function O(e,t){var n,r=d({},e);for(n in t)s(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&o(e[n])&&(r[n]=d({},r[n]));return r}function D(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,I=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var P={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function R(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return N(r)?r.call(t,n):r}function M(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},U={};function V(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(U[e]=i),t&&(U[t[0]]=function(){return M(i.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function B(e){var t,n,r=e.match(L);for(t=0,n=r.length;t<n;t++)U[r[t]]?r[t]=U[r[t]]:r[t]=Z(r[t]);return function(t){var i,a="";for(i=0;i<n;i++)a+=N(r[i])?r[i].call(t,e):r[i];return a}}function z(e,t){return e.isValid()?(t=q(t,e.localeData()),j[t]=j[t]||B(t),j[t](e)):e.localeData().invalidDate()}function q(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;n>=0&&F.test(e);)e=e.replace(F,r),F.lastIndex=0,n-=1;return e}var W={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function G(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var H="Invalid date";function Y(){return this._invalidDate}var K="%d",Q=/\d{1,2}/;function $(e){return this._ordinal.replace("%d",e)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function X(e,t,n,r){var i=this._relativeTime[n];return N(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return N(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)s(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ae={};function oe(e,t){ae[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:ae[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function ue(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function le(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function fe(e,t){return function(n){return null!=n?(de(this,e,n),r.updateOffset(this,t),this):he(this,e)}}function he(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function de(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(n=le(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Xe(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return N(this[e=re(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var n,r=se(e=ie(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(N(this[e=re(e)]))return this[e](t);return this}var me,ye=/\d/,ge=/\d\d/,ke=/\d{3}/,be=/\d{4}/,we=/[+-]?\d{6}/,xe=/\d\d?/,_e=/\d\d\d\d?/,Se=/\d\d\d\d\d\d?/,Ee=/\d{1,3}/,Ie=/\d{1,4}/,Te=/[+-]?\d{1,6}/,Ce=/\d+/,Ne=/[+-]?\d+/,Ae=/Z|[+-]\d\d:?\d\d/gi,Oe=/Z|[+-]\d\d(?::?\d\d)?/gi,De=/[+-]?\d+(\.\d{1,3})?/,Pe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Re(e,t,n){me[e]=N(t)?t:function(e,r){return e&&n?n:t}}function Me(e,t){return s(me,e)?me[e](t._strict,t._locale):new RegExp(Le(e))}function Le(e){return Fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}me={};var je={};function Ue(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),l(t)&&(i=function(e,n){n[t]=le(e)}),r=e.length,n=0;n<r;n++)je[e[n]]=i}function Ve(e,t){Ue(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Ze(e,t,n){null!=t&&s(je,e)&&je[e](t,n._a,n,e)}var Be,ze=0,qe=1,We=2,Ge=3,He=4,Ye=5,Ke=6,Qe=7,$e=8;function Je(e,t){return(e%t+t)%t}function Xe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Je(t,12);return e+=(t-n)/12,1===n?ue(e)?29:28:31-n%7%2}Be=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),Re("M",xe),Re("MM",xe,ge),Re("MMM",(function(e,t){return t.monthsShortRegex(e)})),Re("MMMM",(function(e,t){return t.monthsRegex(e)})),Ue(["M","MM"],(function(e,t){t[qe]=le(e)-1})),Ue(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[qe]=i:m(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Pe,it=Pe;function at(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function ot(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Be.call(this._shortMonthsParse,o))?i:null:-1!==(i=Be.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Be.call(this._shortMonthsParse,o))||-1!==(i=Be.call(this._longMonthsParse,o))?i:null:-1!==(i=Be.call(this._longMonthsParse,o))||-1!==(i=Be.call(this._shortMonthsParse,o))?i:null}function ut(e,t,n){var r,i,a;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=le(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Xe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function lt(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):he(this,"Month")}function ft(){return Xe(this.year(),this.month())}function ht(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function dt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=Fe(r[t]),i[t]=Fe(i[t]);for(t=0;t<24;t++)a[t]=Fe(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(e){return ue(e)?366:365}V("Y",0,0,(function(){var e=this.year();return e<=9999?M(e,4):"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),Re("Y",Ne),Re("YY",xe,ge),Re("YYYY",Ie,be),Re("YYYYY",Te,we),Re("YYYYYY",Te,we),Ue(["YYYYY","YYYYYY"],ze),Ue("YYYY",(function(e,t){t[ze]=2===e.length?r.parseTwoDigitYear(e):le(e)})),Ue("YY",(function(e,t){t[ze]=r.parseTwoDigitYear(e)})),Ue("Y",(function(e,t){t[ze]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return le(e)+(le(e)>68?1900:2e3)};var mt=fe("FullYear",!0);function yt(){return ue(this.year())}function gt(e,t,n,r,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,a,o),s}function kt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function bt(e,t,n){var r=7+t-n;return-(7+kt(e,0,r).getUTCDay()-t)%7+r-1}function wt(e,t,n,r,i){var a,o,s=1+7*(t-1)+(7+n-r)%7+bt(e,r,i);return s<=0?o=vt(a=e-1)+s:s>vt(e)?(a=e+1,o=s-vt(e)):(a=e,o=s),{year:a,dayOfYear:o}}function xt(e,t,n){var r,i,a=bt(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+_t(i=e.year()-1,t,n):o>_t(e.year(),t,n)?(r=o-_t(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function _t(e,t,n){var r=bt(e,t,n),i=bt(e+1,t,n);return(vt(e)-r+i)/7}function St(e){return xt(e,this._week.dow,this._week.doy).week}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),Re("w",xe),Re("ww",xe,ge),Re("W",xe),Re("WW",xe,ge),Ve(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=le(e)}));var Et={dow:0,doy:6};function It(){return this._week.dow}function Tt(){return this._week.doy}function Ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Nt(e){var t=xt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function At(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Ot(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Dt(e,t){return e.slice(t,7).concat(e.slice(0,t))}V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),Re("d",xe),Re("e",xe),Re("E",xe),Re("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Re("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Re("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ve(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:m(n).invalidWeekday=e})),Ve(["d","e","E"],(function(e,t,n,r){t[r]=le(e)}));var Pt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Rt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lt=Pe,Ft=Pe,jt=Pe;function Ut(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Dt(n,this._week.dow):e?n[e.day()]:n}function Vt(e){return!0===e?Dt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Zt(e){return!0===e?Dt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Bt(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Be.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Be.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._shortWeekdaysParse,o))||-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Be.call(this._shortWeekdaysParse,o))||-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Be.call(this._minWeekdaysParse,o))||-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._shortWeekdaysParse,o))?i:null}function zt(e,t,n){var r,i,a;if(this._weekdaysParseExact)return Bt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function qt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=At(e,this.localeData()),this.add(e-t,"d")):t}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Gt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ot(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ht(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Lt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Yt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ft),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Kt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=jt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qt(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Fe(this.weekdaysMin(n,"")),i=Fe(this.weekdaysShort(n,"")),a=Fe(this.weekdays(n,"")),o.push(r),s.push(i),u.push(a),c.push(r),c.push(i),c.push(a);o.sort(e),s.sort(e),u.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function $t(){return this.hours()%12||12}function Jt(){return this.hours()||24}function Xt(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,$t),V("k",["kk",2],0,Jt),V("hmm",0,0,(function(){return""+$t.apply(this)+M(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+$t.apply(this)+M(this.minutes(),2)+M(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+M(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+M(this.minutes(),2)+M(this.seconds(),2)})),Xt("a",!0),Xt("A",!1),ne("hour","h"),oe("hour",13),Re("a",en),Re("A",en),Re("H",xe),Re("h",xe),Re("k",xe),Re("HH",xe,ge),Re("hh",xe,ge),Re("kk",xe,ge),Re("hmm",_e),Re("hmmss",Se),Re("Hmm",_e),Re("Hmmss",Se),Ue(["H","HH"],Ge),Ue(["k","kk"],(function(e,t,n){var r=le(e);t[Ge]=24===r?0:r})),Ue(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ue(["h","hh"],(function(e,t,n){t[Ge]=le(e),m(n).bigHour=!0})),Ue("hmm",(function(e,t,n){var r=e.length-2;t[Ge]=le(e.substr(0,r)),t[He]=le(e.substr(r)),m(n).bigHour=!0})),Ue("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ge]=le(e.substr(0,r)),t[He]=le(e.substr(r,2)),t[Ye]=le(e.substr(i)),m(n).bigHour=!0})),Ue("Hmm",(function(e,t,n){var r=e.length-2;t[Ge]=le(e.substr(0,r)),t[He]=le(e.substr(r))})),Ue("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ge]=le(e.substr(0,r)),t[He]=le(e.substr(r,2)),t[Ye]=le(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=fe("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,sn={calendar:P,longDateFormat:W,invalidDate:H,ordinal:K,dayOfMonthOrdinalParse:Q,relativeTime:J,months:et,monthsShort:tt,week:Et,weekdays:Pt,weekdaysMin:Mt,weekdaysShort:Rt,meridiemParse:nn},un={},cn={};function ln(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=fn(e[a]).split("-")).length,n=(n=fn(e[a+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&ln(i,n)>=t-1)break;t--}a++}return on}function dn(e){return null!=e.match("^[^/\\\\]*$")}function pn(t){var n=null;if(void 0===un[t]&&e&&e.exports&&dn(t))try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),vn(n)}catch(r){un[t]=null}return un[t]}function vn(e,t){var n;return e&&((n=c(t)?gn(e):mn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function mn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=un[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new D(O(r,t)),cn[e]&&cn[e].forEach((function(e){mn(e.name,e.config)})),vn(e),un[e]}return delete un[e],null}function yn(e,t){if(null!=t){var n,r,i=sn;null!=un[e]&&null!=un[e].parentLocale?un[e].set(O(un[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=O(i,t),null==r&&(t.abbr=e),(n=new D(t)).parentLocale=un[e],un[e]=n),vn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===vn()&&vn(e)):null!=un[e]&&delete un[e]);return un[e]}function gn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!a(e)){if(t=pn(e))return t;e=[e]}return hn(e)}function kn(){return I(un)}function bn(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[qe]<0||n[qe]>11?qe:n[We]<1||n[We]>Xe(n[ze],n[qe])?We:n[Ge]<0||n[Ge]>24||24===n[Ge]&&(0!==n[He]||0!==n[Ye]||0!==n[Ke])?Ge:n[He]<0||n[He]>59?He:n[Ye]<0||n[Ye]>59?Ye:n[Ke]<0||n[Ke]>999?Ke:-1,m(e)._overflowDayOfYear&&(t<ze||t>We)&&(t=We),m(e)._overflowWeeks&&-1===t&&(t=Qe),m(e)._overflowWeekday&&-1===t&&(t=$e),m(e).overflow=t),e}var wn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_n=/Z|[+-]\d\d(?::?\d\d)?/,Sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],En=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],In=/^\/?Date\((-?\d+)/i,Tn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Nn(e){var t,n,r,i,a,o,s=e._i,u=wn.exec(s)||xn.exec(s),c=Sn.length,l=En.length;if(u){for(m(e).iso=!0,t=0,n=c;t<n;t++)if(Sn[t][1].exec(u[1])){i=Sn[t][0],r=!1!==Sn[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=l;t<n;t++)if(En[t][1].exec(u[3])){a=(u[2]||" ")+En[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(u[4]){if(!_n.exec(u[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),Zn(e)}else e._isValid=!1}function An(e,t,n,r,i,a){var o=[On(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function On(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Dn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Pn(e,t,n){return!e||Rt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Rn(e,t,n){if(e)return Cn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Mn(e){var t,n=Tn.exec(Dn(e._i));if(n){if(t=An(n[4],n[3],n[2],n[5],n[6],n[7]),!Pn(n[1],t,e))return;e._a=t,e._tzm=Rn(n[8],n[9],n[10]),e._d=kt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function Ln(e){var t=In.exec(e._i);null===t?(Nn(e),!1===e._isValid&&(delete e._isValid,Mn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Fn(e,t,n){return null!=e?e:null!=t?t:n}function jn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Un(e){var t,n,r,i,a,o=[];if(!e._d){for(r=jn(e),e._w&&null==e._a[We]&&null==e._a[qe]&&Vn(e),null!=e._dayOfYear&&(a=Fn(e._a[ze],r[ze]),(e._dayOfYear>vt(a)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=kt(a,0,e._dayOfYear),e._a[qe]=n.getUTCMonth(),e._a[We]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ge]&&0===e._a[He]&&0===e._a[Ye]&&0===e._a[Ke]&&(e._nextDay=!0,e._a[Ge]=0),e._d=(e._useUTC?kt:gt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ge]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(m(e).weekdayMismatch=!0)}}function Vn(e){var t,n,r,i,a,o,s,u,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,n=Fn(t.GG,e._a[ze],xt(Kn(),1,4).year),r=Fn(t.W,1),((i=Fn(t.E,1))<1||i>7)&&(u=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=xt(Kn(),a,o),n=Fn(t.gg,e._a[ze],c.year),r=Fn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(u=!0)):i=a),r<1||r>_t(n,a,o)?m(e)._overflowWeeks=!0:null!=u?m(e)._overflowWeekday=!0:(s=wt(n,r,i,a,o),e._a[ze]=s.year,e._dayOfYear=s.dayOfYear)}function Zn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],m(e).empty=!0;var t,n,i,a,o,s,u,c=""+e._i,l=c.length,f=0;for(u=(i=q(e._f,e._locale).match(L)||[]).length,t=0;t<u;t++)a=i[t],(n=(c.match(Me(a,e))||[])[0])&&((o=c.substr(0,c.indexOf(n))).length>0&&m(e).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),f+=n.length),U[a]?(n?m(e).empty=!1:m(e).unusedTokens.push(a),Ze(a,n,e)):e._strict&&!n&&m(e).unusedTokens.push(a);m(e).charsLeftOver=l-f,c.length>0&&m(e).unusedInput.push(c),e._a[Ge]<=12&&!0===m(e).bigHour&&e._a[Ge]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[Ge]=Bn(e._locale,e._a[Ge],e._meridiem),null!==(s=m(e).era)&&(e._a[ze]=e._locale.erasConvertYear(s,e._a[ze])),Un(e),bn(e)}else Mn(e);else Nn(e)}function Bn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function zn(e){var t,n,r,i,a,o,s=!1,u=e._f.length;if(0===u)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<u;i++)a=0,o=!1,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Zn(t),y(t)&&(o=!0),a+=m(t).charsLeftOver,a+=10*m(t).unusedTokens.length,m(t).score=a,s?a<r&&(r=a,n=t):(null==r||a<r||o)&&(r=a,n=t,o&&(s=!0));d(e,n||t)}function qn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Un(e)}}function Wn(e){var t=new x(bn(Gn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Gn(e){var t=e._i,n=e._f;return e._locale=e._locale||gn(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new x(bn(t)):(f(t)?e._d=t:a(n)?zn(e):n?Zn(e):Hn(e),y(e)||(e._d=null),e))}function Hn(e){var t=e._i;c(t)?e._d=new Date(r.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Ln(e):a(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Un(e)):o(t)?qn(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Yn(e,t,n,r,i){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&u(e)||a(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,Wn(s)}function Kn(e,t,n,r){return Yn(e,t,n,r,!1)}r.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Qn=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),$n=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Jn(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Kn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Xn(){return Jn("isBefore",[].slice.call(arguments,0))}function er(){return Jn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(s(e,t)&&(-1===Be.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==le(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function ar(){return Cr(NaN)}function or(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=gn(),this._bubble()}function sr(e){return e instanceof or}function ur(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&le(e[r])!==le(t[r]))&&o++;return o+a}function lr(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+M(~~(e/60),2)+t+M(~~e%60,2)}))}lr("Z",":"),lr("ZZ",""),Re("Z",Oe),Re("ZZ",Oe),Ue(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=hr(Oe,e)}));var fr=/([\+\-]|\d\d)/gi;function hr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(fr)||["-",0,0])[1]+le(n[2]))?0:"+"===n[0]?r:-r}function dr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(_(e)||f(e)?e.valueOf():Kn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Kn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function vr(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hr(Oe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Pr(this,Cr(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:pr(this)}function mr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function yr(e){return this.utcOffset(0,e)}function gr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function kr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hr(Ae,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function br(e){return!!this.isValid()&&(e=e?Kn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function wr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function xr(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return w(t,this),(t=Gn(t))._a?(e=t._isUTC?p(t._a):Kn(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function _r(){return!!this.isValid()&&!this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC}function Er(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ir=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Tr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cr(e,t){var n,r,i,a=e,o=null;return sr(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(o=Ir.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:le(o[We])*n,h:le(o[Ge])*n,m:le(o[He])*n,s:le(o[Ye])*n,ms:le(ur(1e3*o[Ke]))*n}):(o=Tr.exec(e))?(n="-"===o[1]?-1:1,a={y:Nr(o[2],n),M:Nr(o[3],n),w:Nr(o[4],n),d:Nr(o[5],n),h:Nr(o[6],n),m:Nr(o[7],n),s:Nr(o[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=Or(Kn(a.from),Kn(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new or(a),sr(e)&&s(e,"_locale")&&(r._locale=e._locale),sr(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Nr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ar(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Or(e,t){var n;return e.isValid()&&t.isValid()?(t=dr(t,e),e.isBefore(t)?n=Ar(e,t):((n=Ar(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Dr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Pr(this,Cr(n,r),e),this}}function Pr(e,t,n,i){var a=t._milliseconds,o=ur(t._days),s=ur(t._months);e.isValid()&&(i=null==i||i,s&&ct(e,he(e,"Month")+s*n),o&&de(e,"Date",he(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,o||s))}Cr.fn=or.prototype,Cr.invalid=ar;var Rr=Dr(1,"add"),Mr=Dr(-1,"subtract");function Lr(e){return"string"===typeof e||e instanceof String}function Fr(e){return _(e)||f(e)||Lr(e)||l(e)||Ur(e)||jr(e)||null===e||void 0===e}function jr(e){var t,n,r=o(e)&&!u(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=a.length;for(t=0;t<c;t+=1)n=a[t],i=i||s(e,n);return r&&i}function Ur(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&Lr(e)})).length),t&&n}function Vr(e){var t,n,r=o(e)&&!u(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)n=a[t],i=i||s(e,n);return r&&i}function Zr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Br(e,t){1===arguments.length&&(arguments[0]?Fr(arguments[0])?(e=arguments[0],t=void 0):Vr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Kn(),i=dr(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=t&&(N(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Kn(n)))}function zr(){return new x(this)}function qr(e,t){var n=_(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Wr(e,t){var n=_(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Gr(e,t,n,r){var i=_(e)?e:Kn(e),a=_(t)?t:Kn(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Hr(e,t){var n,r=_(e)?e:Kn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Yr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Kr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Qr(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=dr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":a=$r(this,r)/12;break;case"month":a=$r(this,r);break;case"quarter":a=$r(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:ce(a)}function $r(e,t){if(e.date()<t.date())return-$r(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Jr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Xr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?z(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",z(n,"Z")):z(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=a+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=z(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(_(e)&&e.isValid()||Kn(e).isValid())?Cr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Kn(),e)}function ii(e,t){return this.isValid()&&(_(e)&&e.isValid()||Kn(e).isValid())?Cr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ai(e){return this.to(Kn(),e)}function oi(e){var t;return void 0===e?this._locale._abbr:(null!=(t=gn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var si=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ui(){return this._locale}var ci=1e3,li=60*ci,fi=60*li,hi=3506328*fi;function di(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-hi:new Date(e,t,n).valueOf()}function vi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-hi:Date.UTC(e,t,n)}function mi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=di(t+(this._isUTC?0:this.utcOffset()*li),fi);break;case"minute":t=this._d.valueOf(),t-=di(t,li);break;case"second":t=this._d.valueOf(),t-=di(t,ci)}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=fi-di(t+(this._isUTC?0:this.utcOffset()*li),fi)-1;break;case"minute":t=this._d.valueOf(),t+=li-di(t,li)-1;break;case"second":t=this._d.valueOf(),t+=ci-di(t,ci)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function gi(){return this._d.valueOf()-6e4*(this._offset||0)}function ki(){return Math.floor(this.valueOf()/1e3)}function bi(){return new Date(this.valueOf())}function wi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function xi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function _i(){return this.isValid()?this.toISOString():null}function Si(){return y(this)}function Ei(){return d({},m(this))}function Ii(){return m(this).overflow}function Ti(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ci(e,t){var n,i,a,o=this._eras||gn("en")._eras;for(n=0,i=o.length;n<i;++n)switch("string"===typeof o[n].since&&(a=r(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=r(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}return o}function Ni(e,t,n){var r,i,a,o,s,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(a=u[r].name.toUpperCase(),o=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return u[r];break;case"NNNN":if(a===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([a,o,s].indexOf(e)>=0)return u[r]}function Ai(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Oi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Di(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Pi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Ri(){var e,t,n,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-r(a[e].since).year())*n+a[e].offset;return this.year()}function Mi(e){return s(this,"_erasNameRegex")||Bi.call(this),e?this._erasNameRegex:this._erasRegex}function Li(e){return s(this,"_erasAbbrRegex")||Bi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Fi(e){return s(this,"_erasNarrowRegex")||Bi.call(this),e?this._erasNarrowRegex:this._erasRegex}function ji(e,t){return t.erasAbbrRegex(e)}function Ui(e,t){return t.erasNameRegex(e)}function Vi(e,t){return t.erasNarrowRegex(e)}function Zi(e,t){return t._eraYearOrdinalRegex||Ce}function Bi(){var e,t,n=[],r=[],i=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(Fe(o[e].name)),n.push(Fe(o[e].abbr)),i.push(Fe(o[e].narrow)),a.push(Fe(o[e].name)),a.push(Fe(o[e].abbr)),a.push(Fe(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function zi(e,t){V(0,[e,e.length],0,t)}function qi(e){return Qi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Wi(e){return Qi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Gi(){return _t(this.year(),1,4)}function Hi(){return _t(this.isoWeekYear(),1,4)}function Yi(){var e=this.localeData()._week;return _t(this.year(),e.dow,e.doy)}function Ki(){var e=this.localeData()._week;return _t(this.weekYear(),e.dow,e.doy)}function Qi(e,t,n,r,i){var a;return null==e?xt(this,r,i).year:(t>(a=_t(e,r,i))&&(t=a),$i.call(this,e,t,n,r,i))}function $i(e,t,n,r,i){var a=wt(e,t,n,r,i),o=kt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Ji(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),Re("N",ji),Re("NN",ji),Re("NNN",ji),Re("NNNN",Ui),Re("NNNNN",Vi),Ue(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?m(n).era=i:m(n).invalidEra=e})),Re("y",Ce),Re("yy",Ce),Re("yyy",Ce),Re("yyyy",Ce),Re("yo",Zi),Ue(["y","yy","yyy","yyyy"],ze),Ue(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ze]=n._locale.eraYearOrdinalParse(e,i):t[ze]=parseInt(e,10)})),V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),zi("gggg","weekYear"),zi("ggggg","weekYear"),zi("GGGG","isoWeekYear"),zi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),Re("G",Ne),Re("g",Ne),Re("GG",xe,ge),Re("gg",xe,ge),Re("GGGG",Ie,be),Re("gggg",Ie,be),Re("GGGGG",Te,we),Re("ggggg",Te,we),Ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=le(e)})),Ve(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),Re("Q",ye),Ue("Q",(function(e,t){t[qe]=3*(le(e)-1)})),V("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),Re("D",xe),Re("DD",xe,ge),Re("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ue(["D","DD"],We),Ue("Do",(function(e,t){t[We]=le(e.match(xe)[0])}));var Xi=fe("Date",!0);function ea(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}V("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),Re("DDD",Ee),Re("DDDD",ke),Ue(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=le(e)})),V("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),Re("m",xe),Re("mm",xe,ge),Ue(["m","mm"],He);var ta=fe("Minutes",!1);V("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),Re("s",xe),Re("ss",xe,ge),Ue(["s","ss"],Ye);var na,ra,ia=fe("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),Re("S",Ee,ye),Re("SS",Ee,ge),Re("SSS",Ee,ke),na="SSSS";na.length<=9;na+="S")Re(na,Ce);function aa(e,t){t[Ke]=le(1e3*("0."+e))}for(na="S";na.length<=9;na+="S")Ue(na,aa);function oa(){return this._isUTC?"UTC":""}function sa(){return this._isUTC?"Coordinated Universal Time":""}ra=fe("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var ua=x.prototype;function ca(e){return Kn(1e3*e)}function la(){return Kn.apply(null,arguments).parseZone()}function fa(e){return e}ua.add=Rr,ua.calendar=Br,ua.clone=zr,ua.diff=Qr,ua.endOf=yi,ua.format=ti,ua.from=ni,ua.fromNow=ri,ua.to=ii,ua.toNow=ai,ua.get=pe,ua.invalidAt=Ii,ua.isAfter=qr,ua.isBefore=Wr,ua.isBetween=Gr,ua.isSame=Hr,ua.isSameOrAfter=Yr,ua.isSameOrBefore=Kr,ua.isValid=Si,ua.lang=si,ua.locale=oi,ua.localeData=ui,ua.max=$n,ua.min=Qn,ua.parsingFlags=Ei,ua.set=ve,ua.startOf=mi,ua.subtract=Mr,ua.toArray=wi,ua.toObject=xi,ua.toDate=bi,ua.toISOString=Xr,ua.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(ua[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ua.toJSON=_i,ua.toString=Jr,ua.unix=ki,ua.valueOf=gi,ua.creationData=Ti,ua.eraName=Oi,ua.eraNarrow=Di,ua.eraAbbr=Pi,ua.eraYear=Ri,ua.year=mt,ua.isLeapYear=yt,ua.weekYear=qi,ua.isoWeekYear=Wi,ua.quarter=ua.quarters=Ji,ua.month=lt,ua.daysInMonth=ft,ua.week=ua.weeks=Ct,ua.isoWeek=ua.isoWeeks=Nt,ua.weeksInYear=Yi,ua.weeksInWeekYear=Ki,ua.isoWeeksInYear=Gi,ua.isoWeeksInISOWeekYear=Hi,ua.date=Xi,ua.day=ua.days=qt,ua.weekday=Wt,ua.isoWeekday=Gt,ua.dayOfYear=ea,ua.hour=ua.hours=rn,ua.minute=ua.minutes=ta,ua.second=ua.seconds=ia,ua.millisecond=ua.milliseconds=ra,ua.utcOffset=vr,ua.utc=yr,ua.local=gr,ua.parseZone=kr,ua.hasAlignedHourOffset=br,ua.isDST=wr,ua.isLocal=_r,ua.isUtcOffset=Sr,ua.isUtc=Er,ua.isUTC=Er,ua.zoneAbbr=oa,ua.zoneName=sa,ua.dates=E("dates accessor is deprecated. Use date instead.",Xi),ua.months=E("months accessor is deprecated. Use month instead",lt),ua.years=E("years accessor is deprecated. Use year instead",mt),ua.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mr),ua.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",xr);var ha=D.prototype;function da(e,t,n,r){var i=gn(),a=p().set(r,t);return i[n](a,e)}function pa(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return da(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=da(e,r,n,"month");return i}function va(e,t,n,r){"boolean"===typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,a=gn(),o=e?a._week.dow:0,s=[];if(null!=n)return da(t,(n+o)%7,r,"day");for(i=0;i<7;i++)s[i]=da(t,(i+o)%7,r,"day");return s}function ma(e,t){return pa(e,t,"months")}function ya(e,t){return pa(e,t,"monthsShort")}function ga(e,t,n){return va(e,t,n,"weekdays")}function ka(e,t,n){return va(e,t,n,"weekdaysShort")}function ba(e,t,n){return va(e,t,n,"weekdaysMin")}ha.calendar=R,ha.longDateFormat=G,ha.invalidDate=Y,ha.ordinal=$,ha.preparse=fa,ha.postformat=fa,ha.relativeTime=X,ha.pastFuture=ee,ha.set=A,ha.eras=Ci,ha.erasParse=Ni,ha.erasConvertYear=Ai,ha.erasAbbrRegex=Li,ha.erasNameRegex=Mi,ha.erasNarrowRegex=Fi,ha.months=at,ha.monthsShort=ot,ha.monthsParse=ut,ha.monthsRegex=dt,ha.monthsShortRegex=ht,ha.week=St,ha.firstDayOfYear=Tt,ha.firstDayOfWeek=It,ha.weekdays=Ut,ha.weekdaysMin=Zt,ha.weekdaysShort=Vt,ha.weekdaysParse=zt,ha.weekdaysRegex=Ht,ha.weekdaysShortRegex=Yt,ha.weekdaysMinRegex=Kt,ha.isPM=tn,ha.meridiem=an,vn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===le(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=E("moment.lang is deprecated. Use moment.locale instead.",vn),r.langData=E("moment.langData is deprecated. Use moment.localeData instead.",gn);var wa=Math.abs;function xa(){var e=this._data;return this._milliseconds=wa(this._milliseconds),this._days=wa(this._days),this._months=wa(this._months),e.milliseconds=wa(e.milliseconds),e.seconds=wa(e.seconds),e.minutes=wa(e.minutes),e.hours=wa(e.hours),e.months=wa(e.months),e.years=wa(e.years),this}function _a(e,t,n,r){var i=Cr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Sa(e,t){return _a(this,e,t,1)}function Ea(e,t){return _a(this,e,t,-1)}function Ia(e){return e<0?Math.floor(e):Math.ceil(e)}function Ta(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,u=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Ia(Na(s)+o),o=0,s=0),u.milliseconds=a%1e3,e=ce(a/1e3),u.seconds=e%60,t=ce(e/60),u.minutes=t%60,n=ce(t/60),u.hours=n%24,o+=ce(n/24),s+=i=ce(Ca(o)),o-=Ia(Na(i)),r=ce(s/12),s%=12,u.days=o,u.months=s,u.years=r,this}function Ca(e){return 4800*e/146097}function Na(e){return 146097*e/4800}function Aa(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ca(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Na(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Oa(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*le(this._months/12):NaN}function Da(e){return function(){return this.as(e)}}var Pa=Da("ms"),Ra=Da("s"),Ma=Da("m"),La=Da("h"),Fa=Da("d"),ja=Da("w"),Ua=Da("M"),Va=Da("Q"),Za=Da("y");function Ba(){return Cr(this)}function za(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function qa(e){return function(){return this.isValid()?this._data[e]:NaN}}var Wa=qa("milliseconds"),Ga=qa("seconds"),Ha=qa("minutes"),Ya=qa("hours"),Ka=qa("days"),Qa=qa("months"),$a=qa("years");function Ja(){return ce(this.days()/7)}var Xa=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function no(e,t,n,r){var i=Cr(e).abs(),a=Xa(i.as("s")),o=Xa(i.as("m")),s=Xa(i.as("h")),u=Xa(i.as("d")),c=Xa(i.as("M")),l=Xa(i.as("w")),f=Xa(i.as("y")),h=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(h=h||l<=1&&["w"]||l<n.w&&["ww",l]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||f<=1&&["y"]||["yy",f])[2]=t,h[3]=+e>0,h[4]=r,to.apply(null,h)}function ro(e){return void 0===e?Xa:"function"===typeof e&&(Xa=e,!0)}function io(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function ao(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=eo;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(a=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=no(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var oo=Math.abs;function so(e){return(e>0)-(e<0)||+e}function uo(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,a,o,s,u=oo(this._milliseconds)/1e3,c=oo(this._days),l=oo(this._months),f=this.asSeconds();return f?(e=ce(u/60),t=ce(e/60),u%=60,e%=60,n=ce(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=f<0?"-":"",a=so(this._months)!==so(f)?"-":"",o=so(this._days)!==so(f)?"-":"",s=so(this._milliseconds)!==so(f)?"-":"",i+"P"+(n?a+n+"Y":"")+(l?a+l+"M":"")+(c?o+c+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var co=or.prototype;return co.isValid=ir,co.abs=xa,co.add=Sa,co.subtract=Ea,co.as=Aa,co.asMilliseconds=Pa,co.asSeconds=Ra,co.asMinutes=Ma,co.asHours=La,co.asDays=Fa,co.asWeeks=ja,co.asMonths=Ua,co.asQuarters=Va,co.asYears=Za,co.valueOf=Oa,co._bubble=Ta,co.clone=Ba,co.get=za,co.milliseconds=Wa,co.seconds=Ga,co.minutes=Ha,co.hours=Ya,co.days=Ka,co.weeks=Ja,co.months=Qa,co.years=$a,co.humanize=ao,co.toISOString=uo,co.toString=uo,co.toJSON=uo,co.locale=oi,co.localeData=ui,co.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",uo),co.lang=si,V("X",0,0,"unix"),V("x",0,0,"valueOf"),Re("x",Ne),Re("X",De),Ue("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ue("x",(function(e,t,n){n._d=new Date(le(e))})),r.version="2.29.4",i(Kn),r.fn=ua,r.min=Xn,r.max=er,r.now=tr,r.utc=p,r.unix=ca,r.months=ma,r.isDate=f,r.locale=vn,r.invalid=g,r.duration=Cr,r.isMoment=_,r.weekdays=ga,r.parseZone=la,r.localeData=gn,r.isDuration=sr,r.monthsShort=ya,r.weekdaysMin=ba,r.defineLocale=mn,r.updateLocale=yn,r.locales=kn,r.weekdaysShort=ka,r.normalizeUnits=re,r.relativeTimeRounding=ro,r.relativeTimeThreshold=io,r.calendarFormat=Zr,r.prototype=ua,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var a,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(s[c]=a[c]);if(t){o=t(a);for(var l=0;l<o.length;l++)r.call(a,o[l])&&(s[o[l]]=a[o[l]])}}return s}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2482:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(2007)),o=u(n(2791)),s=n(4432);function u(e){return e&&e.__esModule?e:{default:e}}var c={thousandSeparator:a.default.oneOfType([a.default.string,a.default.oneOf([!0])]),thousandSpacing:a.default.oneOf(["2","2s","3","4"]),decimalSeparator:a.default.string,decimalScale:a.default.number,fixedDecimalScale:a.default.bool,displayType:a.default.oneOf(["input","text"]),prefix:a.default.string,suffix:a.default.string,format:a.default.oneOfType([a.default.string,a.default.func]),removeFormatting:a.default.func,mask:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]),value:a.default.oneOfType([a.default.number,a.default.string]),isNumericString:a.default.bool,customInput:a.default.func,allowNegative:a.default.bool,onValueChange:a.default.func,onKeyDown:a.default.func,onMouseUp:a.default.func,onChange:a.default.func,onFocus:a.default.func,onBlur:a.default.func,type:a.default.oneOf(["text","tel"]),isAllowed:a.default.func,renderText:a.default.func},l={displayType:"input",decimalSeparator:".",thousandSpacing:"3",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,isNumericString:!1,type:"text",onValueChange:s.noop,onChange:s.noop,onKeyDown:s.noop,onMouseUp:s.noop,onFocus:s.noop,onBlur:s.noop,isAllowed:s.returnTrue},f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.validateProps();var r=n.formatValueProp();return n.state={value:r,numAsString:n.removeFormatting(r)},n.onChange=n.onChange.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidUpdate",value:function(e){this.updateValueIfRequired(e)}},{key:"updateValueIfRequired",value:function(e){var t=this.props,n=this.state;if(e!==t){this.validateProps();var r=n.value,i=n.numAsString||"",a=void 0===t.value?this.formatNumString(i):this.formatValueProp();a!==r&&this.setState({value:a,numAsString:this.removeFormatting(a)})}}},{key:"getFloatString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.getSeparators().decimalSeparator,n=this.getNumberRegex(!0),r="-"===e[0];r&&(e=e.replace("-",""));var i=(e=(e.match(n)||[]).join("").replace(t,".")).indexOf(".");return-1!==i&&(e=e.substring(0,i)+"."+e.substring(i+1,e.length).replace(new RegExp((0,s.escapeRegExp)(t),"g"),"")),r&&(e="-"+e),e}},{key:"getNumberRegex",value:function(e,t){var n=this.props,r=n.format,i=n.decimalScale,a=this.getSeparators().decimalSeparator;return new RegExp("\\d"+(!a||0===i||t||r?"":"|"+(0,s.escapeRegExp)(a)),e?"g":void 0)}},{key:"getSeparators",value:function(){var e=this.props,t=e.decimalSeparator,n=e.thousandSpacing,r=this.props.thousandSeparator;return!0===r&&(r=","),{decimalSeparator:t,thousandSeparator:r,thousandSpacing:n}}},{key:"getMaskAtIndex",value:function(e){var t=this.props.mask,n=void 0===t?" ":t;return"string"===typeof n?n:n[e]||" "}},{key:"validateProps",value:function(){var e=this.props.mask,t=this.getSeparators(),n=t.decimalSeparator,r=t.thousandSeparator;if(n===r)throw new Error("\n          Decimal separator can't be same as thousand separator.\n\n          thousandSeparator: "+r+' (thousandSeparator = {true} is same as thousandSeparator = ",")\n          decimalSeparator: '+n+" (default value for decimalSeparator is .)\n       ");if(e&&("string"===e?e:e.toString()).match(/\d/g))throw new Error("\n          Mask "+e+" should not contain numeric character;\n        ")}},{key:"splitDecimal",value:function(e){var t=this.props.allowNegative,n="-"===e[0],r=n&&t,i=(e=e.replace("-","")).split(".");return{beforeDecimal:i[0],afterDecimal:i[1]||"",hasNagation:n,addNegation:r}}},{key:"setPatchedCaretPosition",value:function(e,t,n){(0,s.setCaretPosition)(e,t),setTimeout((function(){e.value===n&&(0,s.setCaretPosition)(e,t)}),0)}},{key:"correctCaretPosition",value:function(e,t,n){var r=this.props,i=r.prefix,a=r.suffix,o=r.format;if(!o){var u="-"===e[0];return Math.min(Math.max(t,i.length+(u?1:0)),e.length-a.length)}if("function"===typeof o)return t;if("#"===o[t]&&(0,s.charIsNumber)(e[t]))return t;if("#"===o[t-1]&&(0,s.charIsNumber)(e[t-1]))return t;var c=o.indexOf("#"),l=o.lastIndexOf("#");t=Math.min(Math.max(t,c),l+1);for(var f=o.substring(t,o.length).indexOf("#"),h=t,d=t+(-1===f?0:f);h>c&&("#"!==o[h]||!(0,s.charIsNumber)(e[h]));)h-=1;return!(0,s.charIsNumber)(e[d])||"left"===n&&t!==c||t-h<d-t?h+1:d}},{key:"getCaretPosition",value:function(e,t,n){var r=this.props.format,i=this.state.value,a=this.getNumberRegex(!0),o=(e.match(a)||[]).join(""),s=(t.match(a)||[]).join(""),u=void 0,c=void 0;for(u=0,c=0;c<n;c++){var l=e[c]||"",f=t[u]||"";if((l.match(a)||l===f)&&("0"!==l||!f.match(a)||"0"===f||o.length===s.length)){for(;l!==t[u]&&u<t.length;)u++;u++}}return"string"!==typeof r||i||(u=t.length),u=this.correctCaretPosition(t,u)}},{key:"removePrefixAndSuffix",value:function(e){var t=this.props,n=t.format,r=t.prefix,i=t.suffix;if(!n&&e){var a="-"===e[0];a&&(e=e.substring(1,e.length));var o=(e=r&&0===e.indexOf(r)?e.substring(r.length,e.length):e).lastIndexOf(i);e=i&&-1!==o&&o===e.length-i.length?e.substring(0,o):e,a&&(e="-"+e)}return e}},{key:"removePatternFormatting",value:function(e){for(var t=this.props.format.split("#").filter((function(e){return""!==e})),n=0,r="",i=0,a=t.length;i<=a;i++){var o=t[i]||"",s=i===a?e.length:e.indexOf(o,n);if(-1===s){r=e;break}r+=e.substring(n,s),n=s+o.length}return(r.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(e){var t=this.props,n=t.format,r=t.removeFormatting;return e?(n?e="string"===typeof n?this.removePatternFormatting(e):"function"===typeof r?r(e):(e.match(/\d/g)||[]).join(""):(e=this.removePrefixAndSuffix(e),e=this.getFloatString(e)),e):e}},{key:"formatWithPattern",value:function(e){for(var t=this.props.format,n=0,r=t.split(""),i=0,a=t.length;i<a;i++)"#"===t[i]&&(r[i]=e[n]||this.getMaskAtIndex(n),n+=1);return r.join("")}},{key:"formatThousand",value:function(e,t,n){var r=void 0;switch(n){case s.thousandGroupSpacing.two:r=/(\d)(?=(\d{2})+(?!\d))/g;break;case s.thousandGroupSpacing.twoScaled:r=/(\d)(?=(((\d{2})+)(\d{1})(?!\d)))/g;break;case s.thousandGroupSpacing.four:r=/(\d)(?=(\d{4})+(?!\d))/g;break;default:r=/(\d)(?=(\d{3})+(?!\d))/g}return e.replace(r,"$1"+t)}},{key:"formatAsNumber",value:function(e){var t=this.props,n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix,a=t.suffix,o=this.getSeparators(),u=o.thousandSeparator,c=o.decimalSeparator,l=o.thousandSpacing,f=-1!==e.indexOf(".")||n&&r,h=this.splitDecimal(e),d=h.beforeDecimal,p=h.afterDecimal,v=h.addNegation;return void 0!==n&&(p=(0,s.limitToScale)(p,n,r)),u&&(d=this.formatThousand(d,u,l)),i&&(d=i+d),a&&(p+=a),v&&(d="-"+d),e=d+(f&&c||"")+p}},{key:"formatNumString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.format,n=e;return""===e?n="":"-"!==e||t?n="string"===typeof t?this.formatWithPattern(n):"function"===typeof t?t(n):this.formatAsNumber(n):(n="-",e=""),n}},{key:"formatValueProp",value:function(){var e=this.props,t=e.format,n=e.decimalScale,r=e.fixedDecimalScale,i=this.props,a=i.value,o=i.isNumericString;return void 0===a?"":("number"===typeof a&&(a=a.toString(),o=!0),o&&!t&&"number"===typeof n&&(a=(0,s.roundToPrecision)(a,n,r)),o?this.formatNumString(a):this.formatInput(a))}},{key:"formatNegation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.allowNegative,n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),a=r.test(e);return e=e.replace(/-/g,""),i&&!a&&t&&(e="-"+e),e}},{key:"formatInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.props.format||(e=this.formatNegation(e)),e=this.removeFormatting(e),this.formatNumString(e)}},{key:"isCharacterAFormat",value:function(e,t){var n=this.props,r=n.format,i=n.prefix,a=n.suffix,o=n.decimalScale,s=n.fixedDecimalScale,u=this.getSeparators().decimalSeparator;return"string"===typeof r&&"#"!==r[e]||!(r||!(e<i.length||e>=t.length-a.length||o&&s&&t[e]===u))}},{key:"checkIfFormatGotDeleted",value:function(e,t,n){for(var r=e;r<t;r++)if(this.isCharacterAFormat(r,n))return!0;return!1}},{key:"correctInputValue",value:function(e,t,n){var r=this.props.format,i=this.state.numAsString||"";if(n.length>=t.length||!n.length)return n;var a=e,o=(0,s.splitString)(t,e),u=(0,s.splitString)(n,e),c=o[1].lastIndexOf(u[1]),l=a+(-1!==c?o[1].substring(0,c):"").length;if(this.checkIfFormatGotDeleted(a,l,t)&&(n=t),!r){var f=this.removeFormatting(n),h=this.splitDecimal(f),d=h.beforeDecimal,p=h.afterDecimal,v=h.addNegation;if(f.length<i.length&&""===d&&!parseFloat(p))return v?"-":""}return n}},{key:"onChange",value:function(e){e.persist();var t=e.target,n=t.value,r=this.state,i=this.props,a=i.isAllowed,o=r.value||"",s=Math.max(t.selectionStart,t.selectionEnd);n=this.correctInputValue(s,o,n);var u=this.formatInput(n)||"",c=this.removeFormatting(u),l={formattedValue:u,value:c,floatValue:parseFloat(c)};a(l)||(u=o),t.value=u;var f=this.getCaretPosition(n,u,s);this.setPatchedCaretPosition(t,f,u),u!==o?this.setState({value:u,numAsString:c},(function(){i.onValueChange(l),i.onChange(e)})):i.onChange(e)}},{key:"onBlur",value:function(e){var t=this.props,n=this.state,r=t.format,i=t.onBlur,a=n.numAsString,o=n.value;if(!r){a=(0,s.fixLeadingZero)(a);var u=this.formatNumString(a),c={formattedValue:u,value:a,floatValue:parseFloat(a)};if(u!==o)return e.persist(),void this.setState({value:u,numAsString:a},(function(){t.onValueChange(c),i(e)}))}i(e)}},{key:"onKeyDown",value:function(e){var t=e.target,n=e.key,r=t.selectionEnd,i=t.value,a=t.selectionStart,o=void 0,s=this.props,u=s.decimalScale,c=s.fixedDecimalScale,l=s.prefix,f=s.suffix,h=s.format,d=s.onKeyDown,p=void 0!==u&&c,v=this.getNumberRegex(!1,p),m=new RegExp("-"),y="string"===typeof h;if("ArrowLeft"===n||"Backspace"===n?o=a-1:"ArrowRight"===n?o=a+1:"Delete"===n&&(o=a),void 0!==o&&a===r){var g=o,k=y?h.indexOf("#"):l.length,b=y?h.lastIndexOf("#")+1:i.length-f.length;if("ArrowLeft"===n||"ArrowRight"===n){var w="ArrowLeft"===n?"left":"right";g=this.correctCaretPosition(i,o,w)}else if("Delete"!==n||v.test(i[o])||m.test(i[o])){if("Backspace"===n&&!v.test(i[o])&&!m.test(i[o])){for(;!v.test(i[g-1])&&g>k;)g--;g=this.correctCaretPosition(i,g,"left")}}else for(;!v.test(i[g])&&g<b;)g++;(g!==o||o<k||o>b)&&(e.preventDefault(),this.setPatchedCaretPosition(t,g,i)),e.isUnitTestRun&&this.setPatchedCaretPosition(t,g,i),this.props.onKeyDown(e)}else d(e)}},{key:"onMouseUp",value:function(e){var t=e.target,n=t.selectionStart,r=t.selectionEnd,i=t.value;if(n===r){var a=this.correctCaretPosition(i,n);a!==n&&this.setPatchedCaretPosition(t,a,i)}this.props.onMouseUp(e)}},{key:"onFocus",value:function(e){var t=this;e.persist(),setTimeout((function(){var n=e.target,r=n.selectionStart,i=n.value,a=t.correctCaretPosition(i,r);a!==r&&t.setPatchedCaretPosition(n,a,i),t.props.onFocus(e)}))}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.displayType,i=e.customInput,a=e.renderText,u=this.state.value,l=(0,s.omit)(this.props,c),f=r({},l,{type:t,value:u,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if("text"===n)return a?a(u)||null:o.default.createElement("span",l,u);if(i){var h=i;return o.default.createElement(h,f)}return o.default.createElement("input",f)}}]),t}(o.default.Component);f.propTypes=c,f.defaultProps=l,e.exports=f},4432:function(e,t){"use strict";function n(e,t,n){for(var r="",i=n?"0":"",a=0;a<=t-1;a++)r+=e[a]||i;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){},t.returnTrue=function(){return!0},t.charIsNumber=function(e){return!!(e||"").match(/\d/)},t.escapeRegExp=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},t.fixLeadingZero=function(e){if(!e)return e;var t="-"===e[0];t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")},t.splitString=function(e,t){return[e.substring(0,t),e.substring(t)]},t.limitToScale=n,t.roundToPrecision=function(e,t,r){var i=e.split("."),a=parseFloat("0."+(i[1]||"0")).toFixed(t).split("."),o=i[0].split("").reverse().reduce((function(e,t,n){return e.length>n?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e}),a[0]),s=n(a[1]||"",(i[1]||"").length,r);return o+(s?"."+s:"")},t.omit=function(e,t){var n={};return Object.keys(e).forEach((function(r){t[r]||(n[r]=e[r])})),n},t.setCaretPosition=function(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}};t.thousandGroupSpacing={two:"2",twoScaled:"2s",three:"3",four:"4"}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),a=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,S=60107,E=60108,I=60114,T=60109,C=60110,N=60112,A=60113,O=60120,D=60115,P=60116,R=60121,M=60128,L=60129,F=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),_=U("react.portal"),S=U("react.fragment"),E=U("react.strict_mode"),I=U("react.profiler"),T=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),O=U("react.suspense_list"),D=U("react.memo"),P=U("react.lazy"),R=U("react.block"),U("react.scope"),M=U("react.opaque.id"),L=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var V,Z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=Z&&e[Z]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var q=!1;function W(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function G(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case I:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return H(e.type);case R:return H(e._render);case P:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ve,me=(ve=function(e,t){if(e.namespaceURI!==fe.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ge={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ke=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ge.hasOwnProperty(e)&&ge[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ge).forEach((function(e){ke.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ge[t]=ge[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Te=null,Ce=null;function Ne(e){if(e=ni(e)){if("function"!==typeof Ie)throw Error(o(280));var t=e.stateNode;t&&(t=ii(t),Ie(e.stateNode,e.type,t))}}function Ae(e){Te?Ce?Ce.push(e):Ce=[e]:Te=e}function Oe(){if(Te){var e=Te,t=Ce;if(Ce=Te=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function De(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function Re(){}var Me=De,Le=!1,Fe=!1;function je(){null===Te&&null===Ce||(Re(),Oe())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ve=!1;if(f)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch(ve){Ve=!1}function Be(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var ze=!1,qe=null,We=!1,Ge=null,He={onError:function(e){ze=!0,qe=e}};function Ye(e,t,n,r,i,a,o,s,u){ze=!1,qe=null,Be.apply(He,arguments)}function Ke(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Ke(e)!==e)throw Error(o(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Xe(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,at=[],ot=null,st=null,ut=null,ct=new Map,lt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function vt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=dt(t,n,r,i,a),null!==t&&(null!==(t=ni(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ti(e.target);if(null!==t){var n=Ke(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function gt(e,t,n){yt(e)&&n.delete(t)}function kt(){for(it=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==ot&&yt(ot)&&(ot=null),null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),ct.forEach(gt),lt.forEach(gt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,kt)))}function wt(e){function t(t){return bt(t,e)}if(0<at.length){bt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&bt(ot,e),null!==st&&bt(st,e),null!==ut&&bt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)mt(n),null===n.blockedOn&&ft.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},St={},Et={};function It(e){if(St[e])return St[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return St[e]=n[t];return e}f&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var Tt=It("animationend"),Ct=It("animationiteration"),Nt=It("animationstart"),At=It("transitionend"),Ot=new Map,Dt=new Map,Pt=["abort","abort",Tt,"animationEnd",Ct,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),Ot.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Lt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Lt(u),i=Mt):0!==(s&=a)&&(r=Lt(s),i=Mt)}else 0!==(a=n&~o)?(r=Lt(a),i=Mt):0!==s&&(r=Lt(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Lt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Vt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Vt(e){return e&-e}function Zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(qt(e)/Wt|0)|0},qt=Math.log,Wt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Ht=a.unstable_runWithPriority,Yt=!0;function Kt(e,t,n,r){Le||Re();var i=$t,a=Le;Le=!0;try{Pe(i,e,t,n,r)}finally{(Le=a)||je()}}function Qt(e,t,n,r){Ht(Gt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<at.length&&-1<ht.indexOf(e))e=dt(null,e,t,n,r),at.push(e);else{var a=Jt(e,t,n,r);if(null===a)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=dt(a,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=vt(ot,e,t,n,r,i),!0;case"dragenter":return st=vt(st,e,t,n,r,i),!0;case"mouseover":return ut=vt(ut,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ct.set(a,vt(ct.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,lt.set(a,vt(lt.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;pt(e,r)}Rr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Ee(r);if(null!==(i=ti(i))){var a=Ke(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Qe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Rr(e,t,r,i,n),null}var Xt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function on(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var un,cn,ln,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(fn),dn=i({},fn,{view:0,detail:0}),pn=sn(dn),vn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=sn(vn),yn=sn(i({},vn,{dataTransfer:0})),gn=sn(i({},dn,{relatedTarget:0})),kn=sn(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(bn),xn=sn(i({},fn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return In}var Cn=i({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(Cn),An=sn(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=sn(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Dn=sn(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Pn),Mn=[9,13,27,32],Ln=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var jn=f&&"TextEvent"in window&&!Fn,Un=f&&(!Ln||Fn&&8<Fn&&11>=Fn),Vn=String.fromCharCode(32),Zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ae(r),0<(t=Lr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Kn=null;function Qn(e){Cr(e,0)}function $n(e){if($(ri(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(f){var er;if(f){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Xn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Yn&&(Yn.detachEvent("onpropertychange",ir),Kn=Yn=null)}function ir(e){if("value"===e.propertyName&&$n(Kn)){var t=[];if(Hn(t,Kn,e,Ee(e)),e=Qn,Le)e(t);else{Le=!0;try{De(e,t)}finally{Le=!1,je()}}}}function ar(e,t,n){"focusin"===e?(rr(),Kn=n,(Yn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Kn)}function sr(e,t){if("click"===e)return $n(t)}function ur(e,t){if("input"===e||"change"===e)return $n(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},lr=Object.prototype.hasOwnProperty;function fr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,gr=null,kr=null,br=null,wr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==J(r)||("selectionStart"in(r=gr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&fr(br,r)||(br=r,0<(r=Lr(kr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(Pt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<_r.length;Sr++)Dt.set(_r[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ye.apply(this,arguments),ze){if(!ze)throw Error(o(198));var l=qe;ze=!1,qe=null,We||(We=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Tr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Tr(i,s,c),a=u}}}if(We)throw e=Ge,We=!1,Ge=null,e}function Nr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Ar]||(e[Ar]=!0,s.forEach((function(t){Ir.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ai(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Pr(a,e,i,t),o.add(s))}function Pr(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=Kt;break;case 1:i=Qt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ti(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{return Me(e,t,n)}finally{Fe=!1,je()}}((function(){var r=a,i=Ee(n),o=[];e:{var s=Ot.get(e);if(void 0!==s){var u=hn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":c="focus",u=gn;break;case"focusout":c="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case Tt:case Ct:case Nt:u=kn;break;case At:u=Dn;break;case"scroll":u=pn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ue(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ti(c)&&!c[Xr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ti(c):null)&&(c!==(f=Ke(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ri(u),d=null==c?s:ri(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ti(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==u&&jr(o,s,u,l,!1),null!==c&&null!==f&&jr(o,f,c,l,!0)}if("select"===(u=(s=r?ri(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Jn;else if(Gn(s))if(Xn)m=ur;else{m=or;var y=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=sr);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ri(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(gr=y,kr=r,br=null);break;case"focusout":br=kr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,xr(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(Ln)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qn?Bn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Un&&"ko"!==n.locale&&(qn||"onCompositionStart"!==k?"onCompositionEnd"===k&&qn&&(g=nn()):(en="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(y=Lr(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Zn=!0,Vn);case"textInput":return(e=t.data)===Vn&&Zn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Ln&&Bn(e,t)?(e=nn(),tn=en=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Cr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ue(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ue(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=Ue(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ur(){}var Vr=null,Zr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Hr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Kr=0;var Qr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Qr,Jr="__reactProps$"+Qr,Xr="__reactContainer$"+Qr,ei="__reactEvents$"+Qr;function ti(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xr]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[$r])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[$r]||e[Xr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ii(e){return e[Jr]||null}function ai(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var oi=[],si=-1;function ui(e){return{current:e}}function ci(e){0>si||(e.current=oi[si],oi[si]=null,si--)}function li(e,t){si++,oi[si]=e.current,e.current=t}var fi={},hi=ui(fi),di=ui(!1),pi=fi;function vi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){ci(di),ci(hi)}function gi(e,t,n){if(hi.current!==fi)throw Error(o(168));li(hi,t),li(di,n)}function ki(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,H(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,pi=hi.current,li(hi,e),li(di,di.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ki(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ci(di),ci(hi),li(hi,e)):ci(di),li(di,n)}var xi=null,_i=null,Si=a.unstable_runWithPriority,Ei=a.unstable_scheduleCallback,Ii=a.unstable_cancelCallback,Ti=a.unstable_shouldYield,Ci=a.unstable_requestPaint,Ni=a.unstable_now,Ai=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Di=a.unstable_UserBlockingPriority,Pi=a.unstable_NormalPriority,Ri=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Li={},Fi=void 0!==Ci?Ci:function(){},ji=null,Ui=null,Vi=!1,Zi=Ni(),Bi=1e4>Zi?Ni:function(){return Ni()-Zi};function zi(){switch(Ai()){case Oi:return 99;case Di:return 98;case Pi:return 97;case Ri:return 96;case Mi:return 95;default:throw Error(o(332))}}function qi(e){switch(e){case 99:return Oi;case 98:return Di;case 97:return Pi;case 96:return Ri;case 95:return Mi;default:throw Error(o(332))}}function Wi(e,t){return e=qi(e),Si(e,t)}function Gi(e,t,n){return e=qi(e),Ei(e,t,n)}function Hi(){if(null!==Ui){var e=Ui;Ui=null,Ii(e)}Yi()}function Yi(){if(!Vi&&null!==ji){Vi=!0;var e=0;try{var t=ji;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Ei(Oi,Hi),n}finally{Vi=!1}}}var Ki=w.ReactCurrentBatchConfig;function Qi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=ui(null),Ji=null,Xi=null,ea=null;function ta(){ea=Xi=Ji=null}function na(e){var t=$i.current;ci($i),e.type._context._currentValue=t}function ra(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ia(e,t){Ji=e,ea=Xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Lo=!0),e.firstContext=null)}function aa(e,t){if(ea!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ea=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Xi){if(null===Ji)throw Error(o(308));Xi=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else Xi=Xi.next=t;return e._currentValue}var oa=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ua(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function la(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ha(e,t,n,r){var a=e.updateQueue;oa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:oa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Zs|=s,e.lanes=s,e.memoizedState=h}}function da(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var pa=(new r.Component).refs;function va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&Ke(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=ca(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=ca(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=ca(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),la(e,i),pu(e,r,n)}};function ya(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,a))}function ga(e,t,n){var r=!1,i=fi,a=t.contextType;return"object"===typeof a&&null!==a?a=aa(a):(i=mi(t)?pi:hi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):fi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=pa,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=aa(a):(a=mi(t)?pi:hi.current,i.context=vi(e,a)),ha(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),ha(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var wa=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===pa&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _a(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Qu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Hu(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Yu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Qu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Hu(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case _:return(t=$u(t,e.mode,n)).return=e,t}if(wa(t)||B(t))return(t=Yu(t,e.mode,n,null)).return=e,t;_a(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===S?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(wa(n)||B(n))return null!==i?null:f(e,t,n,r,null);_a(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===S?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);_a(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=B(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===S&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===S){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===S?((r=Yu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Hu(a.type,a.key,a.props,null,e.mode,u)).ref=xa(e,r,a),u.return=e,e=u)}return s(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$u(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Qu(a,e.mode,u)).return=e,e=r),s(e);if(wa(a))return v(e,r,a,u);if(B(a))return m(e,r,a,u);if(l&&_a(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,H(e.type)||"Component"))}return n(e,r)}}var Ea=Sa(!0),Ia=Sa(!1),Ta={},Ca=ui(Ta),Na=ui(Ta),Aa=ui(Ta);function Oa(e){if(e===Ta)throw Error(o(174));return e}function Da(e,t){switch(li(Aa,t),li(Na,e),li(Ca,Ta),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Ca),li(Ca,t)}function Pa(){ci(Ca),ci(Na),ci(Aa)}function Ra(e){Oa(Aa.current);var t=Oa(Ca.current),n=de(t,e.type);t!==n&&(li(Na,e),li(Ca,n))}function Ma(e){Na.current===e&&(ci(Ca),ci(Na))}var La=ui(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,Ua=null,Va=!1;function Za(e,t){var n=qu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ba(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function za(e){if(Va){var t=Ua;if(t){var n=t;if(!Ba(e,t)){if(!(t=Hr(n.nextSibling))||!Ba(e,t))return e.flags=-1025&e.flags|2,Va=!1,void(ja=e);Za(ja,n)}ja=e,Ua=Hr(t.firstChild)}else e.flags=-1025&e.flags|2,Va=!1,ja=e}}function qa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Wa(e){if(e!==ja)return!1;if(!Va)return qa(e),Va=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=Ua;t;)Za(e,t),t=Hr(t.nextSibling);if(qa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ua=Hr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ua=null}}else Ua=ja?Hr(e.stateNode.nextSibling):null;return!0}function Ga(){Ua=ja=null,Va=!1}var Ha=[];function Ya(){for(var e=0;e<Ha.length;e++)Ha[e]._workInProgressVersionPrimary=null;Ha.length=0}var Ka=w.ReactCurrentDispatcher,Qa=w.ReactCurrentBatchConfig,$a=0,Ja=null,Xa=null,eo=null,to=!1,no=!1;function ro(){throw Error(o(321))}function io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function ao(e,t,n,r,i,a){if($a=a,Ja=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ka.current=null===e||null===e.memoizedState?Do:Po,e=n(r,i),no){a=0;do{if(no=!1,!(25>a))throw Error(o(301));a+=1,eo=Xa=null,t.updateQueue=null,Ka.current=Ro,e=n(r,i)}while(no)}if(Ka.current=Oo,t=null!==Xa&&null!==Xa.next,$a=0,eo=Xa=Ja=null,to=!1,t)throw Error(o(300));return e}function oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===eo?Ja.memoizedState=eo=e:eo=eo.next=e,eo}function so(){if(null===Xa){var e=Ja.alternate;e=null!==e?e.memoizedState:null}else e=Xa.next;var t=null===eo?Ja.memoizedState:eo.next;if(null!==t)eo=t,Xa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Xa=e).memoizedState,baseState:Xa.baseState,baseQueue:Xa.baseQueue,queue:Xa.queue,next:null},null===eo?Ja.memoizedState=eo=e:eo=eo.next=e}return eo}function uo(e,t){return"function"===typeof t?t(e):t}function co(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Xa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if(($a&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Ja.lanes|=l,Zs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,cr(r,t.memoizedState)||(Lo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);cr(a,t.memoizedState)||(Lo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function fo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($a&e)===e)&&(t._workInProgressVersionPrimary=r,Ha.push(t))),e)return n(t._source);throw Ha.push(t),Error(o(350))}function ho(e,t,n,r){var i=Ps;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ka.current,c=u.useState((function(){return fo(i,t,n)})),l=c[1],f=c[0];c=eo;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Ja;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!cr(s,e)){e=n(t._source),cr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-zt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),cr(p,n)&&cr(v,t)&&cr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:f}).dispatch=l=Ao.bind(null,Ja,e),c.queue=e,c.baseQueue=null,f=fo(i,t,n),c.memoizedState=c.baseState=f),f}function po(e,t,n){return ho(so(),e,t,n)}function vo(e){var t=oo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:e}).dispatch=Ao.bind(null,Ja,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ja.updateQueue)?(t={lastEffect:null},Ja.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},oo().memoizedState=e}function go(){return so().memoizedState}function ko(e,t,n,r){var i=oo();Ja.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==Xa){var o=Xa.memoizedState;if(a=o.destroy,null!==r&&io(r,o.deps))return void mo(t,n,a,r)}Ja.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function wo(e,t){return ko(516,4,e,t)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return bo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Eo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)}function Io(){}function To(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=zi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Qa.transition;Qa.transition=1;try{e(!1),t()}finally{Qa.transition=n}}))}function Ao(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Ja||null!==o&&o===Ja)no=to=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,cr(u,s))return}catch(c){}pu(e,i,r)}}var Oo={readContext:aa,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useOpaqueIdentifier:ro,unstable_isNewReconciler:!1},Do={readContext:aa,useCallback:function(e,t){return oo().memoizedState=[e,void 0===t?null:t],e},useContext:aa,useEffect:wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ko(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ko(4,2,e,t)},useMemo:function(e,t){var n=oo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ao.bind(null,Ja,e),[r.memoizedState,e]},useRef:yo,useState:vo,useDebugValue:Io,useDeferredValue:function(e){var t=vo(e),n=t[0],r=t[1];return wo((function(){var t=Qa.transition;Qa.transition=1;try{r(e)}finally{Qa.transition=t}}),[e]),n},useTransition:function(){var e=vo(!1),t=e[0];return yo(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ho(r,e,t,n)},useOpaqueIdentifier:function(){if(Va){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Kr++).toString(36))),Error(o(355))})),n=vo(t)[1];return 0===(2&Ja.mode)&&(Ja.flags|=516,mo(5,(function(){n("r:"+(Kr++).toString(36))}),void 0,null)),t}return vo(t="r:"+(Kr++).toString(36)),t},unstable_isNewReconciler:!1},Po={readContext:aa,useCallback:To,useContext:aa,useEffect:xo,useImperativeHandle:Eo,useLayoutEffect:_o,useMemo:Co,useReducer:co,useRef:go,useState:function(){return co(uo)},useDebugValue:Io,useDeferredValue:function(e){var t=co(uo),n=t[0],r=t[1];return xo((function(){var t=Qa.transition;Qa.transition=1;try{r(e)}finally{Qa.transition=t}}),[e]),n},useTransition:function(){var e=co(uo)[0];return[go().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return co(uo)[0]},unstable_isNewReconciler:!1},Ro={readContext:aa,useCallback:To,useContext:aa,useEffect:xo,useImperativeHandle:Eo,useLayoutEffect:_o,useMemo:Co,useReducer:lo,useRef:go,useState:function(){return lo(uo)},useDebugValue:Io,useDeferredValue:function(e){var t=lo(uo),n=t[0],r=t[1];return xo((function(){var t=Qa.transition;Qa.transition=1;try{r(e)}finally{Qa.transition=t}}),[e]),n},useTransition:function(){var e=lo(uo)[0];return[go().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return lo(uo)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Lo=!1;function Fo(e,t,n,r){t.child=null===e?Ia(t,null,n,r):Ea(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return ia(t,i),r=ao(e,t,n,r,a,i),null===e||Lo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Uo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Wu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Vo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Gu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Vo(e,t,n,r,i,a){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Lo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Lo=!0)}return zo(e,t,n,r,a)}function Zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Fo(e,t,i,n),t.child}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function zo(e,t,n,r,i){var a=mi(n)?pi:hi.current;return a=vi(t,a),ia(t,i),n=ao(e,t,n,r,a,i),null===e||Lo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function qo(e,t,n,r,i){if(mi(n)){var a=!0;bi(t)}else a=!1;if(ia(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ga(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=aa(c):c=vi(t,c=mi(n)?pi:hi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ka(t,o,r,c),oa=!1;var h=t.memoizedState;o.state=h,ha(t,r,o,i),u=t.memoizedState,s!==r||h!==u||di.current||oa?("function"===typeof l&&(va(t,n,l,r),u=t.memoizedState),(s=oa||ya(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ua(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Qi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=aa(u):u=vi(t,u=mi(n)?pi:hi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ka(t,o,r,u),oa=!1,h=t.memoizedState,o.state=h,ha(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||di.current||oa?("function"===typeof d&&(va(t,n,d,r),p=t.memoizedState),(c=oa||ya(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){Bo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&wi(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ea(t,e.child,null,a),t.child=Ea(t,null,s,a)):Fo(e,t,s,a),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),Da(e,t.containerInfo)}var Ho,Yo,Ko,Qo,$o={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=La.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),li(La,1&a),null===e?(void 0!==i.fallback&&za(t),e=i.children,a=i.fallback,o?(e=Xo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,e):"number"===typeof i.unstable_expectedLoadTime?(e=Xo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,t.lanes=33554432,e):((n=Ku({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$o,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Xo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ku(t,i,0,null),n=Yu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Gu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gu(o,s),null!==e?r=Gu(e,r):(r=Yu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ra(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=La.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(La,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Zs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Gu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Va)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&yi(),null;case 3:return Pa(),ci(di),ci(hi),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Yo(t),null;case 5:Ma(t);var a=Oa(Aa.current);if(n=t.type,null!==e&&null!=t.stateNode)Ko(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(Ca.current),Wa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$r]=t,r[Jr]=s,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Nr(Er[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,s),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",r);break;case"textarea":ue(r,s),Nr("invalid",r)}for(var c in _e(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Q(r),re(r,s,!0);break;case"textarea":Q(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe.html&&(e=he(n)),e===fe.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[Jr]=r,Ho(e,t,!1,!1),t.stateNode=e,c=Se(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Er.length;a++)Nr(Er[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=X(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Nr("invalid",e);break;default:a=r}_e(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?we(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Nr("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":Q(e),re(e,r,!1);break;case"textarea":Q(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Ur)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Oa(Aa.current),Oa(Ca.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return ci(La),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&La.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Ps||0===(134217727&Zs)&&0===(134217727&Bs)||gu(Ps,Ms))),(r||n)&&(t.flags|=4),null);case 4:return Pa(),Yo(t),null===e&&Or(t.stateNode.containerInfo),null;case 10:return na(t),null;case 19:if(ci(La),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==js||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return li(La,1&La.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Gs&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fa(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Va)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Gs&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=La.current,li(La,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:mi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Pa(),ci(di),ci(hi),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return ci(La),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(La),null;case 4:return Pa(),null;case 10:return na(e),null;case 23:case 24:return _u(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ho=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(){},Ko=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oa(Ca.current);var o,s=null;switch(n){case"input":a=X(e,a),r=X(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(f in _e(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===M?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Qo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=ca(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qs||(Qs=!0,$s=r),ls(0,t)},n}function ds(e,t,n){(n=ca(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fu(n,e),Lu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Qi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&da(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}da(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fu(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Es(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):Ss(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function Es(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Is(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?we(n,u):"dangerouslySetInnerHTML"===s?me(n,u):"children"===s?ye(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=Bi(),gs(t.child,!0)),void Ts(t);case 19:return void Ts(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,As=w.ReactCurrentDispatcher,Os=w.ReactCurrentOwner,Ds=0,Ps=null,Rs=null,Ms=0,Ls=0,Fs=ui(0),js=0,Us=null,Vs=0,Zs=0,Bs=0,zs=0,qs=null,Ws=0,Gs=1/0;function Hs(){Gs=Bi()+500}var Ys,Ks=null,Qs=!1,$s=null,Js=null,Xs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ds)?Bi():-1!==su?su:su=Bi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===zi()?1:2;if(0===uu&&(uu=Vs),0!==Ki.transition){0!==cu&&(cu=null!==qs?qs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=zi(),0!==(4&Ds)&&98===e?e=Ut(12,uu):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;Bt(e,t,n),e===Ps&&(Bs|=t,4===js&&gu(e,Ms));var r=zi();1===t?0!==(8&Ds)&&0===(48&Ds)?ku(e):(mu(e,n),0===Ds&&(Hs(),Hi())):(0===(4&Ds)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),qs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-zt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Lt(c);var f=Mt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Ps?Ms:0),t=Mt,0===r)null!==n&&(n!==Li&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Li&&Ii(n)}15===t?(n=ku.bind(null,e),null===ji?(ji=[n],Ui=Ei(Oi,Yi)):ji.push(n),n=Li):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Ds))throw Error(o(327));var t=e.callbackNode;if(Mu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ps?Ms:0);if(0===n)return null;var r=n,i=Ds;Ds|=16;var a=Iu();for(Ps===e&&Ms===r||(Hs(),Su(e,r));;)try{Nu();break}catch(u){Eu(e,u)}if(ta(),As.current=a,Ds=i,null!==Rs?r=0:(Ps=null,Ms=0,r=js),0!==(Vs&Bs))Su(e,0);else if(0!==r){if(2===r&&(Ds|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=jt(e))&&(r=Tu(e,n))),1===r)throw t=Us,Su(e,0),gu(e,n),mu(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Du(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Ws+500-Bi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qr(Du.bind(null,e),r);break}Du(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=qr(Du.bind(null,e),n);break}Du(e);break;default:throw Error(o(329))}}return mu(e,Bi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~zs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Ds))throw Error(o(327));if(Mu(),e===Ps&&0!==(e.expiredLanes&Ms)){var t=Ms,n=Tu(e,t);0!==(Vs&Bs)&&(n=Tu(e,t=Ft(e,t)))}else n=Tu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ds|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=jt(e))&&(n=Tu(e,t))),1===n)throw n=Us,Su(e,0),gu(e,t),mu(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Du(e),mu(e,Bi()),null}function bu(e,t){var n=Ds;Ds|=1;try{return e(t)}finally{0===(Ds=n)&&(Hs(),Hi())}}function wu(e,t){var n=Ds;Ds&=-2,Ds|=8;try{return e(t)}finally{0===(Ds=n)&&(Hs(),Hi())}}function xu(e,t){li(Fs,Ls),Ls|=t,Vs|=t}function _u(){Ls=Fs.current,ci(Fs)}function Su(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Pa(),ci(di),ci(hi),Ya();break;case 5:Ma(r);break;case 4:Pa();break;case 13:case 19:ci(La);break;case 10:na(r);break;case 23:case 24:_u()}n=n.return}Ps=e,Rs=Gu(e.current,null),Ms=Ls=Vs=t,js=0,Us=null,zs=Bs=Zs=0}function Eu(e,t){for(;;){var n=Rs;try{if(ta(),Ka.current=Oo,to){for(var r=Ja.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}to=!1}if($a=0,eo=Xa=Ja=null,no=!1,Os.current=null,null===n||null===n.return){js=1,Us=t,Rs=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ms,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&La.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=ca(-1,1);g.tag=2,la(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var b=Zu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((H(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,fa(h,hs(0,a,t));break e;case 1:a=u;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Js||!Js.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,fa(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Ou(n)}catch(_){t=_,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function Iu(){var e=As.current;return As.current=Oo,null===e?Oo:e}function Tu(e,t){var n=Ds;Ds|=16;var r=Iu();for(Ps===e&&Ms===t||Su(e,t);;)try{Cu();break}catch(i){Eu(e,i)}if(ta(),Ds=n,As.current=r,null!==Rs)throw Error(o(261));return Ps=null,Ms=0,js}function Cu(){for(;null!==Rs;)Au(Rs)}function Nu(){for(;null!==Rs&&!Ti();)Au(Rs)}function Au(e){var t=Ys(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Ou(e):Rs=t,Os.current=null}function Ou(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ls)))return void(Rs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ls)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Rs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===js&&(js=5)}function Du(e){var t=zi();return Wi(99,Pu.bind(null,e,t)),null}function Pu(e,t){do{Mu()}while(null!==eu);if(0!==(48&Ds))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-zt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ps&&(Rs=Ps=null,Ms=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ds,Ds|=32,Os.current=null,Vr=Yt,mr(s=vr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(I){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Zr={focusedElem:s,selectionRange:u},Yt=!1,lu=null,fu=!1,Ks=r;do{try{Ru()}catch(I){if(null===Ks)throw Error(o(330));Vu(Ks,I),Ks=Ks.nextEffect}}while(null!==Ks);lu=null,Ks=r;do{try{for(s=e;null!==Ks;){var k=Ks.flags;if(16&k&&ye(Ks.stateNode,""),128&k){var b=Ks.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xs(Ks),Ks.flags&=-3;break;case 6:xs(Ks),Ks.flags&=-3,Is(Ks.alternate,Ks);break;case 1024:Ks.flags&=-1025;break;case 1028:Ks.flags&=-1025,Is(Ks.alternate,Ks);break;case 4:Is(Ks.alternate,Ks);break;case 8:Es(s,u=Ks);var x=u.alternate;bs(u),null!==x&&bs(x)}Ks=Ks.nextEffect}}catch(I){if(null===Ks)throw Error(o(330));Vu(Ks,I),Ks=Ks.nextEffect}}while(null!==Ks);if(w=Zr,b=vr(),k=w.focusedElem,s=w.selectionRange,b!==k&&k&&k.ownerDocument&&pr(k.ownerDocument.documentElement,k)){null!==s&&mr(k)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=dr(k,x),a=dr(k,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Vr,Zr=Vr=null,e.current=n,Ks=r;do{try{for(k=e;null!==Ks;){var _=Ks.flags;if(36&_&&ys(k,Ks.alternate,Ks),128&_){b=void 0;var S=Ks.ref;if(null!==S){var E=Ks.stateNode;Ks.tag,b=E,"function"===typeof S?S(b):S.current=b}}Ks=Ks.nextEffect}}catch(I){if(null===Ks)throw Error(o(330));Vu(Ks,I),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,Fi(),Ds=i}else e.current=n;if(Xs)Xs=!1,eu=e,tu=t;else for(Ks=r;null!==Ks;)t=Ks.nextEffect,Ks.nextEffect=null,8&Ks.flags&&((_=Ks).sibling=null,_.stateNode=null),Ks=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(I){}if(mu(e,Bi()),Qs)throw Qs=!1,e=$s,$s=null,e;return 0!==(8&Ds)||Hi(),null}function Ru(){for(;null!==Ks;){var e=Ks.alternate;fu||null===lu||(0!==(8&Ks.flags)?Xe(Ks,lu)&&(fu=!0):13===Ks.tag&&Cs(e,Ks)&&Xe(Ks,lu)&&(fu=!0));var t=Ks.flags;0!==(256&t)&&ms(e,Ks),0===(512&t)||Xs||(Xs=!0,Gi(97,(function(){return Mu(),null}))),Ks=Ks.nextEffect}}function Mu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Wi(e,ju)}return!1}function Lu(e,t){nu.push(t,e),Xs||(Xs=!0,Gi(97,(function(){return Mu(),null})))}function Fu(e,t){ru.push(t,e),Xs||(Xs=!0,Gi(97,(function(){return Mu(),null})))}function ju(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ds))throw Error(o(331));var t=Ds;Ds|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ds=t,Hi(),!0}function Uu(e,t,n){la(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(Bt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(la(n,i),i=hu(),null!==(n=vu(n,1)))Bt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Zu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(Ms&n)===n&&(4===js||3===js&&(62914560&Ms)===Ms&&500>Bi()-Ws?Su(e,0):zs|=n),mu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===zi()?1:2:(0===uu&&(uu=Vs),0===(t=Vt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(Bt(e,t,n),mu(e,n))}function zu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function qu(e,t,n,r){return new zu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gu(e,t){var n=e.alternate;return null===n?((n=qu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Yu(n.children,i,a,t);case L:s=8,i|=16;break;case E:s=8,i|=1;break;case I:return(e=qu(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=a,e;case A:return(e=qu(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case O:return(e=qu(19,n,t,i)).elementType=O,e.lanes=a,e;case F:return Ku(n,i,a,t);case j:return(e=qu(24,n,t,i)).elementType=j,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case N:s=11;break e;case D:s=14;break e;case P:s=16,r=null;break e;case R:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=qu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Yu(e,t,n,r){return(e=qu(7,e,r,t)).lanes=n,e}function Ku(e,t,n,r){return(e=qu(23,e,r,t)).elementType=F,e.lanes=n,e}function Qu(e,t,n){return(e=qu(6,e,null,t)).lanes=n,e}function $u(e,t,n){return(t=qu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Zt(0),this.expirationTimes=Zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zt(0),this.mutableSourceEagerHydrationData=null}function Xu(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Ke(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=ki(n,c,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=ca(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),la(i,t),pu(i,s,a),s}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=qu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[Xr]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=ec(o);s.call(e)}}Xu(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=ec(o);u.call(e)}}wu((function(){Xu(t,o,e,i)}))}return ec(o)}function oc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ys=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||di.current)Lo=!0;else{if(0===(n&r)){switch(Lo=!1,t.tag){case 3:Go(t),Ga();break;case 5:Ra(t);break;case 1:mi(t.type)&&bi(t);break;case 4:Da(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;li($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(li(La,1&La.current),null!==(t=as(e,t,n))?t.sibling:null);li(La,1&La.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(La,La.current),r)break;return null;case 23:case 24:return t.lanes=0,Zo(e,t,n)}return as(e,t,n)}Lo=0!==(16384&e.flags)}else Lo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,hi.current),ia(t,n),i=ao(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&va(t,r,s,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===D)return 14}return 2}(i),e=Qi(i,e),a){case 0:t=zo(null,t,i,e,n);break e;case 1:t=qo(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,Qi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,zo(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ua(e,t),ha(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ua=Hr(t.stateNode.containerInfo.firstChild),ja=t,a=Va=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ha.push(a);for(n=Ia(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return Ra(t),null===e&&za(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==a&&zr(r,a)&&(t.flags|=16),Bo(e,t),Fo(e,t,s,n),t.child;case 6:return null===e&&za(t),null;case 13:return Jo(e,t,n);case 4:return Da(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ea(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(li($i,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=cr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!di.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=ca(-1,n&-n)).tag=2,la(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ra(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,ia(t,n),r=r(i=aa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Qi(i=t.type,t.pendingProps),Uo(e,t,i,a=Qi(i.type,a),r,n);case 15:return Vo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,ia(t,n),ga(t,r,i),ba(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Zo(e,t,n)}throw Error(o(156,t.tag))},rc.prototype.render=function(e){Xu(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Xu(null,e,null,(function(){t[Xr]=null}))},et=function(e){13===e.tag&&(pu(e,4,hu()),nc(e,4))},tt=function(e){13===e.tag&&(pu(e,67108864,hu()),nc(e,67108864))},nt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),nc(e,n)}},rt=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(o(90));$(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},De=bu,Pe=function(e,t,n,r,i){var a=Ds;Ds|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Ds=a)&&(Hs(),Hi())}},Re=function(){0===(49&Ds)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,Bi())}))}Hi()}(),Mu())},Me=function(e,t){var n=Ds;Ds|=2;try{return e(t)}finally{0===(Ds=n)&&(Hs(),Hi())}};var sc={Events:[ni,ri,ii,Ae,Oe,Mu,{current:!1}]},uc={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cc={bundleType:uc.bundleType,version:uc.version,rendererPackageName:uc.rendererPackageName,rendererConfig:uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:uc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{xi=lc.inject(cc),_i=lc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=oc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ds;if(0!==(48&n))return e(t);Ds|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Ds=n,Hi()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[Xr]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return oc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+I(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(s=e[c],c);u+=T(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,n,l=r+I(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function O(){var e=A.current;if(null===e)throw Error(d(321));return e}var D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>E(o,n))void 0!==u&&0>E(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>E(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],T=[],C=1,N=null,A=3,O=!1,D=!1,P=!1;function R(e){for(var t=_(T);null!==t;){if(null===t.callback)S(T);else{if(!(t.startTime<=e))break;S(T),t.sortIndex=t.expirationTime,x(I,t)}t=_(T)}}function M(e){if(P=!1,R(e),!D)if(null!==_(I))D=!0,n(L);else{var t=_(T);null!==t&&r(M,t.startTime-e)}}function L(e,n){D=!1,P&&(P=!1,i()),O=!0;var a=A;try{for(R(n),N=_(I);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===_(I)&&S(I),R(n)}else S(I);N=_(I)}if(null!==N)var u=!0;else{var c=_(T);null!==c&&r(M,c.startTime-n),u=!1}return u}finally{N=null,A=a,O=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||O||(D=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return _(I)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(T,e),null===_(I)&&e===_(T)&&(P?i():P=!0,r(M,o-s))):(e.sortIndex=u,x(I,e),D||O||(D=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5263:function(e,t,n){var r=n(8698).default;function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(a,s,u):a[s]=e[s]}return a.default=e,n&&n.set(e,a),a},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},8593:function(e){"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".419cefb9.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="amazon-aug:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkamazon_aug=self.webpackChunkamazon_aug||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return gt},SDK_VERSION:function(){return Dn},_DEFAULT_ENTRY_NAME:function(){return kn},_addComponent:function(){return _n},_addOrOverwriteComponent:function(){return Sn},_apps:function(){return wn},_clearComponents:function(){return Cn},_components:function(){return xn},_getProvider:function(){return In},_registerComponent:function(){return En},_removeServiceInstance:function(){return Tn},deleteApp:function(){return Ln},getApp:function(){return Rn},getApps:function(){return Mn},initializeApp:function(){return Pn},onLog:function(){return Un},registerVersion:function(){return jn},setLogLevel:function(){return Vn}});var t=n(2791),r=n(4164);var i=n(9439),a=n(3880),o=n(6208),s=n(3433);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=n(3144),l=n(9611);function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,l.Z)(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var p=n(1002),v=n(7326);function m(e){var t=d();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===(0,p.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,v.Z)(e)}(this,n)}}function y(e,t,n){return y=d()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,l.Z)(i,n.prototype),i},y.apply(null,arguments)}function g(e){var t="function"===typeof Map?new Map:void 0;return g=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return y(e,arguments,h(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,l.Z)(n,e)},g(e)}var k,b=n(3878),w=n(9199),x=n(181),_=n(5267);function S(e){return(0,b.Z)(e)||(0,w.Z)(e)||(0,x.Z)(e)||(0,_.Z)()}function E(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,x.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(k||(k={}));var T,C="popstate";function N(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function A(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function O(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n,r){return void 0===n&&(n=null),I({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?R(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function P(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function R(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function M(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=k.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=k.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:P(e);return N(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(I({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(C,p),f=e,function(){o.removeEventListener(C,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=k.Push;var r=D(m.location,e,t);n&&n(r,e);var i=O(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(s){o.location.assign(a)}u&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=k.Replace;var r=D(m.location,e,t);n&&n(r,e);var i=O(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),u&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(T||(T={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function L(e,t,n){void 0===n&&(n="/");var r=Q(("string"===typeof t?R(t):t).pathname||"/",n);if(null==r)return null;var i=F(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=H(i[o],K(r));return a}function F(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(N(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ee([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(N(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),F(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:G(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=E(j(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function j(e){var t=e.split("/");if(0===t.length)return[];var n=S(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=j(i.join("/")),c=[];return c.push.apply(c,(0,s.Z)(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&c.push.apply(c,(0,s.Z)(u)),c.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var U=/^:\w+$/,V=3,Z=2,B=1,z=10,q=-2,W=function(e){return"*"===e};function G(e,t){var n=e.split("/"),r=n.length;return n.some(W)&&(r+=q),t&&(r+=Z),n.filter((function(e){return!W(e)})).reduce((function(e,t){return e+(U.test(t)?V:""===t?B:z)}),r)}function H(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Y({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:ee([i,l.pathname]),pathnameBase:te(ee([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ee([i,l.pathnameBase]))}return a}function Y(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);A("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=(0,i.Z)(n,2),a=r[0],o=r[1],s=t.match(a);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return A(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function K(e){try{return decodeURI(e)}catch(t){return A(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Q(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function $(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function J(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function X(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=R(e):(N(!(i=I({},e)).pathname||!i.pathname.includes("?"),$("?","pathname","search",i)),N(!i.pathname||!i.pathname.includes("#"),$("#","pathname","hash",i)),N(!i.search||!i.search.includes("#"),$("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?R(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ne(a),hash:re(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ee=function(e){return e.join("/").replace(/\/\/+/g,"/")},te=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ne=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},re=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ie=function(e){f(n,e);var t=m(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,c.Z)(n)}(g(Error));function ae(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var oe=["post","put","patch","delete"],se=(new Set(oe),["get"].concat(oe));new Set(se),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");var ue="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ce=t.useState,le=t.useEffect,fe=t.useLayoutEffect,he=t.useDebugValue;function de(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!ue(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement;var pe=t.createContext(null);var ve=t.createContext(null);var me=t.createContext(null);var ye=t.createContext(null);var ge=t.createContext(null);var ke=t.createContext({outlet:null,matches:[]});var be=t.createContext(null);function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function xe(){return null!=t.useContext(ge)}function _e(){return xe()||N(!1),t.useContext(ge).location}function Se(){xe()||N(!1);var e=t.useContext(ye),n=e.basename,r=e.navigator,i=t.useContext(ke).matches,a=_e().pathname,o=JSON.stringify(J(i).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);t.useEffect((function(){s.current=!0}));var u=t.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=X(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:ee([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return u}var Ee=t.createContext(null);function Ie(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(ke).matches,a=_e().pathname,o=JSON.stringify(J(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return X(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function Te(){var e=function(){var e,n=t.useContext(be),r=Pe(Ne.UseRouteError),i=Re(Ne.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=ae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Ce,Ne,Ae=function(e){f(r,e);var n=m(r);function r(e){var t;return u(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return(0,c.Z)(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(ke.Provider,{value:this.props.routeContext},t.createElement(be.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function Oe(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(pe);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(ke.Provider,{value:n},i)}function De(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||N(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,c=null;r&&(c=o.route.ErrorBoundary?t.createElement(o.route.ErrorBoundary,null):o.route.errorElement?o.route.errorElement:t.createElement(Te,null));var l=n.concat(i.slice(0,s+1)),f=function(){var n=e;return u?n=c:o.route.Component?n=t.createElement(o.route.Component,null):o.route.element&&(n=o.route.element),t.createElement(Oe,{match:o,routeContext:{outlet:e,matches:l},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===s)?t.createElement(Ae,{location:r.location,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Pe(e){var n=t.useContext(ve);return n||N(!1),n}function Re(e){var n=function(e){var n=t.useContext(ke);return n||N(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||N(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Ce||(Ce={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ne||(Ne={}));var Me;function Le(e){return function(e){var n=t.useContext(ke).outlet;return n?t.createElement(Ee.Provider,{value:e},n):n}(e.context)}function Fe(e){N(!1)}function je(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?k.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;xe()&&N(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=R(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,b=p.hash,w=void 0===b?"":b,x=p.state,_=void 0===x?null:x,S=p.key,E=void 0===S?"default":S,I=t.useMemo((function(){var e=Q(m,h);return null==e?null:{location:{pathname:e,search:g,hash:w,state:_,key:E},navigationType:u}}),[h,m,g,w,_,E,u]);return null==I?null:t.createElement(ye.Provider,{value:d},t.createElement(ge.Provider,{children:a,value:I}))}function Ue(e){var n=e.children,r=e.location,i=t.useContext(pe);return function(e,n){xe()||N(!1);var r,i=t.useContext(ye).navigator,a=t.useContext(ve),o=t.useContext(ke).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,_e());if(n){var f,h="string"===typeof n?R(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||N(!1),r=h}else r=l;var d=r.pathname||"/",p=L(e,{pathname:"/"===c?d:d.slice(c.length)||"/"}),v=De(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:ee([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ee([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,a||void 0);return n&&v?t.createElement(ge.Provider,{value:{location:we({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:k.Pop}},v):v}(i&&!n?i.router.routes:Ze(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Me||(Me={}));var Ve=new Promise((function(){}));t.Component;function Ze(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat((0,s.Z)(n),[i]);if(e.type!==t.Fragment){e.type!==Fe&&N(!1),e.props.index&&e.props.children&&N(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ze(e.props.children,a)),r.push(o)}else r.push.apply(r,Ze(e.props.children,a))}})),r}function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Be.apply(this,arguments)}function ze(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var qe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function We(e){var n,r=e.basename,a=e.children,o=e.window,s=t.useRef();null==s.current&&(s.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),M((function(e,t){var n=e.location;return D("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:P(t)}),null,n)));var u=s.current,c=t.useState({action:u.action,location:u.location}),l=(0,i.Z)(c,2),f=l[0],h=l[1];return t.useLayoutEffect((function(){return u.listen(h)}),[u]),t.createElement(je,{basename:r,children:a,location:f.location,navigationType:f.action,navigator:u})}var Ge="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,He=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=ze(e,qe),d=t.useContext(ye).basename,p=!1;if("string"===typeof l&&He.test(l)&&(r=l,Ge)){var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=Q(m.pathname,d);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}var g=function(e,n){var r=(void 0===n?{}:n).relative;xe()||N(!1);var i=t.useContext(ye),a=i.basename,o=i.navigator,s=Ie(e,{relative:r}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:ee([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),k=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,c=Se(),l=_e(),f=Ie(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:P(l)===P(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a});return t.createElement("a",Be({},h,{href:r||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:n,target:c}))}));var Ke,Qe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ke||(Ke={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Qe||(Qe={}));var $e=n(184),Je=(0,t.createContext)(),Xe=function(e){var n=e.reducer,r=e.initialState,i=e.children;return(0,$e.jsx)(Je.Provider,{value:(0,t.useReducer)(n,r),children:i})},et=function(){return(0,t.useContext)(Je)},tt=n(4942),nt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},rt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(nt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new it;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},it=function(e){f(n,e);var t=m(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return(0,c.Z)(n)}(g(Error)),at=function(e){return function(e){var t=nt(e);return rt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ot=function(e){try{return rt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function st(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=st(e[n],t[n]));return e}var ut=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ct=function(){try{return ut()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&ot(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},lt=function(){var e;return null===(e=ct())||void 0===e?void 0:e.config},ft=function(){function e(){var t=this;u(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,c.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ht(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function dt(){var e,t=null===(e=ct())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function pt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function vt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function mt(){var e=ht();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function yt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var gt=function(e){f(n,e);var t=m(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf((0,v.Z)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,v.Z)(a),kt.prototype.create),a}return(0,c.Z)(n)}(g(Error)),kt=function(){function e(t,n,r){u(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,c.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(bt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new gt(n,a,t)}}]),e}();var bt=/\{\$([^}]+)}/g;function wt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function xt(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function _t(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(St(s)&&St(u)){if(!_t(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function St(e){return null!==e&&"object"===typeof e}function Et(e){for(var t=[],n=function(){var e=(0,i.Z)(a[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,a=Object.entries(e);r<a.length;r++)n();return t.length?"&"+t.join("&"):""}function It(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,i.Z)(n,2),a=r[0],o=r[1];t[decodeURIComponent(a)]=decodeURIComponent(o)}})),t}function Tt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Ct(e,t){var n=new Nt(e,t);return n.subscribe.bind(n)}var Nt=function(){function e(t,n){var r=this;u(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return(0,c.Z)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=E(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=At),void 0===r.error&&(r.error=At),void 0===r.complete&&(r.complete=At);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function At(){}function Ot(e){return e&&e._delegate?e._delegate:e}function Dt(){Dt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new I(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f={};function h(){}function d(){}function v(){}var m={};u(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=v.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==(0,p.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),u(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),u(k,s,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Pt(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Rt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Pt(a,r,i,o,s,"next",e)}function s(e){Pt(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Mt=function(){function e(t,n,r){u(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,c.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Lt="[DEFAULT]",Ft=function(){function e(t,n){u(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,c.Z)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ft;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Lt})}catch(c){}var t,n=E(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,i.Z)(t.value,2),a=r[0],o=r[1],s=this.normalizeInstanceIdentifier(a);try{var u=this.getOrInitializeService({instanceIdentifier:s});o.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Rt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,s.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,s.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=E(this.instancesDeferred.entries());try{for(s.s();!(a=s.n()).done;){var u=(0,i.Z)(a.value,2),c=u[0],l=u[1];r===this.normalizeInstanceIdentifier(c)&&l.resolve(o)}}catch(f){s.e(f)}finally{s.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(nE){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Lt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(nE){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;return this.component?this.component.multipleInstances?e:Lt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var jt,Ut,Vt=function(){function e(t){u(this,e),this.name=t,this.providers=new Map}return(0,c.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ft(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Zt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ut||(Ut={}));var Bt={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},zt=Ut.INFO,qt=(jt={},(0,tt.Z)(jt,Ut.DEBUG,"log"),(0,tt.Z)(jt,Ut.VERBOSE,"log"),(0,tt.Z)(jt,Ut.INFO,"info"),(0,tt.Z)(jt,Ut.WARN,"warn"),(0,tt.Z)(jt,Ut.ERROR,"error"),jt),Wt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=qt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Gt=function(){function e(t){u(this,e),this.name=t,this._logLevel=zt,this._logHandler=Wt,this._userLogHandler=null,Zt.push(this)}return(0,c.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ut))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Bt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ut.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ut.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ut.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ut.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ut.INFO].concat(t)),this._logHandler.apply(this,[this,Ut.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ut.WARN].concat(t)),this._logHandler.apply(this,[this,Ut.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ut.ERROR].concat(t)),this._logHandler.apply(this,[this,Ut.ERROR].concat(t))}}]),e}();function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){(0,tt.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kt,Qt,$t=function(e,t){return t.some((function(t){return e instanceof t}))};var Jt=new WeakMap,Xt=new WeakMap,en=new WeakMap,tn=new WeakMap,nn=new WeakMap;var rn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Xt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||en.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function an(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Qt||(Qt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(un(this),n),sn(Jt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return sn(e.apply(un(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[un(this),t].concat(r));return en.set(a,t.sort?t.sort():[t]),sn(a)}}function on(e){return"function"===typeof e?an(e):(e instanceof IDBTransaction&&function(e){if(!Xt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Xt.set(e,t)}}(e),$t(e,Kt||(Kt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,rn):e)}function sn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(sn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Jt.set(t,e)})).catch((function(){})),nn.set(t,e),t}(e);if(tn.has(e))return tn.get(e);var t=on(e);return t!==e&&(tn.set(e,t),nn.set(t,e)),t}var un=function(e){return nn.get(e)};var cn,ln,fn=["get","getKey","getAll","getAllKeys","count"],hn=["put","add","delete","clear"],dn=new Map;function pn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(dn.get(t))return dn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=hn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||fn.includes(n))){var a=function(){var e=Rt(Dt().mark((function e(t){var a,o,s,u,c,l,f=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return dn.set(t,a),a}}}rn=function(e){return Yt(Yt({},e),{},{get:function(t,n,r){return pn(t,n)||e.get(t,n,r)},has:function(t,n){return!!pn(t,n)||e.has(t,n)}})}(rn);var vn=function(){function e(t){u(this,e),this.container=t}return(0,c.Z)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var mn="@firebase/app",yn="0.9.8",gn=new Gt("@firebase/app"),kn="[DEFAULT]",bn=(cn={},(0,tt.Z)(cn,mn,"fire-core"),(0,tt.Z)(cn,"@firebase/app-compat","fire-core-compat"),(0,tt.Z)(cn,"@firebase/analytics","fire-analytics"),(0,tt.Z)(cn,"@firebase/analytics-compat","fire-analytics-compat"),(0,tt.Z)(cn,"@firebase/app-check","fire-app-check"),(0,tt.Z)(cn,"@firebase/app-check-compat","fire-app-check-compat"),(0,tt.Z)(cn,"@firebase/auth","fire-auth"),(0,tt.Z)(cn,"@firebase/auth-compat","fire-auth-compat"),(0,tt.Z)(cn,"@firebase/database","fire-rtdb"),(0,tt.Z)(cn,"@firebase/database-compat","fire-rtdb-compat"),(0,tt.Z)(cn,"@firebase/functions","fire-fn"),(0,tt.Z)(cn,"@firebase/functions-compat","fire-fn-compat"),(0,tt.Z)(cn,"@firebase/installations","fire-iid"),(0,tt.Z)(cn,"@firebase/installations-compat","fire-iid-compat"),(0,tt.Z)(cn,"@firebase/messaging","fire-fcm"),(0,tt.Z)(cn,"@firebase/messaging-compat","fire-fcm-compat"),(0,tt.Z)(cn,"@firebase/performance","fire-perf"),(0,tt.Z)(cn,"@firebase/performance-compat","fire-perf-compat"),(0,tt.Z)(cn,"@firebase/remote-config","fire-rc"),(0,tt.Z)(cn,"@firebase/remote-config-compat","fire-rc-compat"),(0,tt.Z)(cn,"@firebase/storage","fire-gcs"),(0,tt.Z)(cn,"@firebase/storage-compat","fire-gcs-compat"),(0,tt.Z)(cn,"@firebase/firestore","fire-fst"),(0,tt.Z)(cn,"@firebase/firestore-compat","fire-fst-compat"),(0,tt.Z)(cn,"fire-js","fire-js"),(0,tt.Z)(cn,"firebase","fire-js-all"),cn),wn=new Map,xn=new Map;function _n(e,t){try{e.container.addComponent(t)}catch(n){gn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Sn(e,t){e.container.addOrOverwriteComponent(t)}function En(e){var t=e.name;if(xn.has(t))return gn.debug("There were multiple attempts to register component ".concat(t,".")),!1;xn.set(t,e);var n,r=E(wn.values());try{for(r.s();!(n=r.n()).done;){_n(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function In(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Tn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kn;In(e,t).clearInstance(n)}function Cn(){xn.clear()}var Nn=(ln={},(0,tt.Z)(ln,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,tt.Z)(ln,"bad-app-name","Illegal App name: '{$appName}"),(0,tt.Z)(ln,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,tt.Z)(ln,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,tt.Z)(ln,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,tt.Z)(ln,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,tt.Z)(ln,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,tt.Z)(ln,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,tt.Z)(ln,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,tt.Z)(ln,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,tt.Z)(ln,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ln),An=new kt("app","Firebase",Nn),On=function(){function e(t,n,r){var i=this;u(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mt("app",(function(){return i}),"PUBLIC"))}return(0,c.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}]),e}(),Dn="9.20.0";function Pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:kn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw An.create("bad-app-name",{appName:String(i)});if(n||(n=lt()),!n)throw An.create("no-options");var a=wn.get(i);if(a){if(_t(n,a.options)&&_t(r,a.config))return a;throw An.create("duplicate-app",{appName:i})}var o,s=new Vt(i),u=E(xn.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new On(n,r,s);return wn.set(i,l),l}function Rn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn,t=wn.get(e);if(!t&&e===kn)return Pn();if(!t)throw An.create("no-app",{appName:e});return t}function Mn(){return Array.from(wn.values())}function Ln(e){return Fn.apply(this,arguments)}function Fn(){return Fn=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!wn.has(n)){e.next=6;break}return wn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Fn.apply(this,arguments)}function jn(e,t,n){var r,i=null!==(r=bn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void gn.warn(s.join(" "))}En(new Mt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Un(e,t){if(null!==e&&"function"!==typeof e)throw An.create("invalid-log-argument");!function(e,t){var n,r=E(Zt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Bt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ut[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Vn(e){var t;t=e,Zt.forEach((function(e){e.setLogLevel(t)}))}var Zn="firebase-heartbeat-database",Bn=1,zn="firebase-heartbeat-store",qn=null;function Wn(){return qn||(qn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=sn(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(sn(s.result),e.oldVersion,e.newVersion,sn(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(Zn,Bn,{upgrade:function(e,t){if(0===t)e.createObjectStore(zn)}}).catch((function(e){throw An.create("idb-open",{originalErrorMessage:e.message})}))),qn}function Gn(e){return Hn.apply(this,arguments)}function Hn(){return Hn=Rt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wn();case 3:return n=e.sent,e.abrupt("return",n.transaction(zn).objectStore(zn).get(Qn(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof gt?gn.warn(e.t0.message):(r=An.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),gn.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Hn.apply(this,arguments)}function Yn(e,t){return Kn.apply(this,arguments)}function Kn(){return Kn=Rt(Dt().mark((function e(t,n){var r,i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wn();case 3:return r=e.sent,i=r.transaction(zn,"readwrite"),a=i.objectStore(zn),e.next=8,a.put(n,Qn(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof gt?gn.warn(e.t0.message):(o=An.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),gn.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Kn.apply(this,arguments)}function Qn(e){return"".concat(e.name,"!").concat(e.options.appId)}var $n=function(){function e(t){var n=this;u(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new nr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return(0,c.Z)(e,[{key:"triggerHeartbeat",value:function(){var e=Rt(Dt().mark((function e(){var t,n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Jn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Rt(Dt().mark((function e(){var t,n,r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Jn(),n=Xn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=at(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Jn(){return(new Date).toISOString().substring(0,10)}function Xn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=E(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),rr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),rr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var er,tr,nr=function(){function e(t){u(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,c.Z)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Rt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Gn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Rt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Yn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Rt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Yn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,s.Z)(r.heartbeats),(0,s.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function rr(e){return at(JSON.stringify({version:2,heartbeats:e})).length}er="",En(new Mt("platform-logger",(function(e){return new vn(e)}),"PRIVATE")),En(new Mt("heartbeat",(function(e){return new $n(e)}),"PRIVATE")),jn(mn,yn,er),jn(mn,yn,"esm2017"),jn("fire-js","");var ir=function(){function e(t,n){var r=this;u(this,e),this._delegate=t,this.firebase=n,_n(t,new Mt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return(0,c.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ln(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){_n(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Sn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ar=(tr={},(0,tt.Z)(tr,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,tt.Z)(tr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),tr),or=new kt("app-compat","Firebase",ar);var sr=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Pn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(wt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:jn,setLogLevel:Vn,onLog:Un,apps:null,SDK_VERSION:Dn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(En(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw or.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&st(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!wt(n,e=e||kn))throw or.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ir);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){st(n,e)},createSubscribe:Ct,ErrorFactory:kt,deepExtend:st}),n}(),ur=new Gt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ur.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var cr=self.firebase.SDK_VERSION;cr&&cr.indexOf("LITE")>=0&&ur.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var lr=sr;!function(e){jn("@firebase/app-compat","0.2.8",e)}();function fr(){return fr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},fr.apply(this,arguments)}lr.registerVersion("firebase","9.20.0","app-compat");function hr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var dr;Object.create;var pr={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},vr="EMAIL_SIGNIN",mr="PASSWORD_RESET",yr="RECOVER_EMAIL",gr="REVERT_SECOND_FACTOR_ADDITION",kr="VERIFY_AND_CHANGE_EMAIL",br="VERIFY_EMAIL";function wr(){return(0,tt.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var xr=function(){var e;return e={},(0,tt.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,tt.Z)(e,"argument-error",""),(0,tt.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,tt.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,tt.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,tt.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,tt.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,tt.Z)(e,"cors-unsupported","This browser is not supported."),(0,tt.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,tt.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,tt.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,tt.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,tt.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,tt.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,tt.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,tt.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,tt.Z)(e,"expired-action-code","The action code has expired."),(0,tt.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,tt.Z)(e,"internal-error","An internal AuthError has occurred."),(0,tt.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,tt.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,tt.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,tt.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,tt.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,tt.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,tt.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,tt.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,tt.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,tt.Z)(e,"invalid-email","The email address is badly formatted."),(0,tt.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,tt.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,tt.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,tt.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,tt.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,tt.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,tt.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,tt.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,tt.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,tt.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,tt.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,tt.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,tt.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,tt.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,tt.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,tt.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,tt.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,tt.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,tt.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,tt.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,tt.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,tt.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,tt.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,tt.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,tt.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,tt.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,tt.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,tt.Z)(e,"missing-password","A non-empty password must be provided"),(0,tt.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,tt.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,tt.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,tt.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,tt.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,tt.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,tt.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,tt.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,tt.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,tt.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,tt.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,tt.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,tt.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,tt.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,tt.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,tt.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,tt.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,tt.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,tt.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,tt.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,tt.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,tt.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,tt.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,tt.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,tt.Z)(e,"timeout","The operation has timed out."),(0,tt.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,tt.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,tt.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,tt.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,tt.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,tt.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,tt.Z)(e,"unverified-email","The operation requires a verified email."),(0,tt.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,tt.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,tt.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,tt.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,tt.Z)(e,"user-signed-out",""),(0,tt.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,tt.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,tt.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),(0,tt.Z)(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),(0,tt.Z)(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),(0,tt.Z)(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),(0,tt.Z)(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),(0,tt.Z)(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),(0,tt.Z)(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),(0,tt.Z)(e,"invalid-req-type","Invalid request parameters."),(0,tt.Z)(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},_r=wr,Sr=new kt("auth","Firebase",wr()),Er=new Gt("@firebase/auth");function Ir(e){if(Er.logLevel<=Ut.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Er.warn.apply(Er,["Auth (".concat(Dn,"): ").concat(e)].concat(n))}}function Tr(e){if(Er.logLevel<=Ut.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Er.error.apply(Er,["Auth (".concat(Dn,"): ").concat(e)].concat(n))}}function Cr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Dr.apply(void 0,[e].concat(n))}function Nr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Dr.apply(void 0,[e].concat(n))}function Ar(e,t,n){var r=Object.assign(Object.assign({},_r()),(0,tt.Z)({},t,n));return new kt("auth","Firebase",r).create(t,{appName:e.name})}function Or(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Cr(e,"argument-error"),Ar(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Dr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,s.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,s.Z)(o)))}return Sr.create.apply(Sr,[e].concat(n))}function Pr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Dr.apply(void 0,[t].concat(r))}}function Rr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Tr(t),new Error(t)}function Mr(e,t){e||Rr(t)}function Lr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Fr(){return"http:"===jr()||"https:"===jr()}function jr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ur=function(){function e(t,n){u(this,e),this.shortDelay=t,this.longDelay=n,Mr(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())||vt()}return(0,c.Z)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Fr()||pt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Vr(e,t){Mr(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Zr=function(){function e(){u(this,e)}return(0,c.Z)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Br=(dr={},(0,tt.Z)(dr,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,tt.Z)(dr,"MISSING_CUSTOM_TOKEN","internal-error"),(0,tt.Z)(dr,"INVALID_IDENTIFIER","invalid-email"),(0,tt.Z)(dr,"MISSING_CONTINUE_URI","internal-error"),(0,tt.Z)(dr,"INVALID_PASSWORD","wrong-password"),(0,tt.Z)(dr,"MISSING_PASSWORD","missing-password"),(0,tt.Z)(dr,"EMAIL_EXISTS","email-already-in-use"),(0,tt.Z)(dr,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,tt.Z)(dr,"INVALID_IDP_RESPONSE","invalid-credential"),(0,tt.Z)(dr,"INVALID_PENDING_TOKEN","invalid-credential"),(0,tt.Z)(dr,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,tt.Z)(dr,"MISSING_REQ_TYPE","internal-error"),(0,tt.Z)(dr,"EMAIL_NOT_FOUND","user-not-found"),(0,tt.Z)(dr,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,tt.Z)(dr,"EXPIRED_OOB_CODE","expired-action-code"),(0,tt.Z)(dr,"INVALID_OOB_CODE","invalid-action-code"),(0,tt.Z)(dr,"MISSING_OOB_CODE","internal-error"),(0,tt.Z)(dr,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,tt.Z)(dr,"INVALID_ID_TOKEN","invalid-user-token"),(0,tt.Z)(dr,"TOKEN_EXPIRED","user-token-expired"),(0,tt.Z)(dr,"USER_NOT_FOUND","user-token-expired"),(0,tt.Z)(dr,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,tt.Z)(dr,"INVALID_CODE","invalid-verification-code"),(0,tt.Z)(dr,"INVALID_SESSION_INFO","invalid-verification-id"),(0,tt.Z)(dr,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,tt.Z)(dr,"MISSING_SESSION_INFO","missing-verification-id"),(0,tt.Z)(dr,"SESSION_EXPIRED","code-expired"),(0,tt.Z)(dr,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,tt.Z)(dr,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,tt.Z)(dr,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,tt.Z)(dr,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,tt.Z)(dr,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,tt.Z)(dr,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,tt.Z)(dr,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,tt.Z)(dr,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,tt.Z)(dr,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,tt.Z)(dr,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,tt.Z)(dr,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),(0,tt.Z)(dr,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),(0,tt.Z)(dr,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),(0,tt.Z)(dr,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),(0,tt.Z)(dr,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),(0,tt.Z)(dr,"MISSING_CLIENT_TYPE","missing-client-type"),(0,tt.Z)(dr,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),(0,tt.Z)(dr,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),(0,tt.Z)(dr,"INVALID_REQ_TYPE","invalid-req-type"),dr),zr=new Ur(3e4,6e4);function qr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Wr(e,t,n,r){return Gr.apply(this,arguments)}function Gr(){return Gr=Rt(Dt().mark((function e(t,n,r,i){var a,o=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Hr(t,a,Rt(Dt().mark((function e(){var a,o,s,u;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Et(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Zr.fetch()($r(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Gr.apply(this,arguments)}function Hr(e,t,n){return Yr.apply(this,arguments)}function Yr(){return Yr=Rt(Dt().mark((function e(t,n,r){var a,o,s,u,c,l,f,h,d,p;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,a=Object.assign(Object.assign({},Br),n),e.prev=2,o=new Jr(t),e.next=6,Promise.race([r(),o.promise]);case 6:return s=e.sent,o.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Xr(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=(0,i.Z)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Xr(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Xr(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Xr(t,"user-disabled",u);case 29:if(p=a[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Ar(t,p,d);case 34:Cr(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof gt)){e.next=41;break}throw e.t0;case 41:Cr(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Yr.apply(this,arguments)}function Kr(e,t,n,r){return Qr.apply(this,arguments)}function Qr(){return Qr=Rt(Dt().mark((function e(t,n,r,i){var a,o,s=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Wr(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Cr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Qr.apply(this,arguments)}function $r(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Vr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Jr=function(){function e(t){var n=this;u(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Nr(n.auth,"network-request-failed"))}),zr.get())}))}return(0,c.Z)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Xr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Nr(e,t,r);return i.customData._tokenResponse=n,i}function ei(e,t){return ti.apply(this,arguments)}function ti(){return ti=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),ti.apply(this,arguments)}function ni(e,t){return ri.apply(this,arguments)}function ri(){return ri=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}function ii(e,t){return ai.apply(this,arguments)}function ai(){return ai=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ai.apply(this,arguments)}function oi(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function si(){return si=Rt(Dt().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Ot(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Pr((a=ci(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:oi(ui(a.auth_time)),issuedAtTime:oi(ui(a.iat)),expirationTime:oi(ui(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),si.apply(this,arguments)}function ui(e){return 1e3*Number(e)}function ci(e){var t=e.split("."),n=(0,i.Z)(t,3),r=n[0],a=n[1],o=n[2];if(void 0===r||void 0===a||void 0===o)return Tr("JWT malformed, contained fewer than 3 sections"),null;try{var s=ot(a);return s?JSON.parse(s):(Tr("Failed to decode base64 JWT payload"),null)}catch(u){return Tr("Caught error parsing JWT payload as JSON",null===u||void 0===u?void 0:u.toString()),null}}function li(e,t){return fi.apply(this,arguments)}function fi(){return fi=Rt(Dt().mark((function e(t,n){var r=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof gt&&hi(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),fi.apply(this,arguments)}function hi(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var di=function(){function e(t){u(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return(0,c.Z)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Rt(Dt().mark((function t(){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),pi=function(){function e(t,n){u(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return(0,c.Z)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=oi(this.lastLoginAt),this.creationTime=oi(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function vi(e){return mi.apply(this,arguments)}function mi(){return mi=Rt(Dt().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,li(t,ii(r,{idToken:i}));case 6:Pr(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=hr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=gi(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new pi(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),mi.apply(this,arguments)}function yi(){return(yi=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ot(t),e.next=3,vi(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gi(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,s.Z)(n),(0,s.Z)(t))}function ki(e,t){return bi.apply(this,arguments)}function bi(){return bi=Rt(Dt().mark((function e(t,n){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hr(t,{},Rt(Dt().mark((function e(){var r,i,a,o,s,u;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Et({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=$r(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Zr.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),bi.apply(this,arguments)}var wi=function(){function e(){u(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return(0,c.Z)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Pr(e.idToken,"internal-error"),Pr("undefined"!==typeof e.idToken,"internal-error"),Pr("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ci(e);return Pr(t,"internal-error"),Pr("undefined"!==typeof t.exp,"internal-error"),Pr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Rt(Dt().mark((function e(t){var n,r=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Pr(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Rt(Dt().mark((function e(t,n){var r,i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ki(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Rr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Pr("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Pr("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Pr("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function xi(e,t){Pr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var _i=function(){function e(t){u(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=hr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new di(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,s.Z)(a.providerData):[],this.metadata=new pi(a.createdAt||void 0,a.lastLoginAt||void 0)}return(0,c.Z)(e,[{key:"getIdToken",value:function(){var e=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,li(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Pr(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return si.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return yi.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Pr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Pr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Rt(Dt().mark((function e(t){var n,r,i=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,vi(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Rt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,li(this,ei(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Pr(k&&_,t,"internal-error");var S=wi.fromJSON(this.name,_);Pr("string"===typeof k,t,"internal-error"),xi(f,t.name),xi(h,t.name),Pr("boolean"===typeof b,t,"internal-error"),Pr("boolean"===typeof w,t,"internal-error"),xi(d,t.name),xi(p,t.name),xi(v,t.name),xi(m,t.name),xi(y,t.name),xi(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Rt(Dt().mark((function t(n,r){var i,a,o,s=arguments;return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new wi).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,vi(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Si=new Map;function Ei(e){Mr(e instanceof Function,"Expected a class definition");var t=Si.get(e);return t?(Mr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Si.set(e,t),t)}var Ii=function(){function e(){u(this,e),this.type="NONE",this.storage={}}return(0,c.Z)(e,[{key:"_isAvailable",value:function(){var e=Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ii.type="NONE";var Ti=Ii;function Ci(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ni=function(){function e(t,n,r){u(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ci(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ci("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return(0,c.Z)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Rt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?_i._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Rt(Dt().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ei(Ti),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Ei(Ti),s=Ci(i,n.config.apiKey,n.name),u=null,c=E(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=_i._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ai(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ri(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Oi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Li(t))return"Blackberry";if(Fi(t))return"Webos";if(Di(t))return"Safari";if((t.includes("chrome/")||Pi(t))&&!t.includes("edge/"))return"Chrome";if(Mi(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/firefox\//i.test(e)}function Di(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/crios\//i.test(e)}function Ri(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/iemobile/i.test(e)}function Mi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/android/i.test(e)}function Li(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/blackberry/i.test(e)}function Fi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/webos/i.test(e)}function ji(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ui(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return ji(e)||Mi(e)||Fi(e)||Li(e)||/windows phone/i.test(e)||Ri(e)}function Vi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ai(ht());break;case"Worker":t="".concat(Ai(ht()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Dn,"/").concat(r)}function Zi(e){return Bi.apply(this,arguments)}function Bi(){return Bi=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wr(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}function zi(e,t){return qi.apply(this,arguments)}function qi(){return qi=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"GET","/v2/recaptchaConfig",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),qi.apply(this,arguments)}function Wi(e){return void 0!==e&&void 0!==e.getResponse}function Gi(e){return void 0!==e&&void 0!==e.enterprise}var Hi=(0,c.Z)((function e(t){if(u(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Yi(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Nr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ki(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Qi=function(){function e(t){u(this,e),this.type="recaptcha-enterprise",this.auth=ta(t)}return(0,c.Z)(e,[{key:"verify",value:function(){var e=Rt(Dt().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Gi(i)?i.enterprise.ready((function(){try{i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(e){r(e)}))}catch(a){r(a)}})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=Rt(Dt().mark((function e(n,r){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zi(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Hi(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Gi(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Yi("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function $i(e,t,n){return Ji.apply(this,arguments)}function Ji(){return Ji=Rt(Dt().mark((function e(t,n,r){var i,a,o,s,u=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new Qi(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Ji.apply(this,arguments)}var Xi=function(){function e(t){u(this,e),this.auth=t,this.queue=[]}return(0,c.Z)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Rt(Dt().mark((function e(t){var n,r,i,a,o,s,u;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=E(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=E(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ea=function(){function e(t,n,r,i){u(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new na(this),this.idTokenSubscription=new na(this),this.beforeStateQueue=new Xi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return(0,c.Z)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ei(t)),this._initializationPromise=this.queue(Rt(Dt().mark((function r(){var i,a;return Dt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ni.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Rt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Rt(Dt().mark((function e(t){var n,r,i,a,o,s,u;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Pr(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vi(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ot(t):null)&&Pr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Rt(Dt().mark((function e(t){var n,r=this,i=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Pr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Rt(Dt().mark((function n(){return Dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ei(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=Rt(Dt().mark((function e(){var t,n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zi(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Hi(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Qi(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new kt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Rt(Dt().mark((function e(t,n){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Pr(n=t&&Ei(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ni.create(this,[Ei(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Rt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Rt(Dt().mark((function e(t){var n=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Pr(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Pr(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vi(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Rt(Dt().mark((function e(){var t,n,r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,tt.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Rt(Dt().mark((function e(){var t,n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Ir("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ta(e){return Ot(e)}var na=function(){function e(t){var n=this;u(this,e),this.auth=t,this.observer=null,this.addObserver=Ct((function(e){return n.observer=e}))}return(0,c.Z)(e,[{key:"next",get:function(){return Pr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function ra(e,t,n){var r=ta(e);Pr(r._canInitEmulator,r,"emulator-config-failed"),Pr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var a=!!(null===n||void 0===n?void 0:n.disableWarnings),o=ia(t),s=function(e){var t=ia(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){var o=a[1];return{host:o,port:aa(r.substr(o.length+1))}}var s=r.split(":"),u=(0,i.Z)(s,2);return{host:u[0],port:aa(u[1])}}(t),u=s.host,c=s.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(o,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ia(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function aa(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var oa=function(){function e(t,n){u(this,e),this.providerId=t,this.signInMethod=n}return(0,c.Z)(e,[{key:"toJSON",value:function(){return Rr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Rr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Rr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Rr("not implemented")}}]),e}();function sa(e,t){return ua.apply(this,arguments)}function ua(){return ua=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:resetPassword",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ua.apply(this,arguments)}function ca(e,t){return la.apply(this,arguments)}function la(){return la=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),la.apply(this,arguments)}function fa(e,t){return ha.apply(this,arguments)}function ha(){return ha=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:update",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}function da(e,t){return pa.apply(this,arguments)}function pa(){return pa=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kr(t,"POST","/v1/accounts:signInWithPassword",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),pa.apply(this,arguments)}function va(e,t){return ma.apply(this,arguments)}function ma(){return ma=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:sendOobCode",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ma.apply(this,arguments)}function ya(e,t){return ga.apply(this,arguments)}function ga(){return ga=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",va(t,n));case 1:case"end":return e.stop()}}),e)}))),ga.apply(this,arguments)}function ka(e,t){return ba.apply(this,arguments)}function ba(){return ba=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",va(t,n));case 1:case"end":return e.stop()}}),e)}))),ba.apply(this,arguments)}function wa(e,t){return xa.apply(this,arguments)}function xa(){return xa=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",va(t,n));case 1:case"end":return e.stop()}}),e)}))),xa.apply(this,arguments)}function _a(e,t){return Sa.apply(this,arguments)}function Sa(){return Sa=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",va(t,n));case 1:case"end":return e.stop()}}),e)}))),Sa.apply(this,arguments)}function Ea(e,t){return Ia.apply(this,arguments)}function Ia(){return Ia=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kr(t,"POST","/v1/accounts:signInWithEmailLink",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ia.apply(this,arguments)}function Ta(e,t){return Ca.apply(this,arguments)}function Ca(){return Ca=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kr(t,"POST","/v1/accounts:signInWithEmailLink",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ca.apply(this,arguments)}var Na=function(e){f(n,e);var t=m(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return u(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return(0,c.Z)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Rt(Dt().mark((function e(t){var n,r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,$i(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",da(t,i));case 11:return e.abrupt("return",da(t,r).catch(function(){var e=Rt(Dt().mark((function e(n){var i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,$i(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",da(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Ea(t,{email:this._email,oobCode:this._password}));case 13:Cr(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ca(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ta(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Cr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(oa);function Aa(e,t){return Oa.apply(this,arguments)}function Oa(){return Oa=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kr(t,"POST","/v1/accounts:signInWithIdp",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Oa.apply(this,arguments)}var Da=function(e){f(n,e);var t=m(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return(0,c.Z)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Aa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Aa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Aa(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Et(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=hr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(oa);function Pa(e,t){return Ra.apply(this,arguments)}function Ra(){return Ra=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:sendVerificationCode",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ra.apply(this,arguments)}function Ma(){return Ma=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kr(t,"POST","/v1/accounts:signInWithPhoneNumber",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}function La(){return La=Rt(Dt().mark((function e(t,n){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kr(t,"POST","/v1/accounts:signInWithPhoneNumber",qr(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Xr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),La.apply(this,arguments)}var Fa=(0,tt.Z)({},"USER_NOT_FOUND","user-not-found");function ja(){return ja=Rt(Dt().mark((function e(t,n){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Kr(t,"POST","/v1/accounts:signInWithPhoneNumber",qr(t,r),Fa));case 2:case"end":return e.stop()}}),e)}))),ja.apply(this,arguments)}var Ua=function(e){f(n,e);var t=m(n);function n(e){var r;return u(this,n),(r=t.call(this,"phone","phone")).params=e,r}return(0,c.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ma.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return La.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ja.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(oa);var Va=function(){function e(t){var n,r,i,a,o,s;u(this,e);var c=It(Tt(t)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,f=null!==(r=c.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);Pr(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(a=c.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=c.tenantId)&&void 0!==s?s:null}return(0,c.Z)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=It(Tt(e)).link,n=t?It(Tt(t)).deep_link_id:null,r=It(Tt(e)).deep_link_id;return(r?It(Tt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(nE){return null}}}]),e}();var Za=function(){function e(){u(this,e),this.providerId=e.PROVIDER_ID}return(0,c.Z)(e,null,[{key:"credential",value:function(e,t){return Na._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Va.parseLink(t);return Pr(n,"argument-error"),Na._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Za.PROVIDER_ID="password",Za.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ba=function(){function e(t){u(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return(0,c.Z)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),za=function(e){f(n,e);var t=m(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).scopes=[],e}return(0,c.Z)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,s.Z)(this.scopes)}}]),n}(Ba),qa=function(e){f(n,e);var t=m(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Pr(e.idToken||e.accessToken,"argument-error"),Da._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Pr("providerId"in t&&"signInMethod"in t,"argument-error"),Da._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(za),Wa=function(e){f(n,e);var t=m(n);function n(){return u(this,n),t.call(this,"facebook.com")}return(0,c.Z)(n,null,[{key:"credential",value:function(e){return Da._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(nE){return null}}}]),n}(za);Wa.FACEBOOK_SIGN_IN_METHOD="facebook.com",Wa.PROVIDER_ID="facebook.com";var Ga=function(e){f(n,e);var t=m(n);function n(){var e;return u(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return(0,c.Z)(n,null,[{key:"credential",value:function(e,t){return Da._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(nE){return null}}}]),n}(za);Ga.GOOGLE_SIGN_IN_METHOD="google.com",Ga.PROVIDER_ID="google.com";var Ha=function(e){f(n,e);var t=m(n);function n(){return u(this,n),t.call(this,"github.com")}return(0,c.Z)(n,null,[{key:"credential",value:function(e){return Da._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(nE){return null}}}]),n}(za);Ha.GITHUB_SIGN_IN_METHOD="github.com",Ha.PROVIDER_ID="github.com";var Ya=function(e){f(n,e);var t=m(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return(0,c.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return Aa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Aa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Aa(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(oa),Ka=function(e){f(n,e);var t=m(n);function n(e){return u(this,n),Pr(e.startsWith("saml."),"argument-error"),t.call(this,e)}return(0,c.Z)(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ya.fromJSON(e);return Pr(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ya._create(r,n)}catch(i){return null}}}]),n}(Ba),Qa=function(e){f(n,e);var t=m(n);function n(){return u(this,n),t.call(this,"twitter.com")}return(0,c.Z)(n,null,[{key:"credential",value:function(e,t){return Da._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(nE){return null}}}]),n}(za);function $a(e,t){return Ja.apply(this,arguments)}function Ja(){return Ja=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kr(t,"POST","/v1/accounts:signUp",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ja.apply(this,arguments)}Qa.TWITTER_SIGN_IN_METHOD="twitter.com",Qa.PROVIDER_ID="twitter.com";var Xa=function(){function e(t){u(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return(0,c.Z)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Rt(Dt().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,_i._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=eo(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Rt(Dt().mark((function t(n,r,i){var a;return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=eo(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function eo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function to(){return to=Rt(Dt().mark((function e(t){var n,r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ta(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Xa({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,$a(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Xa._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),to.apply(this,arguments)}var no=function(e){f(n,e);var t=m(n);function n(e,r,i,a){var o,s;return u(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf((0,v.Z)(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return(0,c.Z)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(gt);function ro(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw no._fromErrorAndOperation(e,n,t,r);throw n}))}function io(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function ao(e,t){return oo.apply(this,arguments)}function oo(){return oo=Rt(Dt().mark((function e(t,n){var r,i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ot(t),e.next=3,co(!0,r,n);case 3:return e.t0=ni,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=io(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),oo.apply(this,arguments)}function so(e,t){return uo.apply(this,arguments)}function uo(){return uo=Rt(Dt().mark((function e(t,n){var r,i,a=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=li,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Xa._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),uo.apply(this,arguments)}function co(e,t,n){return lo.apply(this,arguments)}function lo(){return(lo=Rt(Dt().mark((function e(t,n,r){var i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vi(n);case 2:i=io(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Pr(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fo(e,t){return ho.apply(this,arguments)}function ho(){return ho=Rt(Dt().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,li(t,ro(i,a,n,t),r);case 6:return Pr((o=e.sent).idToken,i,"internal-error"),Pr(s=ci(o.idToken),i,"internal-error"),u=s.sub,Pr(t.uid===u,i,"user-mismatch"),e.abrupt("return",Xa._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Cr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),ho.apply(this,arguments)}function po(e,t){return vo.apply(this,arguments)}function vo(){return vo=Rt(Dt().mark((function e(t,n){var r,i,a,o,s=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,ro(t,i,n);case 4:return a=e.sent,e.next=7,Xa._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),vo.apply(this,arguments)}function mo(e,t){return yo.apply(this,arguments)}function yo(){return yo=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",po(ta(t),n));case 1:case"end":return e.stop()}}),e)}))),yo.apply(this,arguments)}function go(e,t){return ko.apply(this,arguments)}function ko(){return(ko=Rt(Dt().mark((function e(t,n){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ot(t),e.next=3,co(!1,r,n.providerId);case 3:return e.abrupt("return",so(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bo(e,t){return wo.apply(this,arguments)}function wo(){return(wo=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fo(Ot(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xo(e,t){return _o.apply(this,arguments)}function _o(){return _o=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kr(t,"POST","/v1/accounts:signInWithCustomToken",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),_o.apply(this,arguments)}function So(){return So=Rt(Dt().mark((function e(t,n){var r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ta(t),e.next=3,xo(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Xa._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),So.apply(this,arguments)}var Eo=function(){function e(t,n){u(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return(0,c.Z)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Io._fromServerResponse(e,t):"totpInfo"in t?To._fromServerResponse(e,t):Cr(e,"internal-error")}}]),e}(),Io=function(e){f(n,e);var t=m(n);function n(e){var r;return u(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return(0,c.Z)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Eo),To=function(e){f(n,e);var t=m(n);function n(e){return u(this,n),t.call(this,"totp",e)}return(0,c.Z)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Eo);function Co(e,t,n){var r;Pr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Pr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Pr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Pr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function No(){return No=Rt(Dt().mark((function e(t,n,r){var i,a,o,s;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ta(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,$i(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&Co(a,s,r),e.next=9,ka(a,s);case 9:e.next=14;break;case 11:return r&&Co(a,o,r),e.next=14,ka(a,o).catch(function(){var e=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,$i(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&Co(a,n,r),e.next=8,ka(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}function Ao(){return Ao=Rt(Dt().mark((function e(t,n,r){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sa(Ot(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}function Oo(){return Oo=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fa(Ot(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Oo.apply(this,arguments)}function Do(e,t){return Po.apply(this,arguments)}function Po(){return Po=Rt(Dt().mark((function e(t,n){var r,i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ot(t),e.next=3,sa(r,{oobCode:n});case 3:i=e.sent,Pr(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Pr(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Pr(i.mfaInfo,r,"internal-error");case 13:Pr(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Eo._fromServerResponse(ta(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Po.apply(this,arguments)}function Ro(){return Ro=Rt(Dt().mark((function e(t,n){var r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Do(Ot(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Ro.apply(this,arguments)}function Mo(e,t,n){return Lo.apply(this,arguments)}function Lo(){return Lo=Rt(Dt().mark((function e(t,n,r){var i,a,o,s,u,c,l;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ta(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,$i(a,o,"signUpPassword");case 5:u=e.sent,s=$a(a,u),e.next=10;break;case 9:s=$a(a,o).catch(function(){var e=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,$i(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",$a(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,Xa._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}function Fo(){return Fo=Rt(Dt().mark((function e(t,n,r){var i,a,o,s,u;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){Pr(t.handleCodeInApp,a,"argument-error"),t&&Co(a,e,t)},a=ta(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,$i(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,wa(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,wa(a,o).catch(function(){var e=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,$i(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,wa(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}function jo(){return jo=Rt(Dt().mark((function e(t,n,r){var i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ot(t),Pr((a=Za.credentialWithLink(n,r||Lr()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",mo(i,a));case 4:case"end":return e.stop()}}),e)}))),jo.apply(this,arguments)}function Uo(e,t){return Vo.apply(this,arguments)}function Vo(){return Vo=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:createAuthUri",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Vo.apply(this,arguments)}function Zo(){return Zo=Rt(Dt().mark((function e(t,n){var r,i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fr()?Lr():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Uo(Ot(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Zo.apply(this,arguments)}function Bo(){return(Bo=Rt(Dt().mark((function e(t,n){var r,i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ot(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Co(r.auth,a,n),e.next=8,ya(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zo(){return(zo=Rt(Dt().mark((function e(t,n,r){var i,a,o,s;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ot(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Co(i.auth,o,r),e.next=8,_a(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qo(e,t){return Wo.apply(this,arguments)}function Wo(){return Wo=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}function Go(){return(Go=Rt(Dt().mark((function e(t,n){var r,i,a,o,s,u,c;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Ot(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,li(a,qo(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ho(e,t,n){return Yo.apply(this,arguments)}function Yo(){return Yo=Rt(Dt().mark((function e(t,n,r){var i,a,o,s;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,li(t,ca(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),Yo.apply(this,arguments)}var Ko=(0,c.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Qo=function(e){f(n,e);var t=m(n);function n(e,r,i,a){var o;return u(this,n),(o=t.call(this,e,r,i)).username=a,o}return(0,c.Z)(n)}(Ko),$o=function(e){f(n,e);var t=m(n);function n(e,r){return u(this,n),t.call(this,e,"facebook.com",r)}return(0,c.Z)(n)}(Ko),Jo=function(e){f(n,e);var t=m(n);function n(e,r){return u(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return(0,c.Z)(n)}(Qo),Xo=function(e){f(n,e);var t=m(n);function n(e,r){return u(this,n),t.call(this,e,"google.com",r)}return(0,c.Z)(n)}(Ko),es=function(e){f(n,e);var t=m(n);function n(e,r,i){return u(this,n),t.call(this,e,"twitter.com",r,i)}return(0,c.Z)(n)}(Qo);function ts(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ci(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Ko(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new $o(a,i);case"github.com":return new Jo(a,i);case"google.com":return new Xo(a,i);case"twitter.com":return new es(a,i,e.screenName||null);case"custom":case"anonymous":return new Ko(a,null);default:return new Ko(a,r,i)}}(n)}var ns=function(){function e(t,n,r){u(this,e),this.type=t,this.credential=n,this.auth=r}return(0,c.Z)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,tt.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),rs=function(){function e(t,n,r){u(this,e),this.session=t,this.hints=n,this.signInResolver=r}return(0,c.Z)(e,[{key:"resolveSignIn",value:function(){var e=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ta(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Eo._fromServerResponse(r,e)}));Pr(i.mfaPendingCredential,r,"internal-error");var o=ns._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Rt(Dt().mark((function e(t){var a,s,u;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Xa._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Pr(n.user,r,"internal-error"),e.abrupt("return",Xa._forOperation(n.user,n.operationType,s));case 17:Cr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function is(e,t){return Wr(e,"POST","/v2/accounts/mfaEnrollment:start",qr(e,t))}function as(e,t){return Wr(e,"POST","/v2/accounts/mfaEnrollment:start",qr(e,t))}function os(e,t){return Wr(e,"POST","/v2/accounts/mfaEnrollment:finalize",qr(e,t))}function ss(e,t){return Wr(e,"POST","/v2/accounts/mfaEnrollment:withdraw",qr(e,t))}var us=function(){function e(t){var n=this;u(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Eo._fromServerResponse(t.auth,e)})))}))}return(0,c.Z)(e,[{key:"getSession",value:function(){var e=Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ns,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Rt(Dt().mark((function e(t,n){var r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,li(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Rt(Dt().mark((function e(t){var n,r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,li(this.user,ss(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),cs=new WeakMap;var ls="__sak",fs=function(){function e(t,n){u(this,e),this.storageRetriever=t,this.type=n}return(0,c.Z)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ls,"1"),this.storage.removeItem(ls),Promise.resolve(!0)):Promise.resolve(!1)}catch(nE){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var hs=function(e){f(n,e);var t=m(n);function n(){var e;return u(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ht();return Di(e)||ji(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ui(),e._shouldAllowMigration=!0,e}return(0,c.Z)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);mt()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Rt(Dt().mark((function e(t,r){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr(h(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Rt(Dt().mark((function e(t){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr(h(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr(h(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(fs);hs.type="LOCAL";var ds=hs,ps=function(e){f(n,e);var t=m(n);function n(){return u(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return(0,c.Z)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(fs);ps.type="SESSION";var vs=ps;function ms(e){return Promise.all(e.map(function(){var e=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ys=function(){function e(t){u(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return(0,c.Z)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Rt(Dt().mark((function e(t){var n,r,i,a,o,s,u,c;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ms(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function gs(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ys.receivers=[];var ks=function(){function e(t){u(this,e),this.target=t,this.handlers=new Set}return(0,c.Z)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Rt(Dt().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=gs("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function bs(){return window}function ws(e){bs().location.href=e}function xs(){return"undefined"!==typeof bs().WorkerGlobalScope&&"function"===typeof bs().importScripts}function _s(){return Ss.apply(this,arguments)}function Ss(){return(Ss=Rt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Es(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Is="firebaseLocalStorageDb",Ts="firebaseLocalStorage",Cs="fbase_key",Ns=function(){function e(t){u(this,e),this.request=t}return(0,c.Z)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function As(e,t){return e.transaction([Ts],t?"readwrite":"readonly").objectStore(Ts)}function Os(){var e=indexedDB.deleteDatabase(Is);return new Ns(e).toPromise()}function Ds(){var e=indexedDB.open(Is,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Ts,{keyPath:Cs})}catch(r){n(r)}})),e.addEventListener("success",Rt(Dt().mark((function n(){var r;return Dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Ts)){n.next=12;break}return r.close(),n.next=5,Os();case 5:return n.t0=t,n.next=8,Ds();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ps(e,t,n){return Rs.apply(this,arguments)}function Rs(){return Rs=Rt(Dt().mark((function e(t,n,r){var i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=As(t,!0).put((i={},(0,tt.Z)(i,Cs,n),(0,tt.Z)(i,"value",r),i)),e.abrupt("return",new Ns(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Rs.apply(this,arguments)}function Ms(e,t){return Ls.apply(this,arguments)}function Ls(){return Ls=Rt(Dt().mark((function e(t,n){var r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=As(t,!1).get(n),e.next=3,new Ns(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}function Fs(e,t){var n=As(e,!0).delete(t);return new Ns(n).toPromise()}var js=function(){function e(){u(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return(0,c.Z)(e,[{key:"_openDb",value:function(){var e=Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ds();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Rt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xs()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Rt(Dt().mark((function e(){var t=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ys._getInstance(xs()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Rt(Dt().mark((function e(n,r){var i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Rt(Dt().mark((function e(){var t,n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_s();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new ks(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Es()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Rt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ds();case 5:return t=e.sent,e.next=8,Ps(t,ls,"1");case 8:return e.next=10,Fs(t,ls);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Rt(Dt().mark((function e(t,n){var r=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ps(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ms(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Rt(Dt().mark((function e(t){var n=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Fs(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Rt(Dt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=As(e,!1).getAll();return new Ns(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=E(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Rt(Dt().mark((function t(){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();js.type="LOCAL";var Us=js;function Vs(e,t){return Wr(e,"POST","/v2/accounts/mfaSignIn:start",qr(e,t))}function Zs(e,t){return Wr(e,"POST","/v2/accounts/mfaSignIn:finalize",qr(e,t))}var Bs=1e12,zs=function(){function e(t){u(this,e),this.auth=t,this.counter=Bs,this._widgets=new Map}return(0,c.Z)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new qs(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Bs;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Bs;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Rt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Bs,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),qs=function(){function e(t,n,r){var i=this;u(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Pr(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return(0,c.Z)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Ws=Ki("rcb"),Gs=new Ur(3e4,6e4),Hs=function(){function e(){var t;u(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=bs().grecaptcha)||void 0===t?void 0:t.render)}return(0,c.Z)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Pr(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Wi(bs().grecaptcha)?Promise.resolve(bs().grecaptcha):new Promise((function(r,i){var a=bs().setTimeout((function(){i(Nr(e,"network-request-failed"))}),Gs.get());bs()[Ws]=function(){bs().clearTimeout(a),delete bs()[Ws];var o=bs().grecaptcha;if(o&&Wi(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Nr(e,"internal-error"))},Yi("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Et({onload:Ws,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Nr(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=bs().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Ys=function(){function e(){u(this,e)}return(0,c.Z)(e,[{key:"load",value:function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new zs(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Ks="recaptcha",Qs={theme:"light",type:"image"},$s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Qs),r=arguments.length>2?arguments[2]:void 0;u(this,e),this.parameters=n,this.type=Ks,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ta(r),this.isInvisible="invisible"===this.parameters.size,Pr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Pr(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ys:new Hs,this.validateStartingState()}return(0,c.Z)(e,[{key:"verify",value:function(){var e=Rt(Dt().mark((function e(){var t,n,r,i=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Pr(!this.parameters.sitekey,this.auth,"argument-error"),Pr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Pr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=bs()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Pr(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Rt(Dt().mark((function e(){var t,n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Rt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pr(Fr()&&!xs(),this.auth,"internal-error"),e.next=3,Js();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Zi(this.auth);case 8:Pr(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Pr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Js(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Xs=function(){function e(t,n){u(this,e),this.verificationId=t,this.onConfirmation=n}return(0,c.Z)(e,[{key:"confirm",value:function(e){var t=Ua._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function eu(){return eu=Rt(Dt().mark((function e(t,n,r){var i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ta(t),e.next=3,iu(i,n,Ot(r));case 3:return a=e.sent,e.abrupt("return",new Xs(a,(function(e){return mo(i,e)})));case 5:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(e,t,n){return nu.apply(this,arguments)}function nu(){return(nu=Rt(Dt().mark((function e(t,n,r){var i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ot(t),e.next=3,co(!1,i,"phone");case 3:return e.next=5,iu(i.auth,n,Ot(r));case 5:return a=e.sent,e.abrupt("return",new Xs(a,(function(e){return go(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ru(){return(ru=Rt(Dt().mark((function e(t,n,r){var i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ot(t),e.next=3,iu(i.auth,n,Ot(r));case 3:return a=e.sent,e.abrupt("return",new Xs(a,(function(e){return bo(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iu(e,t,n){return au.apply(this,arguments)}function au(){return au=Rt(Dt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Pr("string"===typeof a,t,"argument-error"),Pr(r.type===Ks,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Pr("enroll"===s.type,t,"internal-error"),e.next=13,is(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Pr("signin"===s.type,t,"internal-error"),Pr(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Vs(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Pa(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),au.apply(this,arguments)}function ou(){return(ou=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,so(Ot(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var su=function(){function e(t){u(this,e),this.providerId=e.PROVIDER_ID,this.auth=ta(t)}return(0,c.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return iu(this.auth,e,Ot(t))}}],[{key:"credential",value:function(e,t){return Ua._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ua._fromTokenResponse(n,r):null}}]),e}();function uu(e,t){return t?Ei(t):(Pr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}su.PROVIDER_ID="phone",su.PHONE_SIGN_IN_METHOD="phone";var cu=function(e){f(n,e);var t=m(n);function n(e){var r;return u(this,n),(r=t.call(this,"custom","custom")).params=e,r}return(0,c.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return Aa(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Aa(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Aa(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(oa);function lu(e){return po(e.auth,new cu(e),e.bypassAuthState)}function fu(e){var t=e.auth,n=e.user;return Pr(n,t,"internal-error"),fo(n,new cu(e),e.bypassAuthState)}function hu(e){return du.apply(this,arguments)}function du(){return du=Rt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Pr(r=t.user,n,"internal-error"),e.abrupt("return",so(r,new cu(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}var pu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];u(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return(0,c.Z)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Rt(Dt().mark((function t(n,r){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Rt(Dt().mark((function e(t){var n,r,i,a,o,s,u;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lu;case"linkViaPopup":case"linkViaRedirect":return hu;case"reauthViaPopup":case"reauthViaRedirect":return fu;default:Cr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),vu=new Ur(2e3,1e4);function mu(e,t,n){return yu.apply(this,arguments)}function yu(){return yu=Rt(Dt().mark((function e(t,n,r){var i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ta(t),Or(t,n,Ba),a=uu(i,r),o=new wu(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}function gu(){return(gu=Rt(Dt().mark((function e(t,n,r){var i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Or((i=Ot(t)).auth,n,Ba),a=uu(i.auth,r),o=new wu(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ku(e,t,n){return bu.apply(this,arguments)}function bu(){return(bu=Rt(Dt().mark((function e(t,n,r){var i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Or((i=Ot(t)).auth,n,Ba),a=uu(i.auth,r),o=new wu(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wu=function(e){f(n,e);var t=m(n);function n(e,r,i,a,o){var s;return u(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=(0,v.Z)(s),s}return(0,c.Z)(n,[{key:"executeNotNull",value:function(){var e=Rt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Pr(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Rt(Dt().mark((function e(){var t,n=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mr(1===this.filter.length,"Popup operations only handle one event"),t=gs(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Nr(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Nr(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Nr(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,vu.get())}()}}]),n}(pu);wu.currentPopupAction=null;var xu="pendingRedirect",_u=new Map,Su=function(e){f(n,e);var t=m(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return u(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return(0,c.Z)(n,[{key:"execute",value:function(){var e=Rt(Dt().mark((function e(){var t,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=_u.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Eu(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,fr(h(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:_u.set(this.auth._key(),t);case 21:return this.bypassAuthState||_u.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Rt(Dt().mark((function e(t){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",fr(h(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",fr(h(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(pu);function Eu(e,t){return Iu.apply(this,arguments)}function Iu(){return Iu=Rt(Dt().mark((function e(t,n){var r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ou(n),i=Au(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Iu.apply(this,arguments)}function Tu(e,t){return Cu.apply(this,arguments)}function Cu(){return Cu=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t)._set(Ou(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Cu.apply(this,arguments)}function Nu(e,t){_u.set(e._key(),t)}function Au(e){return Ei(e._redirectPersistence)}function Ou(e){return Ci(xu,e.config.apiKey,e.name)}function Du(e,t,n){return function(e,t,n){return Pu.apply(this,arguments)}(e,t,n)}function Pu(){return Pu=Rt(Dt().mark((function e(t,n,r){var i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ta(t),Or(t,n,Ba),e.next=4,i._initializationPromise;case 4:return a=uu(i,r),e.next=7,Tu(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),Pu.apply(this,arguments)}function Ru(e,t,n){return function(e,t,n){return Mu.apply(this,arguments)}(e,t,n)}function Mu(){return(Mu=Rt(Dt().mark((function e(t,n,r){var i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Or((i=Ot(t)).auth,n,Ba),e.next=4,i.auth._initializationPromise;case 4:return a=uu(i.auth,r),e.next=7,Tu(a,i.auth);case 7:return e.next=9,Bu(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lu(e,t,n){return function(e,t,n){return Fu.apply(this,arguments)}(e,t,n)}function Fu(){return(Fu=Rt(Dt().mark((function e(t,n,r){var i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Or((i=Ot(t)).auth,n,Ba),e.next=4,i.auth._initializationPromise;case 4:return a=uu(i.auth,r),e.next=7,co(!1,i,n.providerId);case 7:return e.next=9,Tu(a,i.auth);case 9:return e.next=11,Bu(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ju(e,t){return Uu.apply(this,arguments)}function Uu(){return Uu=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ta(t)._initializationPromise;case 2:return e.abrupt("return",Vu(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Uu.apply(this,arguments)}function Vu(e,t){return Zu.apply(this,arguments)}function Zu(){return Zu=Rt(Dt().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=ta(t),a=uu(i,n),o=new Su(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Zu.apply(this,arguments)}function Bu(e){return zu.apply(this,arguments)}function zu(){return(zu=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gs("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qu=function(){function e(t){u(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return(0,c.Z)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Gu(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Nr(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wu(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Wu(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Wu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Gu(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Hu(e){return Yu.apply(this,arguments)}function Yu(){return Yu=Rt(Dt().mark((function e(t){var n,r=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Wr(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Yu.apply(this,arguments)}var Ku=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qu=/^https?/;function $u(){return $u=Rt(Dt().mark((function e(t){var n,r,i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Hu(t);case 4:n=e.sent,r=n.authorizedDomains,i=E(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Ju(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Cr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),$u.apply(this,arguments)}function Ju(e){var t=Lr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Qu.test(r))return!1;if(Ku.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Xu=new Ur(3e4,6e4);function ec(){var e=bs().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,s.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var tc=null;function nc(e){return tc=tc||function(e){return new Promise((function(t,n){var r,i,a;function o(){ec(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ec(),n(Nr(e,"network-request-failed"))},timeout:Xu.get()})}if(null===(i=null===(r=bs().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=bs().gapi)||void 0===a?void 0:a.load)){var s=Ki("iframefcb");return bs()[s]=function(){gapi.load?o():n(Nr(e,"network-request-failed"))},Yi("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw tc=null,e}))}(e),tc}var rc=new Ur(5e3,15e3),ic="__/auth/iframe",ac="emulator/auth/iframe",oc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uc(e){var t=e.config;Pr(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Vr(t,ac):"https://".concat(e.config.authDomain,"/").concat(ic),r={apiKey:t.apiKey,appName:e.name,v:Dn},i=sc.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Et(r).slice(1))}function cc(e){return lc.apply(this,arguments)}function lc(){return lc=Rt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nc(t);case 2:return n=e.sent,Pr(r=bs().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:uc(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oc,dontclear:!0},(function(e){return new Promise(function(){var n=Rt(Dt().mark((function n(r,i){var a,o,s;return Dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){bs().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Nr(t,"network-request-failed"),o=bs().setTimeout((function(){i(a)}),rc.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}var fc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hc=function(){function e(t){u(this,e),this.window=t,this.associatedEvent=null}return(0,c.Z)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function dc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},fc),{width:r.toString(),height:a.toString(),top:o,left:s}),l=ht().toLowerCase();n&&(u=Pi(l)?"_blank":n),Oi(l)&&(t=t||"http://localhost",c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];return"".concat(e).concat(r,"=").concat(a,",")}),"");if(function(){var e;return ji(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new hc(null);var h=window.open(t||"",u,f);Pr(h,e,"popup-blocked");try{h.focus()}catch(d){}return new hc(h)}var pc="__/auth/handler",vc="emulator/auth/handler",mc=encodeURIComponent("fac");function yc(e,t,n,r,i,a){return gc.apply(this,arguments)}function gc(){return gc=Rt(Dt().mark((function e(t,n,r,a,o,s){var u,c,l,f,h,d,p,v,m,y,g,k,b;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(t.config.authDomain,t,"auth-domain-config-required"),Pr(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:a,v:Dn,eventId:o},n instanceof Ba)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",xt(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),c=0,l=Object.entries(s||{});c<l.length;c++)f=(0,i.Z)(l[c],2),h=f[0],d=f[1],u[h]=d;for(n instanceof za&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=p.join(",")),t.tenantId&&(u.tid=t.tenantId),v=u,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(mc,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(kc(t),"?").concat(Et(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),gc.apply(this,arguments)}function kc(e){var t=e.config;return t.emulator?Vr(t,vc):"https://".concat(t.authDomain,"/").concat(pc)}var bc="webStorageSupport",wc=function(){function e(){u(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vs,this._completeRedirectFn=Vu,this._overrideRedirectResult=Nu}return(0,c.Z)(e,[{key:"_openPopup",value:function(){var e=Rt(Dt().mark((function e(t,n,r,i){var a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mr(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,yc(t,n,r,Lr(),i);case 3:return o=e.sent,e.abrupt("return",dc(t,o,gs()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Rt(Dt().mark((function e(t,n,r,i){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,yc(t,n,r,Lr(),i);case 4:return ws(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Mr(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Rt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cc(t);case 2:return n=e.sent,r=new qu(t),n.register("authEvent",(function(e){return Pr(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(bc,{type:bc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[bc];void 0!==i&&t(!!i),Cr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return $u.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ui()||Di()||ji()}}]),e}(),xc=wc,_c=function(){function e(t){u(this,e),this.factorId=t}return(0,c.Z)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Rr("unexpected MultiFactorSessionType")}}}]),e}(),Sc=function(e){f(n,e);var t=m(n);function n(e){var r;return u(this,n),(r=t.call(this,"phone")).credential=e,r}return(0,c.Z)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Wr(e,"POST","/v2/accounts/mfaEnrollment:finalize",qr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Wr(e,"POST","/v2/accounts/mfaSignIn:finalize",qr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(_c),Ec=function(){function e(){u(this,e)}return(0,c.Z)(e,null,[{key:"assertion",value:function(e){return Sc._fromCredential(e)}}]),e}();Ec.FACTOR_ID="phone";var Ic=function(){function e(){u(this,e)}return(0,c.Z)(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Tc._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Tc._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Rt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pr("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,as(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",Cc._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Ic.FACTOR_ID="totp";var Tc=function(e){f(n,e);var t=m(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return(0,c.Z)(n,[{key:"_finalizeEnroll",value:function(){var e=Rt(Dt().mark((function e(t,n,r){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pr("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",os(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Rt(Dt().mark((function e(t,n){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pr(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Zs(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(_c),Cc=function(){function e(t,n,r,i,a,o,s){u(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return(0,c.Z)(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Nc(e)||Nc(t))&&(r=!0),r&&(Nc(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Nc(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Nc(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Ac="@firebase/auth",Oc="0.23.0",Dc=function(){function e(t){u(this,e),this.auth=t,this.internalListeners=new Map}return(0,c.Z)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Pr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Pc;!function(e){var t;null===(t=ct())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Rc(){return window}Pc="Browser",En(new Mt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;Pr(s&&!s.includes(":"),"invalid-api-key",{appName:r.name}),Pr(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:Pc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vi(Pc)},l=new ea(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ei);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),En(new Mt("auth-internal",(function(e){return function(e){return new Dc(e)}(ta(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),jn(Ac,Oc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Pc)),jn(Ac,Oc,"esm2017");var Mc=2e3;function Lc(e,t,n){return Fc.apply(this,arguments)}function Fc(){return Fc=Rt(Dt().mark((function e(t,n,r){var i,a,o,s,u;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Rc(),o=a.BuildInfo,Mr(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,zc(n.sessionId);case 4:return s=e.sent,u={},ji()?u.ibi=o.packageName:Mi()?u.apn=o.packageName:Cr(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",yc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Fc.apply(this,arguments)}function jc(){return jc=Rt(Dt().mark((function e(t){var n,r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rc(),r=n.BuildInfo,i={},ji()?i.iosBundleId=r.packageName:Mi()?i.androidPackageName=r.packageName:Cr(t,"operation-not-supported-in-this-environment"),e.next=5,Hu(t,i);case 5:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}function Uc(e){var t=Rc().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Vc(e,t,n){return Zc.apply(this,arguments)}function Zc(){return Zc=Rt(Dt().mark((function e(t,n,r){var i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rc(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Nr(t,"redirect-cancelled-by-user"))}),Mc))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Mi()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Zc.apply(this,arguments)}function Bc(e){var t,n,r,i,a,o,s,u,c,l,f=Rc();Pr("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Pr("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Pr("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Pr("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Pr("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function zc(e){return qc.apply(this,arguments)}function qc(){return(qc=Rt(Dt().mark((function e(t){var n,r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wc(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wc(e){if(Mr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Gc=20,Hc=function(e){f(n,e);var t=m(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return(0,c.Z)(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),fr(h(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(qu);function Yc(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Xc(),postBody:null,tenantId:e.tenantId,error:Nr(e,"no-auth-event")}}function Kc(e,t){return el()._set(tl(e),t)}function Qc(e){return $c.apply(this,arguments)}function $c(){return $c=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,el()._get(tl(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,el()._remove(tl(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),$c.apply(this,arguments)}function Jc(e,t){var n,r,i=function(e){var t=nl(e),n=t.link?decodeURIComponent(t.link):void 0,r=nl(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return nl(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=nl(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Nr(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Xc(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Gc;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function el(){return Ei(ds)}function tl(e){return Ci("authEvent",e.config.apiKey,e.name)}function nl(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=S(e.split("?"));t[0];return It(t.slice(1).join("?"))}var rl=function(){function e(){u(this,e),this._redirectPersistence=vs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Vu,this._overrideRedirectResult=Nu}return(0,c.Z)(e,[{key:"_initialize",value:function(){var e=Rt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Hc(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Cr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Rt(Dt().mark((function e(t,n,r,i){var a,o,s,u;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bc(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),_u.clear(),e.next=10,this._originValidation(t);case 10:return o=Yc(t,r,i),e.next=13,Kc(t,o);case 13:return e.next=15,Lc(t,o,n);case 15:return s=e.sent,e.next=18,Uc(s);case 18:return u=e.sent,e.abrupt("return",Vc(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return jc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Rc(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Rt(Dt().mark((function n(){return Dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Qc(e);case 2:t.onEvent(al());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Rt(Dt().mark((function n(r){var i,a;return Dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Qc(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Jc(i,r.url)),t.onEvent(a||al());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Rc().handleOpenURL=function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),il=rl;function al(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Nr("no-auth-event")}}var ol=1e3;function sl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function ul(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return!("file:"!==sl()&&"ionic:"!==sl()&&"capacitor:"!==sl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function cl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return mt()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/Edge\/\d+/.test(e)}(e)}function ll(){try{var e=self.localStorage,t=gs();if(e)return e.setItem(t,"1"),e.removeItem(t),!cl()||yt()}catch(n){return fl()&&yt()}return!1}function fl(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function hl(){return("http:"===sl()||"https:"===sl()||pt()||ul())&&!(vt()||dt())&&ll()&&!fl()}function dl(){return ul()&&"undefined"!==typeof document}function pl(){return vl.apply(this,arguments)}function vl(){return(vl=Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dl()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),ol);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ml={LOCAL:"local",NONE:"none",SESSION:"session"},yl=Pr,gl="persistence";function kl(e,t){yl(Object.values(ml).includes(t),e,"invalid-persistence-type"),vt()?yl(t!==ml.SESSION,e,"unsupported-persistence-type"):dt()?yl(t===ml.NONE,e,"unsupported-persistence-type"):fl()?yl(t===ml.NONE||t===ml.LOCAL&&yt(),e,"unsupported-persistence-type"):yl(t===ml.NONE||ll(),e,"unsupported-persistence-type")}function bl(e){return wl.apply(this,arguments)}function wl(){return wl=Rt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=xl(),r=Ci(gl,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),wl.apply(this,arguments)}function xl(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var _l=Pr,Sl=function(){function e(){u(this,e),this.browserResolver=Ei(xc),this.cordovaResolver=Ei(il),this.underlyingResolver=null,this._redirectPersistence=vs,this._completeRedirectFn=Vu,this._overrideRedirectResult=Nu}return(0,c.Z)(e,[{key:"_initialize",value:function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Rt(Dt().mark((function e(t,n,r,i){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Rt(Dt().mark((function e(t,n,r,i){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return dl()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return _l(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Rt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,pl();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function El(e){return e.unwrap()}function Il(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Ol(e,function(e,t){var n,r=Ot(e),i=t;return Pr(t.customData.operationType,r,"argument-error"),Pr(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),rs._fromError(r,i)}(e,t));else if(r){var i=Tl(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Tl(e){var t=(e instanceof gt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof gt)&&"temporaryProof"in t&&"phoneNumber"in t)return su.credentialFromResult(e);var n,r=t.providerId;if(!r||r===pr.PASSWORD)return null;switch(r){case pr.GOOGLE:n=Ga;break;case pr.FACEBOOK:n=Wa;break;case pr.GITHUB:n=Ha;break;case pr.TWITTER:n=Qa;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Ya._create(r,s):Da._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new qa(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof gt?n.credentialFromError(e):n.credentialFromResult(e)}function Cl(e,t){return t.catch((function(t){throw t instanceof gt&&Il(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Tl(t)),additionalUserInfo:ts(e),user:Dl.getOrCreate(r)}}))}function Nl(e,t){return Al.apply(this,arguments)}function Al(){return Al=Rt(Dt().mark((function e(t,n){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Cl(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Al.apply(this,arguments)}var Ol=function(){function e(t,n){u(this,e),this.resolver=n,this.auth=t.wrapped()}return(0,c.Z)(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Cl(El(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Dl=function(){function e(t){u(this,e),this._delegate=t,this.multiFactor=function(e){var t=Ot(e);return cs.has(t)||cs.set(t,us._fromUser(t)),cs.get(t)}(t)}return(0,c.Z)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cl(this.auth,go(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nl(this.auth,tu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cl(this.auth,ku(this._delegate,t,Sl)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bl(ta(this.auth));case 2:return e.abrupt("return",Lu(this._delegate,t,Sl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cl(this.auth,bo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Nl(this.auth,function(e,t,n){return ru.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Cl(this.auth,function(e,t,n){return gu.apply(this,arguments)}(this._delegate,e,Sl))}},{key:"reauthenticateWithRedirect",value:function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bl(ta(this.auth));case 2:return e.abrupt("return",Ru(this._delegate,t,Sl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Bo.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ao(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Ho(Ot(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Ho(Ot(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return ou.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Go.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return zo.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Dl.USER_MAP=new WeakMap;var Pl=Pr,Rl=function(){function e(t,n){if(u(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Pl(r,"invalid-api-key",{appName:t.name}),Pl(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Sl:void 0;this._delegate=n.initialize({options:{persistence:Ll(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(xr),this.linkUnderlyingAuth()}return(0,c.Z)(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Dl.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){ra(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Oo.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Do(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Ao.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cl(this._delegate,Mo(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Zo.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Va.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Rt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pl(hl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ju(this._delegate,Sl);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Cl(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){ta(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Ml(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Ml(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Fo.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return No.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Rt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:kl(this._delegate,t),e.t0=t,e.next=e.t0===ml.SESSION?4:e.t0===ml.LOCAL?6:e.t0===ml.NONE?11:13;break;case 4:return n=vs,e.abrupt("break",14);case 6:return e.next=8,Ei(Us)._isAvailable();case 8:return r=e.sent,n=r?Us:ds,e.abrupt("break",14);case 11:return n=Ti,e.abrupt("break",14);case 13:return e.abrupt("return",Cr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Cl(this._delegate,function(e){return to.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Cl(this._delegate,mo(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Cl(this._delegate,function(e,t){return So.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Cl(this._delegate,function(e,t,n){return mo(Ot(e),Za.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Cl(this._delegate,function(e,t,n){return jo.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Nl(this._delegate,function(e,t,n){return eu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pl(hl(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Cl(this._delegate,mu(this._delegate,t,Sl)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pl(hl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,bl(this._delegate);case 3:return e.abrupt("return",Du(this._delegate,t,Sl));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Ro.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Ml(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Dl.getOrCreate(e))},error:t,complete:n}}function Ll(e,t){var n=function(e,t){var n=xl();if(!n)return[];var r=Ci(gl,e,t);switch(n.getItem(r)){case ml.NONE:return[Ti];case ml.LOCAL:return[Us,vs];case ml.SESSION:return[vs];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Us)||n.push(Us),"undefined"!==typeof window)for(var r=0,i=[ds,vs];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Ti)||n.push(Ti),n}Rl.Persistence=ml;var Fl=function(){function e(){u(this,e),this.providerId="phone",this._delegate=new su(El(lr.auth()))}return(0,c.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return su.credential(e,t)}}]),e}();Fl.PHONE_SIGN_IN_METHOD=su.PHONE_SIGN_IN_METHOD,Fl.PROVIDER_ID=su.PROVIDER_ID;var jl=Pr,Ul=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lr.app();u(this,e),jl(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new $s(t,n,i.auth()),this.type=this._delegate.type}return(0,c.Z)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Mt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Rl(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:vr,PASSWORD_RESET:mr,RECOVER_EMAIL:yr,REVERT_SECOND_FACTOR_ADDITION:gr,VERIFY_AND_CHANGE_EMAIL:kr,VERIFY_EMAIL:br}},EmailAuthProvider:Za,FacebookAuthProvider:Wa,GithubAuthProvider:Ha,GoogleAuthProvider:Ga,OAuthProvider:qa,SAMLAuthProvider:Ka,PhoneAuthProvider:Fl,PhoneMultiFactorGenerator:Ec,RecaptchaVerifier:Ul,TwitterAuthProvider:Qa,Auth:Rl,AuthCredential:oa,Error:gt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.4.0")}(lr);var Vl,Zl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Bl={},zl=zl||{},ql=Zl||self;function Wl(){}function Gl(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Hl(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Yl="closure_uid_"+(1e9*Math.random()>>>0),Kl=0;function Ql(e,t,n){return e.call.apply(e.bind,arguments)}function $l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Jl(e,t,n){return(Jl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ql:$l).apply(null,arguments)}function Xl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ef(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function tf(){this.s=this.s,this.o=this.o}tf.prototype.s=!1,tf.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Yl)&&e[Yl]||(e[Yl]=++Kl))},tf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var nf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function rf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function af(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Gl(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function of(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}of.prototype.h=function(){this.defaultPrevented=!0};var sf=function(){if(!ql.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ql.addEventListener("test",Wl,t),ql.removeEventListener("test",Wl,t)}catch(n){}return e}();function uf(e){return/^[\s\xa0]*$/.test(e)}var cf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function lf(e,t){return e<t?-1:e>t?1:0}function ff(){var e=ql.navigator;return e&&(e=e.userAgent)?e:""}function hf(e){return-1!=ff().indexOf(e)}function df(e){return df[" "](e),e}df[" "]=Wl;var pf,vf=hf("Opera"),mf=hf("Trident")||hf("MSIE"),yf=hf("Edge"),gf=yf||mf,kf=hf("Gecko")&&!(-1!=ff().toLowerCase().indexOf("webkit")&&!hf("Edge"))&&!(hf("Trident")||hf("MSIE"))&&!hf("Edge"),bf=-1!=ff().toLowerCase().indexOf("webkit")&&!hf("Edge");function wf(){var e=ql.document;return e?e.documentMode:void 0}e:{var xf="",_f=function(){var e=ff();return kf?/rv:([^\);]+)(\)|;)/.exec(e):yf?/Edge\/([\d\.]+)/.exec(e):mf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):bf?/WebKit\/(\S+)/.exec(e):vf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(_f&&(xf=_f?_f[1]:""),mf){var Sf=wf();if(null!=Sf&&Sf>parseFloat(xf)){pf=String(Sf);break e}}pf=xf}var Ef,If={};function Tf(){return function(e){var t=If;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=cf(String(pf)).split("."),n=cf("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=lf(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||lf(0==a[2].length,0==o[2].length)||lf(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ql.document&&mf){var Cf=wf();Ef=Cf||(parseInt(pf,10)||void 0)}else Ef=void 0;var Nf=Ef;function Af(e,t){if(of.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(kf){e:{try{df(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Of[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Af.X.h.call(this)}}ef(Af,of);var Of={2:"touch",3:"pen",4:"mouse"};Af.prototype.h=function(){Af.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Df="closure_listenable_"+(1e6*Math.random()|0),Pf=0;function Rf(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Pf,this.ba=this.ea=!1}function Mf(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Lf(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ff(e){var t={};for(var n in e)t[n]=e[n];return t}var jf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Uf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<jf.length;a++)n=jf[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Vf(e){this.src=e,this.g={},this.h=0}function Zf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=nf(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Mf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Bf(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Vf.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Bf(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Rf(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var zf="closure_lm_"+(1e6*Math.random()|0),qf={};function Wf(e,t,n,r,i){if(r&&r.once)return Hf(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Wf(e,t[a],n,r,i);return null}return n=eh(n),e&&e[Df]?e.N(t,n,Hl(r)?!!r.capture:!!r,i):Gf(e,t,n,!1,r,i)}function Gf(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Hl(i)?!!i.capture:!!i,s=Jf(e);if(s||(e[zf]=s=new Vf(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=$f;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)sf||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Qf(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Hf(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Hf(e,t[a],n,r,i);return null}return n=eh(n),e&&e[Df]?e.O(t,n,Hl(r)?!!r.capture:!!r,i):Gf(e,t,n,!0,r,i)}function Yf(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Yf(e,t[a],n,r,i);else r=Hl(r)?!!r.capture:!!r,n=eh(n),e&&e[Df]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Bf(a=e.g[t],n,r,i))&&(Mf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Jf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Bf(t,n,r,i)),(n=-1<e?t[e]:null)&&Kf(n))}function Kf(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Df])Zf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Qf(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Jf(t))?(Zf(n,e),0==n.h&&(n.src=null,t[zf]=null)):Mf(e)}}}function Qf(e){return e in qf?qf[e]:qf[e]="on"+e}function $f(e,t){if(e.ba)e=!0;else{t=new Af(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Kf(e),e=n.call(r,t)}return e}function Jf(e){return(e=e[zf])instanceof Vf?e:null}var Xf="__closure_events_fn_"+(1e9*Math.random()>>>0);function eh(e){return"function"===typeof e?e:(e[Xf]||(e[Xf]=function(t){return e.handleEvent(t)}),e[Xf])}function th(){tf.call(this),this.i=new Vf(this),this.P=this,this.I=null}function nh(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new of(t,e);else if(t instanceof of)t.target=t.target||e;else{var i=t;Uf(t=new of(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=rh(o,r,!0,t)&&i}if(i=rh(o=t.g=e,r,!0,t)&&i,i=rh(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=rh(o=t.g=n[a],r,!1,t)&&i}function rh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&Zf(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ef(th,tf),th.prototype[Df]=!0,th.prototype.removeEventListener=function(e,t,n,r){Yf(this,e,t,n,r)},th.prototype.M=function(){if(th.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Mf(n[r]);delete t.g[e],t.h--}}this.I=null},th.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},th.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ih=ql.JSON.stringify;function ah(){var e=dh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var oh,sh=function(){function e(){u(this,e),this.h=this.g=null}return(0,c.Z)(e,[{key:"add",value:function(e,t){var n=uh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),uh=new(function(){function e(t,n){u(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return(0,c.Z)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new ch}),(function(e){return e.reset()})),ch=function(){function e(){u(this,e),this.next=this.g=this.h=null}return(0,c.Z)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function lh(e){ql.setTimeout((function(){throw e}),0)}function fh(e,t){oh||function(){var e=ql.Promise.resolve(void 0);oh=function(){e.then(ph)}}(),hh||(oh(),hh=!0),dh.add(e,t)}var hh=!1,dh=new sh;function ph(){for(var e;e=ah();){try{e.h.call(e.g)}catch(n){lh(n)}var t=uh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}hh=!1}function vh(e,t){th.call(this),this.h=e||1,this.g=t||ql,this.j=Jl(this.lb,this),this.l=Date.now()}function mh(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function yh(e,t,n){if("function"===typeof e)n&&(e=Jl(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Jl(e.handleEvent,e)}return 2147483647<Number(t)?-1:ql.setTimeout(e,t||0)}function gh(e){e.g=yh((function(){e.g=null,e.i&&(e.i=!1,gh(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ef(vh,th),(Vl=vh.prototype).ca=!1,Vl.R=null,Vl.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),nh(this,"tick"),this.ca&&(mh(this),this.start()))}},Vl.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Vl.M=function(){vh.X.M.call(this),mh(this),delete this.g};var kh=function(e){f(n,e);var t=m(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return(0,c.Z)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:gh(this)}},{key:"M",value:function(){fr(h(n.prototype),"M",this).call(this),this.g&&(ql.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(tf);function bh(e){tf.call(this),this.h=e,this.g={}}ef(bh,tf);var wh=[];function xh(e,t,n,r){Array.isArray(n)||(n&&(wh[0]=n.toString()),n=wh);for(var i=0;i<n.length;i++){var a=Wf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function _h(e){Lf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Kf(e)}),e),e.g={}}function Sh(){this.g=!0}function Eh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ih(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}bh.prototype.M=function(){bh.X.M.call(this),_h(this)},bh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sh.prototype.Aa=function(){this.g=!1},Sh.prototype.info=function(){};var Ih={},Th=null;function Ch(){return Th=Th||new th}function Nh(e){of.call(this,Ih.Pa,e)}function Ah(e){var t=Ch();nh(t,new Nh(t))}function Oh(e,t){of.call(this,Ih.STAT_EVENT,e),this.stat=t}function Dh(e){var t=Ch();nh(t,new Oh(t,e))}function Ph(e,t){of.call(this,Ih.Qa,e),this.size=t}function Rh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ql.setTimeout((function(){e()}),t)}Ih.Pa="serverreachability",ef(Nh,of),Ih.STAT_EVENT="statevent",ef(Oh,of),Ih.Qa="timingevent",ef(Ph,of);var Mh={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Lh={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Fh(){}function jh(e){return e.h||(e.h=e.i())}function Uh(){}Fh.prototype.h=null;var Vh,Zh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Bh(){of.call(this,"d")}function zh(){of.call(this,"c")}function qh(){}function Wh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new bh(this),this.O=Hh,e=gf?125:void 0,this.T=new vh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Gh}function Gh(){this.i=null,this.g="",this.h=!1}ef(Bh,of),ef(zh,of),ef(qh,Fh),qh.prototype.g=function(){return new XMLHttpRequest},qh.prototype.i=function(){return{}},Vh=new qh;var Hh=45e3,Yh={},Kh={};function Qh(e,t,n){e.K=1,e.v=vd(ld(t)),e.s=n,e.P=!0,$h(e,null)}function $h(e,t){e.F=Date.now(),td(e),e.A=ld(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Cd(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Gh,e.g=Np(e.l,n?t:null,!e.s),0<e.N&&(e.L=new kh(Jl(e.La,e,e.g),e.N)),xh(e.S,e.g,"readystatechange",e.ib),t=e.H?Ff(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Ah(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Jh(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Xh(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ed(e,n))==Kh){4==t&&(e.o=4,Dh(14),i=!1),Eh(e.j,e.m,null,"[Incomplete Response]");break}if(r==Yh){e.o=4,Dh(15),Eh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Eh(e.j,e.m,r,null),od(e,r)}Jh(e)&&r!=Kh&&r!=Yh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Dh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),wp(t),t.K=!0,Dh(11))):(Eh(e.j,e.m,n,"[Invalid Chunked Response]"),ad(e),id(e))}function ed(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Kh:(n=Number(t.substring(n,r)),isNaN(n)?Yh:(r+=1)+n>t.length?Kh:(t=t.substr(r,n),e.C=r+n,t))}function td(e){e.V=Date.now()+e.O,nd(e,e.O)}function nd(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Rh(Jl(e.gb,e),t)}function rd(e){e.B&&(ql.clearTimeout(e.B),e.B=null)}function id(e){0==e.l.G||e.I||Sp(e.l,e)}function ad(e){rd(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,mh(e.T),_h(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function od(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ld(n.h,e)))if(!e.J&&Ld(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;_p(n),dp(n)}bp(n),Dh(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Rh(Jl(n.cb,n),6e3));if(1>=Md(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Ip(n,11)}else if((e.J||n.g==e)&&_p(n),!uf(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Fd(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,pd(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Cp(r,r.H?r.ka:null,r.V),d.J){jd(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(rd(p),td(p)),r.g=d}else kp(r);0<n.i.length&&vp(n)}else"stop"!=a[0]&&"close"!=a[0]||Ip(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ip(n,7):hp(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Ah()}catch(a){}}function sd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Gl(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Gl(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Gl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Vl=Wh.prototype).setTimeout=function(e){this.O=e},Vl.ib=function(e){e=e.target;var t=this.L;t&&3==op(e)?t.l():this.La(e)},Vl.La=function(e){try{if(e==this.g)e:{var t=op(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||gf||this.g&&(this.h.h||this.g.fa()||sp(this.g)))){this.I||4!=t||7==n||Ah(),rd(this);var r=this.g.aa();this.Y=r;t:if(Jh(this)){var i=sp(this.g);e="";var a=i.length,o=4==op(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ad(this),id(this);var s="";break t}this.h.i=new ql.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!uf(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Dh(12),ad(this),id(this);break e}Eh(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,od(this,r)}this.P?(Xh(this,t,s),gf&&this.i&&3==t&&(xh(this.S,this.T,"tick",this.hb),this.T.start())):(Eh(this.j,this.m,s,null),od(this,s)),4==t&&ad(this),this.i&&!this.I&&(4==t?Sp(this.l,this):(this.i=!1,td(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Dh(12)):(this.o=0,Dh(13)),ad(this),id(this)}}}catch(t){}},Vl.hb=function(){if(this.g){var e=op(this.g),t=this.g.fa();this.C<t.length&&(rd(this),Xh(this,e,t),this.i&&4!=e&&td(this))}},Vl.cancel=function(){this.I=!0,ad(this)},Vl.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ah(),Dh(17)),ad(this),this.o=2,id(this)):nd(this,this.V-e)};var ud=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cd(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof cd){this.h=void 0!==t?t:e.h,fd(this,e.j),this.s=e.s,this.g=e.g,hd(this,e.m),this.l=e.l,t=e.i;var n=new Sd;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),dd(this,n),this.o=e.o}else e&&(n=String(e).match(ud))?(this.h=!!t,fd(this,n[1]||"",!0),this.s=md(n[2]||""),this.g=md(n[3]||"",!0),hd(this,n[4]),this.l=md(n[5]||"",!0),dd(this,n[6]||"",!0),this.o=md(n[7]||"")):(this.h=!!t,this.i=new Sd(null,this.h))}function ld(e){return new cd(e)}function fd(e,t,n){e.j=n?md(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function hd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function dd(e,t,n){t instanceof Sd?(e.i=t,function(e,t){t&&!e.j&&(Ed(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Id(this,t),Cd(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=yd(t,xd)),e.i=new Sd(t,e.h))}function pd(e,t,n){e.i.set(t,n)}function vd(e){return pd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function md(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function yd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,gd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function gd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}cd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(yd(t,kd,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(yd(t,kd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(yd(n,"/"==n.charAt(0)?wd:bd,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",yd(n,_d)),e.join("")};var kd=/[#\/\?@]/g,bd=/[#\?:]/g,wd=/[#\?]/g,xd=/[#\?@]/g,_d=/#/g;function Sd(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ed(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Id(e,t){Ed(e),t=Nd(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Td(e,t){return Ed(e),t=Nd(e,t),e.g.has(t)}function Cd(e,t,n){Id(e,t),0<n.length&&(e.i=null,e.g.set(Nd(e,t),rf(n)),e.h+=n.length)}function Nd(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Vl=Sd.prototype).add=function(e,t){Ed(this),this.i=null,e=Nd(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Vl.forEach=function(e,t){Ed(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Vl.oa=function(){Ed(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Vl.W=function(e){Ed(this);var t=[];if("string"===typeof e)Td(this,e)&&(t=t.concat(this.g.get(Nd(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Vl.set=function(e,t){return Ed(this),this.i=null,Td(this,e=Nd(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Vl.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Vl.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Ad=(0,c.Z)((function e(t,n){u(this,e),this.h=t,this.g=n}));function Od(e){this.l=e||Pd,ql.PerformanceNavigationTiming?e=0<(e=ql.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ql.g&&ql.g.Ga&&ql.g.Ga()&&ql.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Dd,Pd=10;function Rd(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Md(e){return e.h?1:e.g?e.g.size:0}function Ld(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Fd(e,t){e.g?e.g.add(t):e.h=t}function jd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ud(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=E(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return rf(e.i)}function Vd(){}function Zd(){this.g=new Vd}function Bd(e,t,n){var r=n||"";try{sd(e,(function(e,n){var i=e;Hl(e)&&(i=ih(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function zd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function qd(e){this.l=e.ac||null,this.j=e.jb||!1}function Wd(e,t){th.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Gd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Od.prototype.cancel=function(){if(this.i=Ud(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=E(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Vd.prototype.stringify=function(e){return ql.JSON.stringify(e,void 0)},Vd.prototype.parse=function(e){return ql.JSON.parse(e,void 0)},ef(qd,Fh),qd.prototype.g=function(){return new Wd(this.l,this.j)},qd.prototype.i=(Dd={},function(){return Dd}),ef(Wd,th);var Gd=0;function Hd(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Yd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Kd(e)}function Kd(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Vl=Wd.prototype).open=function(e,t){if(this.readyState!=Gd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Kd(this)},Vl.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ql).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Vl.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yd(this)),this.readyState=Gd},Vl.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Kd(this)),this.g&&(this.readyState=3,Kd(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof ql.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hd(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Vl.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Yd(this):Kd(this),3==this.readyState&&Hd(this)}},Vl.Va=function(e){this.g&&(this.response=this.responseText=e,Yd(this))},Vl.Ua=function(e){this.g&&(this.response=e,Yd(this))},Vl.ga=function(){this.g&&Yd(this)},Vl.setRequestHeader=function(e,t){this.v.append(e,t)},Vl.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Vl.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Wd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Qd=ql.JSON.parse;function $d(e){th.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Jd,this.K=this.L=!1}ef($d,th);var Jd="",Xd=/^https?$/i,ep=["POST","PUT"];function tp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,np(e),ip(e)}function np(e){e.D||(e.D=!0,nh(e,"complete"),nh(e,"error"))}function rp(e){if(e.h&&"undefined"!=typeof zl&&(!e.C[1]||4!=op(e)||2!=e.aa()))if(e.v&&4==op(e))yh(e.Ha,0,e);else if(nh(e,"readystatechange"),4==op(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(ud)[1]||null;if(!a&&ql.self&&ql.self.location){var o=ql.self.location.protocol;a=o.substr(0,o.length-1)}i=!Xd.test(a?a.toLowerCase():"")}t=i}if(t)nh(e,"complete"),nh(e,"success");else{e.m=6;try{var s=2<op(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",np(e)}}finally{ip(e)}}}function ip(e,t){if(e.g){ap(e);var n=e.g,r=e.C[0]?Wl:null;e.g=null,e.C=null,t||nh(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function ap(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ql.clearTimeout(e.A),e.A=null)}function op(e){return e.g?e.g.readyState:0}function sp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Jd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Gp){return null}}function up(e){var t="";return Lf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function cp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=up(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):pd(e,t,n))}function lp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function fp(e){this.Ca=0,this.i=[],this.j=new Sh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=lp("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=lp("baseRetryDelayMs",5e3,e),this.bb=lp("retryDelaySeedMs",1e4,e),this.$a=lp("forwardChannelMaxRetries",2,e),this.ta=lp("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Od(e&&e.concurrentRequestLimit),this.Fa=new Zd,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function hp(e){if(pp(e),3==e.G){var t=e.U++,n=ld(e.F);pd(n,"SID",e.I),pd(n,"RID",t),pd(n,"TYPE","terminate"),yp(e,n),(t=new Wh(e,e.j,t,void 0)).K=2,t.v=vd(ld(n)),n=!1,ql.navigator&&ql.navigator.sendBeacon&&(n=ql.navigator.sendBeacon(t.v.toString(),"")),!n&&ql.Image&&((new Image).src=t.v,n=!0),n||(t.g=Np(t.l,null),t.g.da(t.v)),t.F=Date.now(),td(t)}Tp(e)}function dp(e){e.g&&(wp(e),e.g.cancel(),e.g=null)}function pp(e){dp(e),e.u&&(ql.clearTimeout(e.u),e.u=null),_p(e),e.h.cancel(),e.m&&("number"===typeof e.m&&ql.clearTimeout(e.m),e.m=null)}function vp(e){Rd(e.h)||e.m||(e.m=!0,fh(e.Ja,e),e.C=0)}function mp(e,t){var n;n=t?t.m:e.U++;var r=ld(e.F);pd(r,"SID",e.I),pd(r,"RID",n),pd(r,"AID",e.T),yp(e,r),e.o&&e.s&&cp(r,e.o,e.s),n=new Wh(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=gp(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Fd(e.h,n),Qh(n,r,t)}function yp(e,t){e.ia&&Lf(e.ia,(function(e,n){pd(t,n,e)})),e.l&&sd({},(function(e,n){pd(t,n,e)}))}function gp(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Jl(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Bd(l,o,"req"+c+"_")}catch(nv){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function kp(e){e.g||e.u||(e.Z=1,fh(e.Ia,e),e.A=0)}function bp(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Rh(Jl(e.Ia,e),Ep(e,e.A)),e.A++,!0)}function wp(e){null!=e.B&&(ql.clearTimeout(e.B),e.B=null)}function xp(e){e.g=new Wh(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=ld(e.sa);pd(t,"RID","rpc"),pd(t,"SID",e.I),pd(t,"CI",e.L?"0":"1"),pd(t,"AID",e.T),pd(t,"TYPE","xmlhttp"),yp(e,t),e.o&&e.s&&cp(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=vd(ld(t)),n.s=null,n.P=!0,$h(n,e)}function _p(e){null!=e.v&&(ql.clearTimeout(e.v),e.v=null)}function Sp(e,t){var n=null;if(e.g==t){_p(e),wp(e),e.g=null;var r=2}else{if(!Ld(e.h,t))return;n=t.D,jd(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;nh(r=Ch(),new Ph(r,n)),vp(e)}else kp(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Md(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Rh(Jl(e.Ja,e,t),Ep(e,e.C)),e.C++,!0))}(e,t)||2==r&&bp(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Ip(e,5);break;case 4:Ip(e,10);break;case 3:Ip(e,6);break;default:Ip(e,2)}}function Ep(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Ip(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Jl(e.kb,e);n||(n=new cd("//www.google.com/images/cleardot.gif"),ql.location&&"http"==ql.location.protocol||fd(n,"https"),vd(n)),function(e,t){var n=new Sh;if(ql.Image){var r=new Image;r.onload=Xl(zd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Xl(zd,n,r,"TestLoadImage: error",!1,t),r.onabort=Xl(zd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Xl(zd,n,r,"TestLoadImage: timeout",!1,t),ql.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Dh(2);e.G=0,e.l&&e.l.va(t),Tp(e),pp(e)}function Tp(e){if(e.G=0,e.la=[],e.l){var t=Ud(e.h);0==t.length&&0==e.i.length||(af(e.la,t),af(e.la,e.i),e.h.i.length=0,rf(e.i),e.i.length=0),e.l.ua()}}function Cp(e,t,n){var r=n instanceof cd?ld(n):new cd(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),hd(r,r.m);else{var i=ql.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new cd(null,void 0);r&&fd(a,r),t&&(a.g=t),i&&hd(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&pd(r,n,t),pd(r,"VER",e.ma),yp(e,r),r}function Np(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new $d(new qd({jb:!0})):new $d(e.ra)).Ka(e.H),t}function Ap(){}function Op(){if(mf&&!(10<=Number(Nf)))throw Error("Environmental error: no available transport.")}function Dp(e,t){th.call(this),this.g=new fp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!uf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!uf(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Mp(this)}function Pp(e){Bh.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Rp(){zh.call(this),this.status=1}function Mp(e){this.g=e}(Vl=$d.prototype).Ka=function(e){this.L=e},Vl.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Vh.g(),this.C=this.u?jh(this.u):jh(Vh),this.g.onreadystatechange=Jl(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void tp(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var o,s=E(r.keys());try{for(s.s();!(o=s.n()).done;){var u=o.value;n.set(u,r.get(u))}}catch(p){s.e(p)}finally{s.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),a=ql.FormData&&e instanceof ql.FormData,!(0<=nf(ep,t))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=E(n);try{for(l.s();!(c=l.n()).done;){var f=(0,i.Z)(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ap(this),0<this.B&&((this.K=function(e){return mf&&Tf()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jl(this.qa,this)):this.A=yh(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){tp(this,u)}},Vl.qa=function(){"undefined"!=typeof zl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nh(this,"timeout"),this.abort(8))},Vl.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,nh(this,"complete"),nh(this,"abort"),ip(this))},Vl.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ip(this,!0)),$d.X.M.call(this)},Vl.Ha=function(){this.s||(this.F||this.v||this.l?rp(this):this.fb())},Vl.fb=function(){rp(this)},Vl.aa=function(){try{return 2<op(this)?this.g.status:-1}catch(Dd){return-1}},Vl.fa=function(){try{return this.g?this.g.responseText:""}catch(Dd){return""}},Vl.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Qd(t)}},Vl.Ea=function(){return this.m},Vl.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Vl=fp.prototype).ma=8,Vl.G=1,Vl.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Wh(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Uf(n=Ff(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=gp(this,t,r),pd(i=ld(this.F),"RID",e),pd(i,"CVER",22),this.D&&pd(i,"X-HTTP-Session-Id",this.D),yp(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(up(n)))+"&"+r:this.o&&cp(i,this.o,n)),Fd(this.h,t),this.Ya&&pd(i,"TYPE","init"),this.O?(pd(i,"$req",r),pd(i,"SID","null"),t.Z=!0,Qh(t,i,null)):Qh(t,i,r),this.G=2}}else 3==this.G&&(e?mp(this,e):0==this.i.length||Rd(this.h)||mp(this))},Vl.Ia=function(){if(this.u=null,xp(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Rh(Jl(this.eb,this),e)}},Vl.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Dh(10),dp(this),xp(this))},Vl.cb=function(){null!=this.v&&(this.v=null,dp(this),bp(this),Dh(19))},Vl.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Dh(2)):(this.j.info("Failed to ping google.com"),Dh(1))},(Vl=Ap.prototype).xa=function(){},Vl.wa=function(){},Vl.va=function(){},Vl.ua=function(){},Vl.Ra=function(){},Op.prototype.g=function(e,t){return new Dp(e,t)},ef(Dp,th),Dp.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Dh(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Cp(e,null,e.V),vp(e)},Dp.prototype.close=function(){hp(this.g)},Dp.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ih(e),e=n);t.i.push(new Ad(t.ab++,e)),3==t.G&&vp(t)},Dp.prototype.M=function(){this.g.l=null,delete this.j,hp(this.g),delete this.g,Dp.X.M.call(this)},ef(Pp,Bh),ef(Rp,zh),ef(Mp,Ap),Mp.prototype.xa=function(){nh(this.g,"a")},Mp.prototype.wa=function(e){nh(this.g,new Pp(e))},Mp.prototype.va=function(e){nh(this.g,new Rp)},Mp.prototype.ua=function(){nh(this.g,"b")},Op.prototype.createWebChannel=Op.prototype.g,Dp.prototype.send=Dp.prototype.u,Dp.prototype.open=Dp.prototype.m,Dp.prototype.close=Dp.prototype.close,Mh.NO_ERROR=0,Mh.TIMEOUT=8,Mh.HTTP_ERROR=6,Lh.COMPLETE="complete",Uh.EventType=Zh,Zh.OPEN="a",Zh.CLOSE="b",Zh.ERROR="c",Zh.MESSAGE="d",th.prototype.listen=th.prototype.N,$d.prototype.listenOnce=$d.prototype.O,$d.prototype.getLastError=$d.prototype.Oa,$d.prototype.getLastErrorCode=$d.prototype.Ea,$d.prototype.getStatus=$d.prototype.aa,$d.prototype.getResponseJson=$d.prototype.Sa,$d.prototype.getResponseText=$d.prototype.fa,$d.prototype.send=$d.prototype.da,$d.prototype.setWithCredentials=$d.prototype.Ka;var Lp=Bl.createWebChannelTransport=function(){return new Op},Fp=Bl.getStatEventTarget=function(){return Ch()},jp=Bl.ErrorCode=Mh,Up=Bl.EventType=Lh,Vp=Bl.Event=Ih,Zp=Bl.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Bp=Bl.FetchXmlHttpFactory=qd,zp=Bl.WebChannel=Uh,qp=Bl.XhrIo=$d,Wp="@firebase/firestore",Gp=function(){function e(t){u(this,e),this.uid=t}return(0,c.Z)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Gp.UNAUTHENTICATED=new Gp(null),Gp.GOOGLE_CREDENTIALS=new Gp("google-credentials-uid"),Gp.FIRST_PARTY=new Gp("first-party-uid"),Gp.MOCK_USER=new Gp("mock-user");var Hp="9.20.0",Yp=new Gt("@firebase/firestore");function Kp(){return Yp.logLevel}function Qp(e){if(Yp.logLevel<=Ut.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Xp);Yp.debug.apply(Yp,["Firestore (".concat(Hp,"): ").concat(e)].concat((0,s.Z)(i)))}}function $p(e){if(Yp.logLevel<=Ut.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Xp);Yp.error.apply(Yp,["Firestore (".concat(Hp,"): ").concat(e)].concat((0,s.Z)(i)))}}function Jp(e){if(Yp.logLevel<=Ut.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Xp);Yp.warn.apply(Yp,["Firestore (".concat(Hp,"): ").concat(e)].concat((0,s.Z)(i)))}}function Xp(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ev(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Hp,") INTERNAL ASSERTION FAILED: ")+e;throw $p(t),new Error(t)}function tv(e,t){e||ev()}function nv(e,t){return e}var rv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},iv=function(e){f(n,e);var t=m(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return(0,c.Z)(n)}(gt),av=(0,c.Z)((function e(){var t=this;u(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ov=(0,c.Z)((function e(t,n){u(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),sv=function(){function e(){u(this,e)}return(0,c.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Gp.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),uv=function(){function e(t){u(this,e),this.token=t,this.changeListener=null}return(0,c.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),cv=function(){function e(t){u(this,e),this.t=t,this.currentUser=Gp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,c.Z)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new av;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new av,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Qp("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Qp("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new av)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Qp("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(tv("string"==typeof n.accessToken),new ov(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return tv(null===e||"string"==typeof e),new Gp(e)}}]),e}(),lv=function(){function e(t,n,r){u(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=Gp.FIRST_PARTY,this.g=new Map}return(0,c.Z)(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),fv=function(){function e(t,n,r){u(this,e),this.h=t,this.l=n,this.m=r}return(0,c.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(new lv(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Gp.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),hv=(0,c.Z)((function e(t){u(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),dv=function(){function e(t){u(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return(0,c.Z)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Qp("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,Qp("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Qp("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):Qp("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(tv("string"==typeof t.token),e.T=t.token,new hv(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function pv(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var vv=function(){function e(){u(this,e)}return(0,c.Z)(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=pv(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function mv(e,t){return e<t?-1:e>t?1:0}function yv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function gv(e){return e+"\0"}var kv=function(){function e(t,n){if(u(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new iv(rv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new iv(rv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new iv(rv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new iv(rv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return(0,c.Z)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?mv(this.nanoseconds,e.nanoseconds):mv(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),bv=function(){function e(t){u(this,e),this.timestamp=t}return(0,c.Z)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new kv(0,0))}},{key:"max",value:function(){return new e(new kv(253402300799,999999999))}}]),e}(),wv=function(){function e(t,n,r){u(this,e),void 0===n?n=0:n>t.length&&ev(),void 0===r?r=t.length-n:r>t.length-n&&ev(),this.segments=t,this.offset=n,this.len=r}return(0,c.Z)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),xv=function(e){f(n,e);var t=m(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new iv(rv.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,s.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(wv),_v=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Sv=function(e){f(n,e);var t=m(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return _v.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new iv(rv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new iv(rv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new iv(rv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new iv(rv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(wv),Ev=function(){function e(t){u(this,e),this.path=t}return(0,c.Z)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===xv.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(xv.fromString(t))}},{key:"fromName",value:function(t){return new e(xv.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(xv.emptyPath())}},{key:"comparator",value:function(e,t){return xv.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new xv(t.slice()))}}]),e}(),Iv=(0,c.Z)((function e(t,n,r,i){u(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Tv(e){return e.fields.find((function(e){return 2===e.kind}))}function Cv(e){return e.fields.filter((function(e){return 2!==e.kind}))}Iv.UNKNOWN_ID=-1;var Nv=(0,c.Z)((function e(t,n){u(this,e),this.fieldPath=t,this.kind=n}));var Av=function(){function e(t,n){u(this,e),this.sequenceNumber=t,this.offset=n}return(0,c.Z)(e,null,[{key:"empty",value:function(){return new e(0,Pv.min())}}]),e}();function Ov(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=bv.fromTimestamp(1e9===r?new kv(n+1,0):new kv(n,r));return new Pv(i,Ev.empty(),t)}function Dv(e){return new Pv(e.readTime,e.key,-1)}var Pv=function(){function e(t,n,r){u(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return(0,c.Z)(e,null,[{key:"min",value:function(){return new e(bv.min(),Ev.empty(),-1)}},{key:"max",value:function(){return new e(bv.max(),Ev.empty(),-1)}}]),e}();function Rv(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ev.comparator(e.documentKey,t.documentKey))?n:mv(e.largestBatchId,t.largestBatchId)}var Mv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Lv=function(){function e(){u(this,e),this.onCommittedListeners=[]}return(0,c.Z)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Fv(e){return jv.apply(this,arguments)}function jv(){return jv=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===rv.FAILED_PRECONDITION&&t.message===Mv){e.next=2;break}throw t;case 2:Qp("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),jv.apply(this,arguments)}var Uv=function(){function e(t){var n=this;u(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return(0,c.Z)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ev(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=E(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Vv=function(){function e(t,n){var r=this;u(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.R=new av,this.transaction.oncomplete=function(){r.R.resolve()},this.transaction.onabort=function(){n.error?r.R.reject(new zv(t,n.error)):r.R.resolve()},this.transaction.onerror=function(e){var n=Yv(e.target.error);r.R.reject(new zv(t,n))}}return(0,c.Z)(e,[{key:"v",get:function(){return this.R.promise}},{key:"abort",value:function(e){e&&this.R.reject(e),this.aborted||(Qp("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Wv(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new zv(n,t)}}}]),e}(),Zv=function(){function e(t,n,r){u(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(ht())&&$p("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return(0,c.Z)(e,[{key:"$",value:function(){var e=Rt(Dt().mark((function e(t){var n=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Qp("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new zv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new iv(rv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new iv(rv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new zv(t,n))},i.onupgradeneeded=function(e){Qp("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.M(t,i.transaction,e.oldVersion,n.version).next((function(){Qp("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Rt(Dt().mark((function e(t,n,r,i){var a,o,s,u,c=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=Dt().mark((function e(){var n,s,u,l;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=Vv.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),Uv.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.v;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,Qp("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Qp("SimpleDb","Removing database:",e),Gv(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!yt())return!1;if(e.C())return!0;var t=ht(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Bv=function(){function e(t){u(this,e),this.L=t,this.q=!1,this.U=null}return(0,c.Z)(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return Gv(this.L.delete())}}]),e}(),zv=function(e){f(n,e);var t=m(n);function n(e,r){var i;return u(this,n),(i=t.call(this,rv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return(0,c.Z)(n)}(iv);function qv(e){return"IndexedDbTransactionError"===e.name}var Wv=function(){function e(t){u(this,e),this.store=t}return(0,c.Z)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Qp("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Qp("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Gv(n)}},{key:"add",value:function(e){return Qp("SimpleDb","ADD",this.store.name,e,e),Gv(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Gv(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Qp("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Qp("SimpleDb","DELETE",this.store.name,e),Gv(this.store.delete(e))}},{key:"count",value:function(){return Qp("SimpleDb","COUNT",this.store.name),Gv(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Uv((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Uv((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){Qp("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new Uv((function(n,r){t.onerror=function(e){var t=Yv(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new Uv((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Bv(i),o=t(i.primaryKey,i.value,a);if(o instanceof Uv){var s=o.catch((function(e){return a.done(),Uv.reject(e)}));n.push(s)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return Uv.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Gv(e){return new Uv((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Yv(e.target.error);n(t)}}))}var Hv=!1;function Yv(e){var t=Zv.S(ht());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new iv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Hv||(Hv=!0,setTimeout((function(){throw r}),0)),r}}return e}var Kv=function(){function e(t,n){u(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return(0,c.Z)(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;Qp("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Qp,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!qv(e.t4)){e.next=17;break}Qp("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Fv(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Qv=function(){function e(t,n){u(this,e),this.localStore=t,this.persistence=n}return(0,c.Z)(e,[{key:"nt",value:function(){var e=Rt(Dt().mark((function e(){var t,n=this,r=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Uv.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Qp("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return Qp("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Dv(t);Rv(r,n)>0&&(n=r)})),new Pv(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),$v=function(){function e(t,n){var r=this;u(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return(0,c.Z)(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Jv(e){return null==e}function Xv(e){return 0===e&&1/e==-1/0}function em(e){return"number"==typeof e&&Number.isInteger(e)&&!Xv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function tm(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=rm(t)),t=nm(e.get(n),t);return rm(t)}function nm(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function rm(e){return e+"\x01\x01"}function im(e){var t=e.length;if(tv(t>=2),2===t)return tv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),xv.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&ev(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:ev()}a=o+2}return new xv(r)}$v.ct=-1;var am=["userId","batchId"];function om(e,t){return[e,tm(t)]}function sm(e,t,n){return[e,tm(t),n]}var um={},cm=["prefixPath","collectionGroup","readTime","documentId"],lm=["prefixPath","collectionGroup","documentId"],fm=["collectionGroup","readTime","prefixPath","documentId"],hm=["canonicalId","targetId"],dm=["targetId","path"],pm=["path","targetId"],vm=["collectionId","parent"],mm=["indexId","uid"],ym=["uid","sequenceNumber"],gm=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],km=["indexId","uid","orderedDocumentKey"],bm=["userId","collectionPath","documentId"],wm=["userId","collectionPath","largestBatchId"],xm=["userId","collectionGroup","largestBatchId"],_m=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Sm=[].concat((0,s.Z)(_m),["documentOverlays"]),Em=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Im=Em,Tm=[].concat(Im,["indexConfiguration","indexState","indexEntries"]),Cm=function(e){f(n,e);var t=m(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).at=e,i.currentSequenceNumber=r,i}return(0,c.Z)(n)}(Lv);function Nm(e,t){var n=nv(e);return Zv.O(n.at,t)}function Am(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Om(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Dm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Pm=function(){function e(t,n){u(this,e),this.comparator=t,this.root=n||Mm.EMPTY}return(0,c.Z)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Mm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Mm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Rm(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Rm(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Rm(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Rm(this.root,e,this.comparator,!0)}}]),e}(),Rm=function(){function e(t,n,r,i){u(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return(0,c.Z)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Mm=function(){function e(t,n,r,i,a){u(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return(0,c.Z)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ev();if(this.right.isRed())throw ev();var e=this.left.check();if(e!==this.right.check())throw ev();return e+(this.isRed()?0:1)}}]),e}();Mm.EMPTY=null,Mm.RED=!0,Mm.BLACK=!1,Mm.EMPTY=new(function(){function e(){u(this,e),this.size=0}return(0,c.Z)(e,[{key:"key",get:function(){throw ev()}},{key:"value",get:function(){throw ev()}},{key:"color",get:function(){throw ev()}},{key:"left",get:function(){throw ev()}},{key:"right",get:function(){throw ev()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Mm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Lm=function(){function e(t){u(this,e),this.comparator=t,this.data=new Pm(this.comparator)}return(0,c.Z)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Fm(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Fm(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Fm=function(){function e(t){u(this,e),this.iter=t}return(0,c.Z)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function jm(e){return e.hasNext()?e.getNext():void 0}var Um=function(){function e(t){u(this,e),this.fields=t,t.sort(Sv.comparator)}return(0,c.Z)(e,[{key:"unionWith",value:function(t){var n,r=new Lm(Sv.comparator),i=E(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=E(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=E(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return yv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Vm=function(e){f(n,e);var t=m(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return(0,c.Z)(n)}(g(Error));var Zm=function(e){function t(e){u(this,t),this.binaryString=e}return(0,c.Z)(t,[{key:e,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return mv(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Vm("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}(Symbol.iterator);Zm.EMPTY_BYTE_STRING=new Zm("");var Bm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zm(e){if(tv(!!e),"string"==typeof e){var t=0,n=Bm.exec(e);if(tv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:qm(e.seconds),nanos:qm(e.nanos)}}function qm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Wm(e){return"string"==typeof e?Zm.fromBase64String(e):Zm.fromUint8Array(e)}function Gm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hm(e){var t=e.mapValue.fields.__previous_value__;return Gm(t)?Hm(t):t}function Ym(e){var t=zm(e.mapValue.fields.__local_write_time__.timestampValue);return new kv(t.seconds,t.nanos)}var Km=(0,c.Z)((function e(t,n,r,i,a,o,s,c){u(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=c})),Qm=function(){function e(t,n){u(this,e),this.projectId=t,this.database=n||"(default)"}return(0,c.Z)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),$m={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Jm={nullValue:"NULL_VALUE"};function Xm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Gm(e)?4:dy(e)?9007199254740991:10:ev()}function ey(e,t){if(e===t)return!0;var n=Xm(e);if(n!==Xm(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ym(e).isEqual(Ym(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=zm(e.timestampValue),r=zm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Wm(e.bytesValue).isEqual(Wm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return qm(e.geoPointValue.latitude)===qm(t.geoPointValue.latitude)&&qm(e.geoPointValue.longitude)===qm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return qm(e.integerValue)===qm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=qm(e.doubleValue),r=qm(t.doubleValue);return n===r?Xv(n)===Xv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return yv(e.arrayValue.values||[],t.arrayValue.values||[],ey);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Am(n)!==Am(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ey(n[i],r[i])))return!1;return!0}(e,t);default:return ev()}}function ty(e,t){return void 0!==(e.values||[]).find((function(e){return ey(e,t)}))}function ny(e,t){if(e===t)return 0;var n=Xm(e),r=Xm(t);if(n!==r)return mv(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mv(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=qm(e.integerValue||e.doubleValue),r=qm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ry(e.timestampValue,t.timestampValue);case 4:return ry(Ym(e),Ym(t));case 5:return mv(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Wm(e),r=Wm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=mv(n[i],r[i]);if(0!==a)return a}return mv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=mv(qm(e.latitude),qm(t.latitude));return 0!==n?n:mv(qm(e.longitude),qm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=ny(n[i],r[i]);if(a)return a}return mv(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===$m.mapValue&&t===$m.mapValue)return 0;if(e===$m.mapValue)return 1;if(t===$m.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=mv(r[o],a[o]);if(0!==s)return s;var u=ny(n[r[o]],i[a[o]]);if(0!==u)return u}return mv(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ev()}}function ry(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return mv(e,t);var n=zm(e),r=zm(t),i=mv(n.seconds,r.seconds);return 0!==i?i:mv(n.nanos,r.nanos)}function iy(e){return ay(e)}function ay(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=zm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Wm(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ev.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=E(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ay(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=E(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ay(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ev();var t,n}function oy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function sy(e){return!!e&&"integerValue"in e}function uy(e){return!!e&&"arrayValue"in e}function cy(e){return!!e&&"nullValue"in e}function ly(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function fy(e){return!!e&&"mapValue"in e}function hy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Om(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=hy(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=hy(e.arrayValue.values[r]);return n}return Object.assign({},e)}function dy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function py(e){return"nullValue"in e?Jm:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?oy(Qm.empty(),Ev.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:ev()}function vy(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?oy(Qm.empty(),Ev.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?$m:ev()}function my(e,t){var n=ny(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function yy(e,t){var n=ny(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var gy=function(){function e(t){u(this,e),this.value=t}return(0,c.Z)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!fy(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hy(t)}},{key:"setAll",value:function(e){var t=this,n=Sv.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=hy(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());fy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ey(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];fy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Om(t,(function(t,n){return e[t]=n}));var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(hy(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ky(e){var t=[];return Om(e.fields,(function(e,n){var r=new Sv([e]);if(fy(n)){var i=ky(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=E(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Um(t)}var by=function(){function e(t,n,r,i,a,o,s){u(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return(0,c.Z)(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(bv.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=gy.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=gy.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=bv.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,bv.min(),bv.min(),bv.min(),gy.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,bv.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,bv.min(),bv.min(),gy.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,bv.min(),bv.min(),gy.empty(),2)}}]),e}(),wy=(0,c.Z)((function e(t,n){u(this,e),this.position=t,this.inclusive=n}));function xy(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ev.comparator(Ev.fromName(o.referenceValue),n.key):ny(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function _y(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ey(e.position[n],t.position[n]))return!1;return!0}var Sy=(0,c.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";u(this,e),this.field=t,this.dir=n}));function Ey(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Iy=(0,c.Z)((function e(){u(this,e)})),Ty=function(e){f(n,e);var t=m(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return(0,c.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ny(t,this.value)):null!==t&&Xm(this.value)===Xm(t)&&this.matchesComparison(ny(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ev()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Fy(e,t,r):"array-contains"===t?new Zy(e,r):"in"===t?new By(e,r):"not-in"===t?new zy(e,r):"array-contains-any"===t?new qy(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new jy(e,n):new Uy(e,n)}}]),n}(Iy),Cy=function(e){f(n,e);var t=m(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return(0,c.Z)(n,[{key:"matches",value:function(e){return Ny(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=E(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Iy);function Ny(e){return"and"===e.op}function Ay(e){return"or"===e.op}function Oy(e){return Dy(e)&&Ny(e)}function Dy(e){var t,n=E(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Cy)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Py(e){if(e instanceof Ty)return e.field.canonicalString()+e.op.toString()+iy(e.value);if(Oy(e))return e.filters.map((function(e){return Py(e)})).join(",");var t=e.filters.map((function(e){return Py(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Ry(e,t){return e instanceof Ty?function(e,t){return t instanceof Ty&&e.op===t.op&&e.field.isEqual(t.field)&&ey(e.value,t.value)}(e,t):e instanceof Cy?function(e,t){return t instanceof Cy&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Ry(n,t.filters[r])}),!0)}(e,t):void ev()}function My(e,t){var n=e.filters.concat(t);return Cy.create(n,e.op)}function Ly(e){return e instanceof Ty?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(iy(e.value))}(e):e instanceof Cy?function(e){return e.op.toString()+" {"+e.getFilters().map(Ly).join(" ,")+"}"}(e):"Filter"}var Fy=function(e){f(n,e);var t=m(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this,e,r,i)).key=Ev.fromName(i.referenceValue),a}return(0,c.Z)(n,[{key:"matches",value:function(e){var t=Ev.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Ty),jy=function(e){f(n,e);var t=m(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,"in",r)).keys=Vy("in",r),i}return(0,c.Z)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ty),Uy=function(e){f(n,e);var t=m(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,"not-in",r)).keys=Vy("not-in",r),i}return(0,c.Z)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ty);function Vy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ev.fromName(e.referenceValue)}))}var Zy=function(e){f(n,e);var t=m(n);function n(e,r){return u(this,n),t.call(this,e,"array-contains",r)}return(0,c.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return uy(t)&&ty(t.arrayValue,this.value)}}]),n}(Ty),By=function(e){f(n,e);var t=m(n);function n(e,r){return u(this,n),t.call(this,e,"in",r)}return(0,c.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&ty(this.value.arrayValue,t)}}]),n}(Ty),zy=function(e){f(n,e);var t=m(n);function n(e,r){return u(this,n),t.call(this,e,"not-in",r)}return(0,c.Z)(n,[{key:"matches",value:function(e){if(ty(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ty(this.value.arrayValue,t)}}]),n}(Ty),qy=function(e){f(n,e);var t=m(n);function n(e,r){return u(this,n),t.call(this,e,"array-contains-any",r)}return(0,c.Z)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!uy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ty(t.value.arrayValue,e)}))}}]),n}(Ty),Wy=(0,c.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;u(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function Gy(e){return new Wy(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Hy(e){var t=nv(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Py(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Jv(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return iy(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return iy(e)})).join(",")),t.ft=n}return t.ft}function Yy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ey(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Ry(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_y(e.startAt,t.startAt)&&_y(e.endAt,t.endAt)}function Ky(e){return Ev.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Qy(e,t){return e.filters.filter((function(e){return e instanceof Ty&&e.field.isEqual(t)}))}function $y(e,t,n){var r,i=Jm,a=!0,o=E(Qy(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Jm,c=!0;switch(s.op){case"<":case"<=":u=py(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Jm}my({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];my({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Jy(e,t,n){var r,i=$m,a=!0,o=E(Qy(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=$m,c=!0;switch(s.op){case">=":case">":u=vy(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=$m}yy({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];yy({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Xy=(0,c.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;u(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=c,this.dt=null,this.wt=null,this.startAt,this.endAt}));function eg(e,t,n,r,i,a,o,s){return new Xy(e,t,n,r,i,a,o,s)}function tg(e){return new Xy(e)}function ng(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function rg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ig(e){var t,n=E(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function ag(e){return null!==e.collectionGroup}function og(e){var t=nv(e);if(null===t.dt){t.dt=[];var n=ig(t),r=rg(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new Sy(n)),t.dt.push(new Sy(Sv.keyField(),"asc"));else{var i,a=!1,o=E(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Sy(Sv.keyField(),u))}}}return t.dt}function sg(e){var t=nv(e);if(!t.wt)if("F"===t.limitType)t.wt=Gy(t.path,t.collectionGroup,og(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=E(og(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Sy(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new wy(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new wy(t.startAt.position,t.startAt.inclusive):null;t.wt=Gy(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.wt}function ug(e,t){t.getFirstInequalityField(),ig(e);var n=e.filters.concat([t]);return new Xy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function cg(e,t,n){return new Xy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function lg(e,t){return Yy(sg(e),sg(t))&&e.limitType===t.limitType}function fg(e){return"".concat(Hy(sg(e)),"|lt:").concat(e.limitType)}function hg(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Ly(e)})).join(", "),"]")),Jv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return iy(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return iy(e)})).join(",")),"Target(".concat(t,")")}(sg(e)),"; limitType=").concat(e.limitType,")")}function dg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ev.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=E(og(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=E(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=xy(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,og(e),t))&&!(e.endAt&&!function(e,t,n){var r=xy(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,og(e),t))}(e,t)}function pg(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function vg(e){return function(t,n){var r,i=!1,a=E(og(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=mg(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function mg(e,t,n){var r=e.field.isKeyField()?Ev.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ny(r,i):ev()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ev()}}var yg=function(){function e(t,n){u(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return(0,c.Z)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,a=E(n);try{for(a.s();!(r=a.n()).done;){var o=(0,i.Z)(r.value,2),s=o[0],u=o[1];if(this.equalsFn(s,e))return u}}catch(c){a.e(c)}finally{a.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Om(this.inner,(function(t,n){var r,a=E(n);try{for(a.s();!(r=a.n()).done;){var o=(0,i.Z)(r.value,2),s=o[0],u=o[1];e(s,u)}}catch(c){a.e(c)}finally{a.f()}}))}},{key:"isEmpty",value:function(){return Dm(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),gg=new Pm(Ev.comparator);function kg(){return gg}var bg=new Pm(Ev.comparator);function wg(){for(var e=bg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function xg(e){var t=bg;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function _g(){return Eg()}function Sg(){return Eg()}function Eg(){return new yg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Ig=new Pm(Ev.comparator),Tg=new Lm(Ev.comparator);function Cg(){for(var e=Tg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Ng=new Lm(mv);function Ag(){return Ng}function Og(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xv(t)?"-0":t}}function Dg(e){return{integerValue:""+e}}function Pg(e,t){return em(t)?Dg(t):Og(e,t)}var Rg=(0,c.Z)((function e(){u(this,e),this._=void 0}));function Mg(e,t,n){return e instanceof jg?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ug?Vg(e,t):e instanceof Zg?Bg(e,t):function(e,t){var n=Fg(e,t),r=qg(n)+qg(e._t);return sy(n)&&sy(e._t)?Dg(r):Og(e.serializer,r)}(e,t)}function Lg(e,t,n){return e instanceof Ug?Vg(e,t):e instanceof Zg?Bg(e,t):n}function Fg(e,t){return e instanceof zg?sy(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var jg=function(e){f(n,e);var t=m(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,c.Z)(n)}(Rg),Ug=function(e){f(n,e);var t=m(n);function n(e){var r;return u(this,n),(r=t.call(this)).elements=e,r}return(0,c.Z)(n)}(Rg);function Vg(e,t){var n,r=Wg(t),i=E(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return ey(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Zg=function(e){f(n,e);var t=m(n);function n(e){var r;return u(this,n),(r=t.call(this)).elements=e,r}return(0,c.Z)(n)}(Rg);function Bg(e,t){var n,r=Wg(t),i=E(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!ey(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var zg=function(e){f(n,e);var t=m(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).serializer=e,i._t=r,i}return(0,c.Z)(n)}(Rg);function qg(e){return qm(e.integerValue||e.doubleValue)}function Wg(e){return uy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Gg=(0,c.Z)((function e(t,n){u(this,e),this.field=t,this.transform=n}));var Hg=(0,c.Z)((function e(t,n){u(this,e),this.version=t,this.transformResults=n})),Yg=function(){function e(t,n){u(this,e),this.updateTime=t,this.exists=n}return(0,c.Z)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Kg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Qg=(0,c.Z)((function e(){u(this,e)}));function $g(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ck(e.key,Yg.none()):new nk(e.key,e.data,Yg.none());var n,r=e.data,i=gy.empty(),a=new Lm(Sv.comparator),o=E(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new rk(e.key,i,new Um(a.toArray()),Yg.none())}function Jg(e,t,n){e instanceof nk?function(e,t,n){var r=e.value.clone(),i=ak(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof rk?function(e,t,n){if(Kg(e.precondition,t)){var r=ak(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ik(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Xg(e,t,n,r){return e instanceof nk?function(e,t,n,r){if(!Kg(e.precondition,t))return n;var i=e.value.clone(),a=ok(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof rk?function(e,t,n,r){if(!Kg(e.precondition,t))return n;var i=ok(e.fieldTransforms,r,t),a=t.data;return a.setAll(ik(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Kg(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ek(e,t){var n,r=null,i=E(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Fg(a.transform,o||null);null!=s&&(null===r&&(r=gy.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function tk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&yv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ug&&t instanceof Ug||e instanceof Zg&&t instanceof Zg?yv(e.elements,t.elements,ey):e instanceof zg&&t instanceof zg?ey(e._t,t._t):e instanceof jg&&t instanceof jg}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var nk=function(e){f(n,e);var t=m(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return u(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return(0,c.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Qg),rk=function(e){f(n,e);var t=m(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return u(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return(0,c.Z)(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Qg);function ik(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function ak(e,t,n){var r=new Map;tv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Lg(o,s,n[i]))}return r}function ok(e,t,n){var r,i=new Map,a=E(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Mg(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var sk,uk,ck=function(e){f(n,e);var t=m(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return(0,c.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Qg),lk=function(e){f(n,e);var t=m(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return(0,c.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Qg),fk=function(){function e(t,n,r,i){u(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return(0,c.Z)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Jg(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=E(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Xg(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=E(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Xg(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Sg();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=$g(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(bv.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Cg())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&yv(this.mutations,e.mutations,(function(e,t){return tk(e,t)}))&&yv(this.baseMutations,e.baseMutations,(function(e,t){return tk(e,t)}))}}]),e}(),hk=function(){function e(t,n,r,i){u(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return(0,c.Z)(e,null,[{key:"from",value:function(t,n,r){tv(t.mutations.length===r.length);for(var i=Ig,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),dk=function(){function e(t,n){u(this,e),this.largestBatchId=t,this.mutation=n}return(0,c.Z)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),pk=(0,c.Z)((function e(t){u(this,e),this.count=t}));function vk(e){switch(e){default:return ev();case rv.CANCELLED:case rv.UNKNOWN:case rv.DEADLINE_EXCEEDED:case rv.RESOURCE_EXHAUSTED:case rv.INTERNAL:case rv.UNAVAILABLE:case rv.UNAUTHENTICATED:return!1;case rv.INVALID_ARGUMENT:case rv.NOT_FOUND:case rv.ALREADY_EXISTS:case rv.PERMISSION_DENIED:case rv.FAILED_PRECONDITION:case rv.ABORTED:case rv.OUT_OF_RANGE:case rv.UNIMPLEMENTED:case rv.DATA_LOSS:return!0}}function mk(e){if(void 0===e)return $p("GRPC error has no .code"),rv.UNKNOWN;switch(e){case sk.OK:return rv.OK;case sk.CANCELLED:return rv.CANCELLED;case sk.UNKNOWN:return rv.UNKNOWN;case sk.DEADLINE_EXCEEDED:return rv.DEADLINE_EXCEEDED;case sk.RESOURCE_EXHAUSTED:return rv.RESOURCE_EXHAUSTED;case sk.INTERNAL:return rv.INTERNAL;case sk.UNAVAILABLE:return rv.UNAVAILABLE;case sk.UNAUTHENTICATED:return rv.UNAUTHENTICATED;case sk.INVALID_ARGUMENT:return rv.INVALID_ARGUMENT;case sk.NOT_FOUND:return rv.NOT_FOUND;case sk.ALREADY_EXISTS:return rv.ALREADY_EXISTS;case sk.PERMISSION_DENIED:return rv.PERMISSION_DENIED;case sk.FAILED_PRECONDITION:return rv.FAILED_PRECONDITION;case sk.ABORTED:return rv.ABORTED;case sk.OUT_OF_RANGE:return rv.OUT_OF_RANGE;case sk.UNIMPLEMENTED:return rv.UNIMPLEMENTED;case sk.DATA_LOSS:return rv.DATA_LOSS;default:return ev()}}(uk=sk||(sk={}))[uk.OK=0]="OK",uk[uk.CANCELLED=1]="CANCELLED",uk[uk.UNKNOWN=2]="UNKNOWN",uk[uk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",uk[uk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",uk[uk.NOT_FOUND=5]="NOT_FOUND",uk[uk.ALREADY_EXISTS=6]="ALREADY_EXISTS",uk[uk.PERMISSION_DENIED=7]="PERMISSION_DENIED",uk[uk.UNAUTHENTICATED=16]="UNAUTHENTICATED",uk[uk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",uk[uk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",uk[uk.ABORTED=10]="ABORTED",uk[uk.OUT_OF_RANGE=11]="OUT_OF_RANGE",uk[uk.UNIMPLEMENTED=12]="UNIMPLEMENTED",uk[uk.INTERNAL=13]="INTERNAL",uk[uk.UNAVAILABLE=14]="UNAVAILABLE",uk[uk.DATA_LOSS=15]="DATA_LOSS";var yk=function(){function e(){u(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return(0,c.Z)(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return gk}},{key:"getOrCreateInstance",value:function(){return null===gk&&(gk=new e),gk}}]),e}(),gk=null,kk=function(){function e(t,n,r,i,a){u(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return(0,c.Z)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,bk.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(bv.min(),i,Ag(),kg(),Cg())}}]),e}(),bk=function(){function e(t,n,r,i,a){u(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return(0,c.Z)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Cg(),Cg(),Cg())}}]),e}(),wk=(0,c.Z)((function e(t,n,r,i){u(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),xk=(0,c.Z)((function e(t,n){u(this,e),this.targetId=t,this.Et=n})),_k=(0,c.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zm.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;u(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Sk=function(){function e(){u(this,e),this.At=0,this.Rt=Tk(),this.vt=Zm.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}return(0,c.Z)(e,[{key:"current",get:function(){return this.bt}},{key:"resumeToken",get:function(){return this.vt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.Pt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}},{key:"Ct",value:function(){var e=Cg(),t=Cg(),n=Cg();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ev()}})),new bk(this.vt,this.bt,e,t,n)}},{key:"xt",value:function(){this.Pt=!1,this.Rt=Tk()}},{key:"Nt",value:function(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"$t",value:function(){this.At-=1}},{key:"Mt",value:function(){this.Pt=!0,this.bt=!0}}]),e}(),Ek=function(){function e(t){u(this,e),this.Ft=t,this.Bt=new Map,this.Lt=kg(),this.qt=Ik(),this.Ut=new Lm(mv)}return(0,c.Z)(e,[{key:"Kt",value:function(e){var t,n=E(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(s){n.e(s)}finally{n.f()}var i,a=E(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"zt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.jt(n);switch(e.state){case 0:t.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||t.removeTarget(n);break;case 3:t.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:t.Wt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:ev()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.Wt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t,n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){var a=i.target;if(Ky(a))if(0===r){var o=new Ev(a.path);this.Qt(n,o,by.newNoDocument(o,bv.min()))}else tv(1===r);else{var s=this.Zt(n);s!==r&&(this.Ht(n),this.Ut=this.Ut.add(n),null===(t=yk.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:s,existenceFilterCount:e.Et.count}))}}}},{key:"Xt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&Ky(a.target)){var o=new Ev(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,by.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=Cg();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new kk(e,n,this.Ut,this.Lt,r);return this.Lt=kg(),this.qt=Ik(),this.Ut=new Lm(mv),i}},{key:"Gt",value:function(e,t){if(this.Wt(e)){var n=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.Wt(e)){var r=this.jt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Zt",value:function(e){var t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.jt(e).Ot()}},{key:"jt",value:function(e){var t=this.Bt.get(e);return t||(t=new Sk,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new Lm(mv),this.qt=this.qt.insert(e,t)),t}},{key:"Wt",value:function(e){var t=null!==this.Yt(e);return t||Qp("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new Sk),this.Ft.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}]),e}();function Ik(){return new Pm(Ev.comparator)}function Tk(){return new Pm(Ev.comparator)}var Ck={asc:"ASCENDING",desc:"DESCENDING"},Nk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ak={and:"AND",or:"OR"},Ok=(0,c.Z)((function e(t,n){u(this,e),this.databaseId=t,this.useProto3Json=n}));function Dk(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Pk(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Rk(e,t){return Dk(e,t.toTimestamp())}function Mk(e){return tv(!!e),bv.fromTimestamp(function(e){var t=zm(e);return new kv(t.seconds,t.nanos)}(e))}function Lk(e,t){return function(e){return new xv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Fk(e){var t=xv.fromString(e);return tv(ob(t)),t}function jk(e,t){return Lk(e.databaseId,t.path)}function Uk(e,t){var n=Fk(t);if(n.get(1)!==e.databaseId.projectId)throw new iv(rv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new iv(rv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ev(zk(n))}function Vk(e,t){return Lk(e.databaseId,t)}function Zk(e){var t=Fk(e);return 4===t.length?xv.emptyPath():zk(t)}function Bk(e){return new xv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function zk(e){return tv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function qk(e,t,n){return{name:jk(e,t),fields:n.value.mapValue.fields}}function Wk(e,t,n){var r=Uk(e,t.name),i=Mk(t.updateTime),a=t.createTime?Mk(t.createTime):bv.min(),o=new gy({mapValue:{fields:t.fields}}),s=by.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Gk(e,t){return"found"in t?function(e,t){tv(!!t.found),t.found.name,t.found.updateTime;var n=Uk(e,t.found.name),r=Mk(t.found.updateTime),i=t.found.createTime?Mk(t.found.createTime):bv.min(),a=new gy({mapValue:{fields:t.found.fields}});return by.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){tv(!!t.missing),tv(!!t.readTime);var n=Uk(e,t.missing),r=Mk(t.readTime);return by.newNoDocument(n,r)}(e,t):ev()}function Hk(e,t){var n;if(t instanceof nk)n={update:qk(e,t.key,t.value)};else if(t instanceof ck)n={delete:jk(e,t.key)};else if(t instanceof rk)n={update:qk(e,t.key,t.data),updateMask:ab(t.fieldMask)};else{if(!(t instanceof lk))return ev();n={verify:jk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof jg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ug)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Zg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof zg)return{fieldPath:t.field.canonicalString(),increment:n._t};throw ev()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Rk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ev()}(e,t.precondition)),n}function Yk(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Yg.updateTime(Mk(e.updateTime)):void 0!==e.exists?Yg.exists(e.exists):Yg.none()}(t.currentDocument):Yg.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)tv("REQUEST_TIME"===t.setToServerValue),n=new jg;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Ug(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Zg(i)}else"increment"in t?n=new zg(e,t.increment):ev();var a=Sv.fromServerFormat(t.fieldPath);return new Gg(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Uk(e,t.update.name),a=new gy({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Um(t.map((function(e){return Sv.fromServerFormat(e)})))}(t.updateMask);return new rk(i,a,o,n,r)}return new nk(i,a,n,r)}if(t.delete){var s=Uk(e,t.delete);return new ck(s,n)}if(t.verify){var u=Uk(e,t.verify);return new lk(u,n)}return ev()}function Kk(e,t){return{documents:[Vk(e,t.path)]}}function Qk(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Vk(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Vk(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return ib(Cy.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:nb(e.field),direction:Xk(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.useProto3Json||Jv(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function $k(e){var t=Zk(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){tv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Jk(e);return t instanceof Cy&&Oy(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Sy(rb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Jv(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new wy(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new wy(n,t)}(n.endAt)),eg(t,i,s,o,u,"F",c,l)}function Jk(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=rb(e.unaryFilter.field);return Ty.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=rb(e.unaryFilter.field);return Ty.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=rb(e.unaryFilter.field);return Ty.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=rb(e.unaryFilter.field);return Ty.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ev()}}(e):void 0!==e.fieldFilter?function(e){return Ty.create(rb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ev()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Cy.create(e.compositeFilter.filters.map((function(e){return Jk(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ev()}}(e.compositeFilter.op))}(e):ev()}function Xk(e){return Ck[e]}function eb(e){return Nk[e]}function tb(e){return Ak[e]}function nb(e){return{fieldPath:e.canonicalString()}}function rb(e){return Sv.fromServerFormat(e.fieldPath)}function ib(e){return e instanceof Ty?function(e){if("=="===e.op){if(ly(e.value))return{unaryFilter:{field:nb(e.field),op:"IS_NAN"}};if(cy(e.value))return{unaryFilter:{field:nb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ly(e.value))return{unaryFilter:{field:nb(e.field),op:"IS_NOT_NAN"}};if(cy(e.value))return{unaryFilter:{field:nb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nb(e.field),op:eb(e.op),value:e.value}}}(e):e instanceof Cy?function(e){var t=e.getFilters().map((function(e){return ib(e)}));return 1===t.length?t[0]:{compositeFilter:{op:tb(e.op),filters:t}}}(e):ev()}function ab(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ob(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var sb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:bv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:bv.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Zm.EMPTY_BYTE_STRING;u(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return(0,c.Z)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),ub=(0,c.Z)((function e(t){u(this,e),this.se=t}));function cb(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:lb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:jk(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Dk(e,t.version.toTimestamp()),createTime:Dk(e,t.createTime.toTimestamp())}}(e.se,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:fb(t.version)};else{if(!t.isUnknownDocument())return ev();r.unknownDocument={path:n.path.toArray(),version:fb(t.version)}}return r}function lb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function fb(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function hb(e){var t=new kv(e.seconds,e.nanoseconds);return bv.fromTimestamp(t)}function db(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Yk(e.se,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Yk(e.se,t)})),s=kv.fromMillis(t.localWriteTimeMs);return new fk(t.batchId,s,n,o)}function pb(e){var t,n,r=hb(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?hb(e.lastLimboFreeSnapshotVersion):bv.min();return void 0!==e.query.documents?(tv(1===(n=e.query).documents.length),t=sg(tg(Zk(n.documents[0])))):t=function(e){return sg($k(e))}(e.query),new sb(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Zm.fromBase64String(e.resumeToken))}function vb(e,t){var n,r=fb(t.snapshotVersion),i=fb(t.lastLimboFreeSnapshotVersion);n=Ky(t.target)?Kk(e.se,t.target):Qk(e.se,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Hy(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function mb(e){var t=$k({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?cg(t,t.limit,"L"):t}function yb(e,t){return new dk(t.largestBatchId,Yk(e.se,t.overlayMutation))}function gb(e,t){var n=t.path.lastSegment();return[e,tm(t.path.popLast()),n]}function kb(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:fb(r.readTime),documentKey:tm(r.documentKey.path),largestBatchId:r.largestBatchId}}var bb=function(){function e(){u(this,e)}return(0,c.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return wb(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:hb(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return wb(e).put({bundleId:(n=t).id,createTime:fb(Mk(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return xb(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:mb(t.bundledQuery),readTime:hb(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return xb(e).put(function(e){return{name:e.name,readTime:fb(Mk(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function wb(e){return Nm(e,"bundles")}function xb(e){return Nm(e,"namedQueries")}var _b=function(){function e(t,n){u(this,e),this.serializer=t,this.userId=n}return(0,c.Z)(e,[{key:"getOverlay",value:function(e,t){var n=this;return Sb(e).get(gb(this.userId,t)).next((function(e){return e?yb(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=_g();return Uv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new dk(t,a);i.push(r.re(e,o))})),Uv.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(tm(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Sb(e).J("collectionPathOverlayIndex",i))})),Uv.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=_g(),a=tm(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Sb(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=E(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=yb(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=_g(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Sb(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=yb(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"re",value:function(e,t){return Sb(e).put(function(e,t,n){var r=gb(t,n.mutation.key),a=(0,i.Z)(r,3);a[0];return{userId:t,collectionPath:a[1],documentId:a[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Hk(e.se,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"ie",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Sb(e){return Nm(e,"documentOverlays")}var Eb=function(){function e(){u(this,e)}return(0,c.Z)(e,[{key:"oe",value:function(e,t){this.ue(e,t),t.ce()}},{key:"ue",value:function(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(qm(e.integerValue));else if("doubleValue"in e){var n=qm(e.doubleValue);isNaN(n)?this.ae(t,13):(this.ae(t,15),Xv(n)?t.he(0):t.he(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ae(t,20),"string"==typeof r?t.le(r):(t.le("".concat(r.seconds||"")),t.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(Wm(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ae(t,45),t.he(i.latitude||0),t.he(i.longitude||0)}else"mapValue"in e?dy(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):ev()}},{key:"fe",value:function(e,t){this.ae(t,25),this.ye(e,t)}},{key:"ye",value:function(e,t){t.le(e)}},{key:"me",value:function(e,t){var n=e.fields||{};this.ae(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.fe(a,t),this.ue(n[a],t)}}},{key:"ge",value:function(e,t){var n=e.values||[];this.ae(t,50);var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ue(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ae(t,37),Ev.fromName(e).path.forEach((function(e){n.ae(t,60),n.ye(e,t)}))}},{key:"ae",value:function(e,t){e.he(t)}},{key:"de",value:function(e){e.he(2)}}]),e}();function Ib(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Tb(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Ib(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Eb.pe=new Eb;var Cb=function(){function e(){u(this,e),this.buffer=new Uint8Array(1024),this.position=0}return(0,c.Z)(e,[{key:"Ie",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Te(n.value),n=t.next();this.Ee()}},{key:"Ae",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Re(n.value),n=t.next();this.ve()}},{key:"be",value:function(e){var t,n=E(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Te(i);else if(i<2048)this.Te(960|i>>>6),this.Te(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Te(480|i>>>12),this.Te(128|63&i>>>6),this.Te(128|63&i);else{var a=r.codePointAt(0);this.Te(240|a>>>18),this.Te(128|63&a>>>12),this.Te(128|63&a>>>6),this.Te(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ee()}},{key:"Pe",value:function(e){var t,n=E(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{var a=r.codePointAt(0);this.Re(240|a>>>18),this.Re(128|63&a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"Ve",value:function(e){var t=this.Se(e),n=Tb(t);this.De(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ce",value:function(e){var t=this.Se(e),n=Tb(t);this.De(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"xe",value:function(){this.Ne(255),this.Ne(255)}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Se",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Te",value:function(e){var t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}},{key:"Re",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}},{key:"Ee",value:function(){this.Ne(0),this.Ne(1)}},{key:"ve",value:function(){this.Oe(0),this.Oe(1)}},{key:"Ne",value:function(e){this.De(1),this.buffer[this.position++]=e}},{key:"Oe",value:function(e){this.De(1),this.buffer[this.position++]=~e}},{key:"De",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Nb=function(){function e(t){u(this,e),this.Me=t}return(0,c.Z)(e,[{key:"we",value:function(e){this.Me.Ie(e)}},{key:"le",value:function(e){this.Me.be(e)}},{key:"he",value:function(e){this.Me.Ve(e)}},{key:"ce",value:function(){this.Me.xe()}}]),e}(),Ab=function(){function e(t){u(this,e),this.Me=t}return(0,c.Z)(e,[{key:"we",value:function(e){this.Me.Ae(e)}},{key:"le",value:function(e){this.Me.Pe(e)}},{key:"he",value:function(e){this.Me.Ce(e)}},{key:"ce",value:function(){this.Me.ke()}}]),e}(),Ob=function(){function e(){u(this,e),this.Me=new Cb,this.Fe=new Nb(this.Me),this.Be=new Ab(this.Me)}return(0,c.Z)(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Le",value:function(e){return 0===e?this.Fe:this.Be}},{key:"$e",value:function(){return this.Me.$e()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),Db=function(){function e(t,n,r,i){u(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return(0,c.Z)(e,[{key:"qe",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Pb(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Rb(e.arrayValue,t.arrayValue))?n:0!==(n=Rb(e.directionalValue,t.directionalValue))?n:Ev.comparator(e.documentKey,t.documentKey)}function Rb(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Mb=function(){function e(t){u(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.Ke=[];var n,r=E(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ge=i:this.Ke.push(i)}}catch(a){r.e(a)}finally{r.f()}}return(0,c.Z)(e,[{key:"Qe",value:function(e){tv(e.collectionGroup===this.collectionId);var t=Tv(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=Cv(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ge){var a=n[r];if(!this.je(this.Ge,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=E(this.Ke);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Lb(e){var t,n;if(tv(e instanceof Ty||e instanceof Cy),e instanceof Ty){if(e instanceof By){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Ty.create(e.field,"==",t)})))||[];return Cy.create(r,"or")}return e}var i=e.filters.map((function(e){return Lb(e)}));return Cy.create(i,e.op)}function Fb(e){if(0===e.getFilters().length)return[];var t=Zb(Lb(e));return tv(Vb(t)),jb(t)||Ub(t)?[t]:t.getFilters()}function jb(e){return e instanceof Ty}function Ub(e){return e instanceof Cy&&Oy(e)}function Vb(e){return jb(e)||Ub(e)||function(e){if(e instanceof Cy&&Ay(e)){var t,n=E(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!jb(r)&&!Ub(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function Zb(e){if(tv(e instanceof Ty||e instanceof Cy),e instanceof Ty)return e;if(1===e.filters.length)return Zb(e.filters[0]);var t=e.filters.map((function(e){return Zb(e)})),n=Cy.create(t,e.op);return Vb(n=qb(n))?n:(tv(n instanceof Cy),tv(Ny(n)),tv(n.filters.length>1),n.filters.reduce((function(e,t){return Bb(e,t)})))}function Bb(e,t){var n;return tv(e instanceof Ty||e instanceof Cy),tv(t instanceof Ty||t instanceof Cy),n=e instanceof Ty?t instanceof Ty?function(e,t){return Cy.create([e,t],"and")}(e,t):zb(e,t):t instanceof Ty?zb(t,e):function(e,t){if(tv(e.filters.length>0&&t.filters.length>0),Ny(e)&&Ny(t))return My(e,t.getFilters());var n=Ay(e)?e:t,r=Ay(e)?t:e,i=n.filters.map((function(e){return Bb(e,r)}));return Cy.create(i,"or")}(e,t),qb(n)}function zb(e,t){if(Ny(t))return My(t,e.getFilters());var n=t.filters.map((function(t){return Bb(e,t)}));return Cy.create(n,"or")}function qb(e){if(tv(e instanceof Ty||e instanceof Cy),e instanceof Ty)return e;var t=e.getFilters();if(1===t.length)return qb(t[0]);if(Dy(e))return e;var n=t.map((function(e){return qb(e)})),r=[];return n.forEach((function(t){t instanceof Ty?r.push(t):t instanceof Cy&&(t.op===e.op?r.push.apply(r,(0,s.Z)(t.filters)):r.push(t))})),1===r.length?r[0]:Cy.create(r,e.op)}var Wb=function(){function e(){u(this,e),this.He=new Gb}return(0,c.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.He.add(t),Uv.resolve()}},{key:"getCollectionParents",value:function(e,t){return Uv.resolve(this.He.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Uv.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Uv.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Uv.resolve(null)}},{key:"getIndexType",value:function(e,t){return Uv.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Uv.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Uv.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Uv.resolve(Pv.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Uv.resolve(Pv.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Uv.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Uv.resolve()}}]),e}(),Gb=function(){function e(){u(this,e),this.index={}}return(0,c.Z)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Lm(xv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Lm(xv.comparator)).toArray()}}]),e}(),Hb=new Uint8Array(0),Yb=function(){function e(t,n){u(this,e),this.user=t,this.databaseId=n,this.Je=new Gb,this.Ye=new yg((function(e){return Hy(e)}),(function(e,t){return Yy(e,t)})),this.uid=t.uid||""}return(0,c.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Je.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Je.add(t)}));var a={collectionId:r,parent:tm(i)};return Kb(e).put(a)}return Uv.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[gv(t),""],!1,!0);return Kb(e).j(r).next((function(e){var r,i=E(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(im(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=$b(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Jb(e);return a.next((function(e){o.put(kb(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=$b(e),r=Jb(e),i=Qb(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Qb(e),i=!0,a=new Map;return Uv.forEach(this.Ze(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Cg(),o=[];return Uv.forEach(a,(function(i,a){var s;Qp("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Hy(t)));var u=function(e,t){var n=Tv(t);if(void 0===n)return null;var r,i=E(Qy(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=E(Cv(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=E(Qy(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=E(Cv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?$y(e,o.fieldPath,e.startAt):Jy(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new wy(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=E(Cv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Jy(e,o.fieldPath,e.endAt):$y(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new wy(r,i)}(a,i),h=n.tn(i,a,l),d=n.tn(i,a,f),p=n.en(i,a,c),v=n.nn(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return Uv.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Ev.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Uv.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:Fb(Cy.create(e.filters,"and")).map((function(t){return Gy(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Ye.set(e,t),t)}},{key:"nn",value:function(e,t,n,r,i,a,o){for(var u=this,c=(null!=t?t.length:1)*Math.max(n.length,i.length),l=c/(null!=t?t.length:1),f=[],h=function(){var c=t?u.sn(t[d/l]):Hb,h=u.rn(e,c,n[d%l],r),p=u.on(e,c,i[d%l],a),v=o.map((function(t){return u.rn(e,c,t,!0)}));f.push.apply(f,(0,s.Z)(u.createRange(h,p,v)))},d=0;d<c;++d)h();return f}},{key:"rn",value:function(e,t,n,r){var i=new Db(e,Ev.empty(),t,n);return r?i:i.qe()}},{key:"on",value:function(e,t,n,r){var i=new Db(e,Ev.empty(),t,n);return r?i.qe():i}},{key:"Xe",value:function(e,t){var n=new Mb(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=E(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Qe(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return Uv.forEach(i,(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Lm(Sv.comparator),r=!1,i=E(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=E(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=E(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"un",value:function(e,t){var n,r=new Ob,i=E(Cv(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Le(a.kind);Eb.pe.oe(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.$e()}},{key:"sn",value:function(e){var t=new Ob;return Eb.pe.oe(e,t.Le(0)),t.$e()}},{key:"cn",value:function(e,t){var n=new Ob;return Eb.pe.oe(oy(this.databaseId,t),n.Le(function(e){var t=Cv(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"en",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Ob);var i,a=0,o=E(Cv(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=E(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.an(t,u.fieldPath)&&uy(c))r=this.hn(r,u,c);else{var h=f.Le(u.kind);Eb.pe.oe(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.ln(r)}},{key:"tn",value:function(e,t,n){return this.en(e,t,n.position)}},{key:"ln",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"hn",value:function(e,t,n){var r,i=(0,s.Z)(e),a=[],o=E(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,c=r.value,l=E(i);try{for(l.s();!(u=l.n()).done;){var f=u.value,h=new Ob;h.seed(f.$e()),Eb.pe.oe(c,h.Le(t.kind)),a.push(h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"an",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Ty&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=$b(e),a=Jb(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return Uv.forEach(e,(function(e){return a.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Av(t.sequenceNumber,new Pv(hb(t.readTime),new Ev(im(t.documentKey)),t.largestBatchId)):Av.empty(),r=e.fields.map((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return new Nv(Sv.fromServerFormat(n),r)}));return new Iv(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:mv(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=$b(e),a=Jb(e);return this.fn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Uv.forEach(t,(function(t){return a.put(kb(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Uv.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Uv.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Uv.forEach(a,(function(r){return n.dn(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?Uv.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"mn",value:function(e,t,n,r){return Qb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.cn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"gn",value:function(e,t,n,r){return Qb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.cn(n,t.key),t.key.path.toArray()])}},{key:"dn",value:function(e,t,n){var r=Qb(e),i=new Lm(Pb);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.cn(n,t)])},(function(e,r){i=i.add(new Db(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new Lm(Pb),r=this.un(t,e);if(null==r)return n;var i=Tv(t);if(null!=i){var a=e.data.field(i.fieldPath);if(uy(a)){var o,s=E(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new Db(t.indexId,e.key,this.sn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new Db(t.indexId,e.key,Hb,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;Qp("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=jm(a),u=jm(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=jm(o)):l?(i(s),s=jm(a)):(s=jm(a),u=jm(o))}}(r,i,Pb,(function(r){o.push(a.mn(e,t,n,r))}),(function(r){o.push(a.gn(e,t,n,r))})),Uv.waitFor(o)}},{key:"fn",value:function(e){var t=1;return Jb(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Pb(e,t)})).filter((function(e,t,n){return!t||0!==Pb(e,n[t-1])}));var r=[];r.push(e);var i,a=E(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Pb(o,e),u=Pb(o,t);if(0===s)r[0]=e.qe();else if(s>0&&u<0)r.push(o),r.push(o.qe());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.yn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Hb,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Hb,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"yn",value:function(e,t){return Pb(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Xb)}},{key:"getMinOffset",value:function(e,t){var n=this;return Uv.mapArray(this.Ze(t),(function(t){return n.Xe(e,t).next((function(e){return e||ev()}))})).next(Xb)}}]),e}();function Kb(e){return Nm(e,"collectionParents")}function Qb(e){return Nm(e,"indexEntries")}function $b(e){return Nm(e,"indexConfiguration")}function Jb(e){return Nm(e,"indexState")}function Xb(e){tv(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Rv(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Pv(t.readTime,t.documentKey,n)}var ew={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tw=function(){function e(t,n,r){u(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return(0,c.Z)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function nw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){tv(1===s)})));var c,l=[],f=E(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=sm(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Uv.waitFor(a).next((function(){return l}))}function rw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ev();t=e.noDocument}return JSON.stringify(t).length}tw.DEFAULT_COLLECTION_PERCENTILE=10,tw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tw.DEFAULT=new tw(41943040,tw.DEFAULT_COLLECTION_PERCENTILE,tw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tw.DISABLED=new tw(-1,0,0);var iw=function(){function e(t,n,r,i){u(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.pn={}}return(0,c.Z)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ow(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=sw(e),o=ow(e);return o.add({}).next((function(s){tv("number"==typeof s);var u,c=new fk(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Hk(e.se,t)})),i=n.mutations.map((function(t){return Hk(e.se,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new Lm((function(e,t){return mv(e.canonicalString(),t.canonicalString())})),d=E(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=sm(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,um))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.pn[s]=c.keys()})),Uv.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return ow(e).get(t).next((function(e){return e?(tv(e.userId===n.userId),db(n.serializer,e)):null}))}},{key:"In",value:function(e,t){var n=this;return this.pn[t]?Uv.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.pn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return ow(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(tv(t.batchId>=r),a=db(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ow(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ow(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return db(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=om(this.userId,t.path),a=IDBKeyRange.lowerBound(r),o=[];return sw(e).Z({range:a},(function(r,a,s){var u=(0,i.Z)(r,3),c=u[0],l=u[1],f=u[2],h=im(l);if(c===n.userId&&t.path.isEqual(h))return ow(e).get(f).next((function(e){if(!e)throw ev();tv(e.userId===n.userId),o.push(db(n.serializer,e))}));s.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Lm(mv),a=[];return t.forEach((function(t){var o=om(n.userId,t.path),s=IDBKeyRange.lowerBound(o),u=sw(e).Z({range:s},(function(e,a,o){var s=(0,i.Z)(e,3),u=s[0],c=s[1],l=s[2],f=im(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()}));a.push(u)})),Uv.waitFor(a).next((function(){return n.Tn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,a=r.length+1,o=om(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new Lm(mv);return sw(e).Z({range:s},(function(e,t,o){var s=(0,i.Z)(e,3),c=s[0],l=s[1],f=s[2],h=im(l);c===n.userId&&r.isPrefixOf(h)?h.length===a&&(u=u.add(f)):o.done()})).next((function(){return n.Tn(e,u)}))}},{key:"Tn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(ow(e).get(t).next((function(e){if(null===e)throw ev();tv(e.userId===n.userId),r.push(db(n.serializer,e))})))})),Uv.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return nw(e.at,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.En(t.batchId)})),Uv.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"En",value:function(e){delete this.pn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Uv.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return sw(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=im(e[1]);i.push(a)}else r.done()})).next((function(){tv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return aw(e,this.userId,t)}},{key:"An",value:function(e){var t=this;return uw(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ie",value:function(t,n,r,i){return tv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function aw(e,t,n){var r=om(t,n.path),a=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return sw(e).Z({range:o,Y:!0},(function(e,n,r){var o=(0,i.Z)(e,3),u=o[0],c=o[1];o[2];u===t&&c===a&&(s=!0),r.done()})).next((function(){return s}))}function ow(e){return Nm(e,"mutations")}function sw(e){return Nm(e,"documentMutations")}function uw(e){return Nm(e,"mutationQueues")}var cw=function(){function e(t){u(this,e),this.Rn=t}return(0,c.Z)(e,[{key:"next",value:function(){return this.Rn+=2,this.Rn}}],[{key:"vn",value:function(){return new e(0)}},{key:"bn",value:function(){return new e(-1)}}]),e}(),lw=function(){function e(t,n){u(this,e),this.referenceDelegate=t,this.serializer=n}return(0,c.Z)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Pn(e).next((function(n){var r=new cw(n.highestTargetId);return n.highestTargetId=r.next(),t.Vn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Pn(e).next((function(e){return bv.fromTimestamp(new kv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Vn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Sn(e,t).next((function(){return n.Pn(e).next((function(r){return r.targetCount+=1,n.Dn(t,r),n.Vn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Sn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return fw(e).delete(t.targetId)})).next((function(){return n.Pn(e)})).next((function(t){return tv(t.targetCount>0),t.targetCount-=1,n.Vn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return fw(e).Z((function(o,s){var u=pb(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Uv.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return fw(e).Z((function(e,n){var r=pb(n);t(r)}))}},{key:"Pn",value:function(e){return hw(e).get("targetGlobalKey").next((function(e){return tv(null!==e),e}))}},{key:"Vn",value:function(e,t){return hw(e).put("targetGlobalKey",t)}},{key:"Sn",value:function(e,t){return fw(e).put(vb(this.serializer,t))}},{key:"Dn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Hy(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return fw(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=pb(n);Yy(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=dw(e);return t.forEach((function(t){var o=tm(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Uv.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=dw(e);return Uv.forEach(t,(function(t){var a=tm(t.path);return Uv.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=dw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=dw(e),i=Cg();return r.Z({range:n,Y:!0},(function(e,t,n){var r=im(e[1]),a=new Ev(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=tm(t.path),r=IDBKeyRange.bound([n],[gv(n)],!1,!0),a=0;return dw(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=(0,i.Z)(e,2),o=r[0];r[1];0!==o&&(a++,n.done())})).next((function(){return a>0}))}},{key:"ne",value:function(e,t){return fw(e).get(t).next((function(e){return e?pb(e):null}))}}]),e}();function fw(e){return Nm(e,"targets")}function hw(e){return Nm(e,"targetGlobal")}function dw(e){return Nm(e,"targetDocuments")}function pw(e,t){var n=(0,i.Z)(e,2),r=n[0],a=n[1],o=(0,i.Z)(t,2),s=o[0],u=o[1],c=mv(r,s);return 0===c?mv(a,u):c}var vw=function(){function e(t){u(this,e),this.Cn=t,this.buffer=new Lm(pw),this.xn=0}return(0,c.Z)(e,[{key:"Nn",value:function(){return++this.xn}},{key:"kn",value:function(e){var t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();pw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),mw=function(){function e(t,n,r){u(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}return(0,c.Z)(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}},{key:"stop",value:function(){this.On&&(this.On.cancel(),this.On=null)}},{key:"started",get:function(){return null!==this.On}},{key:"$n",value:function(e){var t=this;Qp("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.On=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!qv(e.t0)){e.next=12;break}Qp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Fv(e.t0);case 14:return e.next=16,t.$n(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),yw=function(){function e(t,n){u(this,e),this.Mn=t,this.params=n}return(0,c.Z)(e,[{key:"calculateTargetCount",value:function(e,t){return this.Mn.Fn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Uv.resolve($v.ct);var r=new vw(t);return this.Mn.forEachTarget(e,(function(e){return r.kn(e.sequenceNumber)})).next((function(){return n.Mn.Bn(e,(function(e){return r.kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Mn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Mn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Qp("LruGarbageCollector","Garbage collection skipped; disabled"),Uv.resolve(ew)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Qp("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ew):n.Ln(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Mn.getCacheSize(e)}},{key:"Ln",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Qp("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Kp()<=Ut.DEBUG&&Qp("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Uv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),gw=function(){function e(t,n){u(this,e),this.db=t,this.garbageCollector=function(e,t){return new yw(e,t)}(this,n)}return(0,c.Z)(e,[{key:"Fn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Bn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Bn",value:function(e,t){return this.Un(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return kw(e,n)}},{key:"removeReference",value:function(e,t,n){return kw(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return kw(e,t)}},{key:"Kn",value:function(e,t){return function(e,t){var n=!1;return uw(e).X((function(r){return aw(e,r,t).next((function(e){return e&&(n=!0),Uv.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Un(e,(function(o,s){if(s<=t){var u=n.Kn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,bv.min()),dw(e).delete([0,tm(o.path)])}))}));i.push(u)}})).next((function(){return Uv.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return kw(e,t)}},{key:"Un",value:function(e,t){var n,r=dw(e),a=$v.ct;return r.Z({index:"documentTargetsIndex"},(function(e,r){var o=(0,i.Z)(e,2),s=o[0],u=(o[1],r.path),c=r.sequenceNumber;0===s?(a!==$v.ct&&t(new Ev(im(n)),a),a=c,n=u):a=$v.ct})).next((function(){a!==$v.ct&&t(new Ev(im(n)),a)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function kw(e,t){return dw(e).put(function(e,t){return{targetId:0,path:tm(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var bw=function(){function e(){u(this,e),this.changes=new yg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return(0,c.Z)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,by.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Uv.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),ww=function(){function e(t){u(this,e),this.serializer=t}return(0,c.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Ew(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Ew(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],lb(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Gn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=by.newInvalidDocument(t);return Ew(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Iw(t))},(function(e,i){r=n.Qn(t,i)})).next((function(){return r}))}},{key:"zn",value:function(e,t){var n=this,r={size:0,document:by.newInvalidDocument(t)};return Ew(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Iw(t))},(function(e,i){r={document:n.Qn(t,i),size:rw(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=kg();return this.jn(e,t,(function(e,t){var i=n.Qn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r=kg(),i=new Pm(Ev.comparator);return this.jn(e,t,(function(e,t){var a=n.Qn(e,t);r=r.insert(e,a),i=i.insert(e,rw(t))})).next((function(){return{documents:r,Hn:i}}))}},{key:"jn",value:function(e,t,n){if(t.isEmpty())return Uv.resolve();var r=new Lm(Cw);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Iw(r.first()),Iw(r.last())),a=r.getIterator(),o=a.getNext();return Ew(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Ev.fromSegments([].concat((0,s.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Cw(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(Iw(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),lb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ew(e).j(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=kg(),o=E(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.Qn(Ev.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(dg(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=kg(),o=Tw(t,n),s=Tw(t,Pv.max());return Ew(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.Qn(Ev.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new _w(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Sw(e).get("remoteDocumentGlobalKey").next((function(e){return tv(!!e),e}))}},{key:"Gn",value:function(e,t){return Sw(e).put("remoteDocumentGlobalKey",t)}},{key:"Qn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Wk(e.se,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Ev.fromSegments(t.noDocument.path),i=hb(t.noDocument.readTime);n=by.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ev();var a=Ev.fromSegments(t.unknownDocument.path),o=hb(t.unknownDocument.version);n=by.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new kv(e[0],e[1]);return bv.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(bv.min()))return n}return by.newInvalidDocument(e)}}]),e}();function xw(e){return new ww(e)}var _w=function(e){f(n,e);var t=m(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).Jn=e,i.trackRemovals=r,i.Yn=new yg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return(0,c.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Lm((function(e,t){return mv(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Yn.get(a);if(n.push(t.Jn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=cb(t.Jn.serializer,o);i=i.add(a.path.popLast());var c=rw(u);r+=c-s.size,n.push(t.Jn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=cb(t.Jn.serializer,o.convertToNoDocument(bv.min()));n.push(t.Jn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Jn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Jn.updateMetadata(e,r)),Uv.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Jn.zn(e,t).next((function(e){return n.Yn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Jn.Wn(e,t).next((function(e){var t=e.documents;return e.Hn.forEach((function(e,r){n.Yn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(bw);function Sw(e){return Nm(e,"remoteDocumentGlobal")}function Ew(e){return Nm(e,"remoteDocumentsV14")}function Iw(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Tw(e,t){var n=t.documentKey.path.toArray();return[e,lb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Cw(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=mv(n[a],r[a]))return i;return(i=mv(n.length,r.length))||((i=mv(n[n.length-2],r[r.length-2]))||mv(n[n.length-1],r[r.length-1]))}var Nw=(0,c.Z)((function e(t,n){u(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Aw=function(){function e(t,n,r,i){u(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return(0,c.Z)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Xg(r.mutation,e,Um.empty(),kv.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Cg()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cg(),i=_g();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=wg();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=_g();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Cg())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=kg(),a=Eg(),o=Eg();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof rk)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Xg(o.mutation,t,o.mutation.getFieldMask(),kv.now())):a.set(t.key,Um.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Nw(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Eg(),i=new Pm((function(e,t){return e-t})),a=Cg();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=E(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Um.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Cg()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=Sg();c.forEach((function(e){if(!a.has(e)){var n=$g(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Uv.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Ev.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ag(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Uv.resolve(_g()),s=-1,u=a;return o.next((function(t){return Uv.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Uv.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Cg())})).next((function(e){return{batchId:s,changes:xg(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ev(t)).next((function(e){var t=wg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=wg();return this.indexManager.getCollectionParents(e,i).next((function(o){return Uv.forEach(o,(function(o){var s=function(e,t){return new Xy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,by.newInvalidDocument(r)))}));var n=wg();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Xg(a.mutation,i,Um.empty(),kv.now()),dg(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Ow=function(){function e(t){u(this,e),this.serializer=t,this.Zn=new Map,this.Xn=new Map}return(0,c.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return Uv.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Mk(n.createTime)}),Uv.resolve()}},{key:"getNamedQuery",value:function(e,t){return Uv.resolve(this.Xn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:mb(e.bundledQuery),readTime:Mk(e.readTime)}}(t)),Uv.resolve()}}]),e}(),Dw=function(){function e(){u(this,e),this.overlays=new Pm(Ev.comparator),this.ts=new Map}return(0,c.Z)(e,[{key:"getOverlay",value:function(e,t){return Uv.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=_g();return Uv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.re(e,t,i)})),Uv.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ts.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ts.delete(n)),Uv.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=_g(),i=t.length+1,a=new Ev(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Uv.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Pm((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=_g(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=_g(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Uv.resolve(u)}},{key:"re",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ts.get(r.largestBatchId).delete(n.key);this.ts.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new dk(t,n));var a=this.ts.get(t);void 0===a&&(a=Cg(),this.ts.set(t,a)),this.ts.set(t,a.add(n.key))}}]),e}(),Pw=function(){function e(){u(this,e),this.es=new Lm(Rw.ns),this.ss=new Lm(Rw.rs)}return(0,c.Z)(e,[{key:"isEmpty",value:function(){return this.es.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Rw(e,t);this.es=this.es.add(n),this.ss=this.ss.add(n)}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.us(new Rw(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"hs",value:function(e){var t=this,n=new Ev(new xv([])),r=new Rw(n,e),i=new Rw(n,e+1),a=[];return this.ss.forEachInRange([r,i],(function(e){t.us(e),a.push(e.key)})),a}},{key:"ls",value:function(){var e=this;this.es.forEach((function(t){return e.us(t)}))}},{key:"us",value:function(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}},{key:"fs",value:function(e){var t=new Ev(new xv([])),n=new Rw(t,e),r=new Rw(t,e+1),i=Cg();return this.ss.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Rw(e,0),n=this.es.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Rw=function(){function e(t,n){u(this,e),this.key=t,this.ds=n}return(0,c.Z)(e,null,[{key:"ns",value:function(e,t){return Ev.comparator(e.key,t.key)||mv(e.ds,t.ds)}},{key:"rs",value:function(e,t){return mv(e.ds,t.ds)||Ev.comparator(e.key,t.key)}}]),e}(),Mw=function(){function e(t,n){u(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new Lm(Rw.ns)}return(0,c.Z)(e,[{key:"checkEmpty",value:function(e){return Uv.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new fk(i,t,n,r);this.mutationQueue.push(a);var o,s=E(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this._s=this._s.add(new Rw(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Uv.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Uv.resolve(this.gs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ys(n),i=r<0?0:r;return Uv.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Uv.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Uv.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Rw(t,0),i=new Rw(t,Number.POSITIVE_INFINITY),a=[];return this._s.forEachInRange([r,i],(function(e){var t=n.gs(e.ds);a.push(t)})),Uv.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Lm(mv);return t.forEach((function(e){var t=new Rw(e,0),i=new Rw(e,Number.POSITIVE_INFINITY);n._s.forEachInRange([t,i],(function(e){r=r.add(e.ds)}))})),Uv.resolve(this.ps(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ev.isDocumentKey(i)||(i=i.child(""));var a=new Rw(new Ev(i),0),o=new Lm(mv);return this._s.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ds)),!0)}),a),Uv.resolve(this.ps(o))}},{key:"ps",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.gs(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;tv(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();var r=this._s;return Uv.forEach(t.mutations,(function(i){var a=new Rw(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n._s=r}))}},{key:"En",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Rw(t,0),r=this._s.firstAfterOrEqual(n);return Uv.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Uv.resolve()}},{key:"Is",value:function(e,t){return this.ys(e)}},{key:"ys",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"gs",value:function(e){var t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Lw=function(){function e(t){u(this,e),this.Ts=t,this.docs=new Pm(Ev.comparator),this.size=0}return(0,c.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ts(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Uv.resolve(n?n.document.mutableCopy():by.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=kg();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():by.newInvalidDocument(e))})),Uv.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=kg(),a=t.path,o=new Ev(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Rv(Dv(l),n)<=0||(r.has(l.key)||dg(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Uv.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ev()}},{key:"Es",value:function(e,t){return Uv.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Fw(this)}},{key:"getSize",value:function(e){return Uv.resolve(this.size)}}]),e}(),Fw=function(e){f(n,e);var t=m(n);function n(e){var r;return u(this,n),(r=t.call(this)).Jn=e,r}return(0,c.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Jn.addEntry(e,i)):t.Jn.removeEntry(r)})),Uv.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Jn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Jn.getEntries(e,t)}}]),n}(bw),jw=function(){function e(t){u(this,e),this.persistence=t,this.As=new yg((function(e){return Hy(e)}),Yy),this.lastRemoteSnapshotVersion=bv.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Pw,this.targetCount=0,this.bs=cw.vn()}return(0,c.Z)(e,[{key:"forEachTarget",value:function(e,t){return this.As.forEach((function(e,n){return t(n)})),Uv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Uv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Uv.resolve(this.Rs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),Uv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Rs&&(this.Rs=t),Uv.resolve()}},{key:"Sn",value:function(e){this.As.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new cw(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Sn(t),this.targetCount+=1,Uv.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Sn(t),Uv.resolve()}},{key:"removeTargetData",value:function(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,Uv.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.As.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.As.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Uv.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Uv.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.As.get(t)||null;return Uv.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.vs.os(t,n),Uv.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.vs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Uv.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.vs.hs(t),Uv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.vs.fs(t);return Uv.resolve(n)}},{key:"containsKey",value:function(e,t){return Uv.resolve(this.vs.containsKey(t))}}]),e}(),Uw=function(){function e(t,n){var r=this;u(this,e),this.Ps={},this.overlays={},this.Vs=new $v(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new jw(this),this.indexManager=new Wb,this.remoteDocumentCache=new Lw((function(e){return r.referenceDelegate.Cs(e)})),this.serializer=new ub(n),this.xs=new Ow(this.serializer)}return(0,c.Z)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ss=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ss}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Dw,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ps[e.toKey()];return n||(n=new Mw(t,this.referenceDelegate),this.Ps[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;Qp("MemoryPersistence","Starting transaction:",e);var i=new Vw(this.Vs.next());return this.referenceDelegate.Ns(),n(i).next((function(e){return r.referenceDelegate.ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return Uv.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Vw=function(e){f(n,e);var t=m(n);function n(e){var r;return u(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return(0,c.Z)(n)}(Lv),Zw=function(){function e(t){u(this,e),this.persistence=t,this.$s=new Pw,this.Ms=null}return(0,c.Z)(e,[{key:"Bs",get:function(){if(this.Ms)return this.Ms;throw ev()}},{key:"addReference",value:function(e,t,n){return this.$s.addReference(n,t),this.Bs.delete(n.toString()),Uv.resolve()}},{key:"removeReference",value:function(e,t,n){return this.$s.removeReference(n,t),this.Bs.add(n.toString()),Uv.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Bs.add(t.toString()),Uv.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.$s.hs(t.targetId).forEach((function(e){return n.Bs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Bs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ns",value:function(){this.Ms=new Set}},{key:"ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Uv.forEach(this.Bs,(function(r){var i=Ev.fromPath(r);return t.Ls(e,i).next((function(e){e||n.removeEntry(i,bv.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ls(e,t).next((function(e){e?n.Bs.delete(t.toString()):n.Bs.add(t.toString())}))}},{key:"Cs",value:function(e){return 0}},{key:"Ls",value:function(e,t){var n=this;return Uv.or([function(){return Uv.resolve(n.$s.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Fs",value:function(t){return new e(t)}}]),e}(),Bw=function(){function e(t){u(this,e),this.serializer=t}return(0,c.Z)(e,[{key:"M",value:function(e,t,n,r){var i=this,a=new Vv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",am,{unique:!0}),e.createObjectStore("documentMutations")}(e),zw(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Uv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),zw(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bv.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",am,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Uv.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Us(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Ks(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Gs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Qs(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:bm});t.createIndex("collectionPathOverlayIndex",wm,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",xm,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:cm});t.createIndex("documentKeyIndex",lm),t.createIndex("collectionGroupIndex",fm)}(e)})).next((function(){return i.zs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.js(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:mm}).createIndex("sequenceNumberIndex",ym,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:gm}).createIndex("documentKeyIndex",km,{unique:!1})}(e)}))),o}},{key:"Us",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=rw(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return Uv.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return Uv.forEach(r,(function(r){tv(r.userId===n.userId);var i=db(t.serializer,r);return nw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Ks",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new xv(n),o=function(e){return[0,tm(e)]}(a);r.push(t.get(o).next((function(n){return n?Uv.resolve():function(n){return t.put({targetId:0,path:tm(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Uv.waitFor(r)}))}))}},{key:"Gs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:vm});var n=t.store("collectionParents"),r=new Gb,a=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:tm(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new xv(e);return a(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=(0,i.Z)(e,3),r=(n[0],n[1]),o=(n[2],im(r));return a(o.popLast())}))}))}},{key:"Qs",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=pb(r),a=vb(t.serializer,i);return n.put(a)}))}},{key:"zs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Ev(xv.fromString(i.document.name).popFirst(5)):i.noDocument?Ev.fromSegments(i.noDocument.path):i.unknownDocument?Ev.fromSegments(i.unknownDocument.path):ev()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return Uv.waitFor(r)}))}},{key:"js",value:function(e,t){var n=this,r=t.store("mutations"),i=xw(this.serializer),a=new Uw(Zw.Fs,this.serializer.se);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Cg();db(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Uv.forEach(r,(function(e,r){var o=new Gp(r),s=_b.ie(n.serializer,o),u=a.getIndexManager(o),c=iw.ie(o,n.serializer,u,a.referenceDelegate);return new Aw(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new Cm(t,$v.ct),e).next()}))}))}}]),e}();function zw(e){e.createObjectStore("targetDocuments",{keyPath:dm}).createIndex("documentTargetsIndex",pm,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",hm,{unique:!0}),e.createObjectStore("targetGlobal")}var qw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ww=function(){function e(t,n,r,i,a,o,s,c,l,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(u(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ws=a,this.window=o,this.document=s,this.Hs=l,this.Js=f,this.Ys=h,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=function(e){return Promise.resolve()},!e.D())throw new iv(rv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gw(this,i),this.si=n+"main",this.serializer=new ub(c),this.ii=new Zv(this.si,this.Ys,new Bw(this.serializer)),this.Ds=new lw(this.referenceDelegate,this.serializer),this.remoteDocumentCache=xw(this.serializer),this.xs=new bb,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===f&&$p("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return(0,c.Z)(e,[{key:"start",value:function(){var e=this;return this.oi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new iv(rv.FAILED_PRECONDITION,qw);return e.ui(),e.ci(),e.ai(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ds.getHighestSequenceNumber(t)}))})).then((function(t){e.Vs=new $v(t,e.Hs)})).then((function(){e.Ss=!0})).catch((function(t){return e.ii&&e.ii.close(),Promise.reject(t)}))}},{key:"hi",value:function(e){var t=this;return this.ni=function(){var n=Rt(Dt().mark((function n(r){return Dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ii.B(function(){var t=Rt(Dt().mark((function t(n){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget(Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.oi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"oi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Hw(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.li(t).next((function(t){t||(e.isPrimary=!1,e.Ws.enqueueRetryable((function(){return e.ni(!1)})))}))})).next((function(){return e.fi(t)})).next((function(n){return e.isPrimary&&!n?e.di(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(qv(t))return Qp("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Qp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Ws.enqueueRetryable((function(){return e.ni(t)})),e.isPrimary=t}))}},{key:"li",value:function(e){var t=this;return Gw(e).get("owner").next((function(e){return Uv.resolve(t._i(e))}))}},{key:"mi",value:function(e){return Hw(e).delete(this.clientId)}},{key:"gi",value:function(){var e=Rt(Dt().mark((function e(){var t,n,r,i,a=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.yi(this.ei,18e5)){e.next=6;break}return this.ei=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Nm(e,"clientMetadata");return t.j().next((function(e){var n=a.pi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Uv.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ri){n=E(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ri.removeItem(this.Ii(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ai",value:function(){var e=this;this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.oi().then((function(){return e.gi()})).then((function(){return e.ai()}))}))}},{key:"_i",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"fi",value:function(e){var t=this;return this.Js?Uv.resolve(!0):Gw(e).get("owner").next((function(n){if(null!==n&&t.yi(n.leaseTimestampMs,5e3)&&!t.Ti(n.ownerId)){if(t._i(n)&&t.networkEnabled)return!0;if(!t._i(n)){if(!n.allowTabSynchronization)throw new iv(rv.FAILED_PRECONDITION,qw);return!1}}return!(!t.networkEnabled||!t.inForeground)||Hw(e).j().next((function(e){return void 0===t.pi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Qp("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Rt(Dt().mark((function e(){var t=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ss=!1,this.Ei(),this.ti&&(this.ti.cancel(),this.ti=null),this.Ai(),this.Ri(),e.next=7,this.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Cm(e,$v.ct);return t.di(n).next((function(){return t.mi(n)}))}));case 7:this.ii.close(),this.vi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(e,t){var n=this;return e.filter((function(e){return n.yi(e.updateTimeMs,t)&&!n.Ti(e.clientId)}))}},{key:"bi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Hw(t).j().next((function(t){return e.pi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ss}},{key:"getMutationQueue",value:function(e,t){return iw.ie(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Yb(e,this.serializer.se.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return _b.ie(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;Qp("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.Ys)?Tm:14===i?Im:13===i?Em:12===i?Sm:11===i?_m:void ev();return this.ii.runTransaction(e,o,s,(function(i){return a=new Cm(i,r.Vs?r.Vs.next():$v.ct),"readwrite-primary"===t?r.li(a).next((function(e){return!!e||r.fi(a)})).next((function(t){if(!t)throw $p("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Ws.enqueueRetryable((function(){return r.ni(!1)})),new iv(rv.FAILED_PRECONDITION,Mv);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Pi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Pi",value:function(e){var t=this;return Gw(e).get("owner").next((function(e){if(null!==e&&t.yi(e.leaseTimestampMs,5e3)&&!t.Ti(e.ownerId)&&!t._i(e)&&!(t.Js||t.allowTabSynchronization&&e.allowTabSynchronization))throw new iv(rv.FAILED_PRECONDITION,qw)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Gw(e).put("owner",t)}},{key:"di",value:function(e){var t=this,n=Gw(e);return n.get("owner").next((function(e){return t._i(e)?(Qp("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Uv.resolve()}))}},{key:"yi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||($p("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ui",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=function(){e.Ws.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.oi()}))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ai",value:function(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}},{key:"ci",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ei();var e=/(?:Version|Mobile)\/1[456]/;!dt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.Ws.enterRestrictedMode(!0),t.Ws.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"Ri",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ti",value:function(e){var t;try{var n=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return Qp("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return $p("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ei",value:function(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(ef){$p("Failed to set zombie client id.",ef)}}},{key:"vi",value:function(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch(ef){}}},{key:"Ii",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return Zv.D()}}]),e}();function Gw(e){return Nm(e,"owner")}function Hw(e){return Nm(e,"clientMetadata")}function Yw(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Kw=function(){function e(t,n,r,i){u(this,e),this.targetId=t,this.fromCache=n,this.Vi=r,this.Si=i}return(0,c.Z)(e,null,[{key:"Di",value:function(t,n){var r,i=Cg(),a=Cg(),o=E(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Qw=function(){function e(){u(this,e),this.Ci=!1}return(0,c.Z)(e,[{key:"initialize",value:function(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ni(e,t).next((function(a){return a||i.ki(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"Ni",value:function(e,t){var n=this;if(ng(t))return Uv.resolve(null);var r=sg(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=cg(t,null,"F"),r=sg(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Cg.apply(void 0,(0,s.Z)(i));return n.xi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.$i(t,i);return n.Mi(t,o,a,r.readTime)?n.Ni(e,cg(t,null,"F")):n.Fi(e,o,t,r)}))}))})))}))}},{key:"ki",value:function(e,t,n,r){var i=this;return ng(t)||r.isEqual(bv.min())?this.Oi(e,t):this.xi.getDocuments(e,n).next((function(a){var o=i.$i(t,a);return i.Mi(t,o,n,r)?i.Oi(e,t):(Kp()<=Ut.DEBUG&&Qp("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hg(t)),i.Fi(e,o,t,Ov(r,-1)))}))}},{key:"$i",value:function(e,t){var n=new Lm(vg(e));return t.forEach((function(t,r){dg(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return Kp()<=Ut.DEBUG&&Qp("QueryEngine","Using full collection scan to execute query:",hg(t)),this.xi.getDocumentsMatchingQuery(e,t,Pv.min())}},{key:"Fi",value:function(e,t,n,r){return this.xi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),$w=function(){function e(t,n,r,i){u(this,e),this.persistence=t,this.Bi=n,this.serializer=i,this.Li=new Pm(mv),this.qi=new yg((function(e){return Hy(e)}),Yy),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(r)}return(0,c.Z)(e,[{key:"Gi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Aw(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Li)}))}}]),e}();function Jw(e,t,n,r){return new $w(e,t,n,r)}function Xw(e,t){return ex.apply(this,arguments)}function ex(){return ex=Rt(Dt().mark((function e(t,n){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Gi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Cg(),u=E(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=E(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=E(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=E(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Qi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ex.apply(this,arguments)}function tx(e,t){var n=nv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ki.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Uv.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);tv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Cg(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function nx(e){var t=nv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ds.getLastRemoteSnapshotVersion(e)}))}function rx(e,t){var n=nv(e),r=t.snapshotVersion,i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Ds.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Ds.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Zm.EMPTY_BYTE_STRING,bv.min()).withLastLimboFreeSnapshotVersion(bv.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Ds.updateTargetData(e,c))}}));var s=kg(),u=Cg();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ix(e,a,t.documentUpdates).next((function(e){s=e.zi,u=e.ji}))),!r.isEqual(bv.min())){var c=n.Ds.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ds.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Uv.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Li=i,e}))}function ix(e,t,n){var r=Cg(),i=Cg();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=kg();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(bv.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Qp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{zi:r,ji:i}}))}function ax(e,t){var n=nv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function ox(e,t){var n=nv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ds.getTargetData(e,t).next((function(i){return i?(r=i,Uv.resolve(r)):n.Ds.allocateTargetId(e).next((function(i){return r=new sb(t,i,0,e.currentSequenceNumber),n.Ds.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Li.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Li=n.Li.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function sx(e,t,n){return ux.apply(this,arguments)}function ux(){return ux=Rt(Dt().mark((function e(t,n,r){var i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=nv(t),a=i.Li.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),qv(e.t1)){e.next=12;break}throw e.t1;case 12:Qp("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Li=i.Li.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ux.apply(this,arguments)}function cx(e,t,n){var r=nv(e),i=bv.min(),a=Cg();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=nv(e),i=r.qi.get(n);return void 0!==i?Uv.resolve(r.Li.get(i)):r.Ds.getTargetData(t,n)}(r,e,sg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Bi.getDocumentsMatchingQuery(e,t,n?i:bv.min(),n?a:Cg())})).next((function(e){return hx(r,pg(t),e),{documents:e,Wi:a}}))}))}function lx(e,t){var n=nv(e),r=nv(n.Ds),i=n.Li.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function fx(e,t){var n=nv(e),r=n.Ui.get(t)||bv.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ki.getAllFromCollectionGroup(e,t,Ov(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return hx(n,t,e),e}))}function hx(e,t,n){var r=e.Ui.get(t)||bv.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ui.set(t,r)}function dx(e,t,n,r){return px.apply(this,arguments)}function px(){return px=Rt(Dt().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=nv(t),o=Cg(),s=kg(),u=E(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Hi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Ji(l)).setReadTime(n.Yi(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Ki.newChangeBuffer({trackRemovals:!0}),e.next=7,ox(a,function(e){return sg(tg(xv.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return ix(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Ds.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Ds.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.zi,t.ji)})).next((function(){return t.zi}))}))})));case 9:case"end":return e.stop()}}),e)}))),px.apply(this,arguments)}function vx(e,t){return mx.apply(this,arguments)}function mx(){return mx=Rt(Dt().mark((function e(t,n){var r,i,a,o=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Cg(),e.next=3,ox(t,sg(mb(n.bundledQuery)));case 3:return i=e.sent,a=nv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Mk(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.xs.saveNamedQuery(e,n);var o=i.withResumeToken(Zm.EMPTY_BYTE_STRING,t);return a.Li=a.Li.insert(o.targetId,o),a.Ds.updateTargetData(e,o).next((function(){return a.Ds.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Ds.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.xs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}function yx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function gx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function kx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var bx=function(){function e(t,n,r,i){u(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return(0,c.Z)(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new iv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):($p("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),wx=function(){function e(t,n,r){u(this,e),this.targetId=t,this.state=n,this.error=r}return(0,c.Z)(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new iv(i.error.code,i.error.message))),a?new e(t,i.state,r):($p("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),xx=function(){function e(t,n){u(this,e),this.clientId=t,this.activeTargetIds=n}return(0,c.Z)(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Ag(),o=0;i&&o<r.activeTargetIds.length;++o)i=em(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):($p("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),_x=function(){function e(t,n){u(this,e),this.clientId=t,this.onlineState=n}return(0,c.Z)(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):($p("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Sx=function(){function e(){u(this,e),this.activeTargetIds=Ag()}return(0,c.Z)(e,[{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Ex=function(){function e(t,n,r,i,a){u(this,e),this.window=t,this.Ws=n,this.persistenceKey=r,this.nr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new Pm(mv),this.started=!1,this.ur=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.cr=yx(this.persistenceKey,this.nr),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.rr=this.rr.insert(this.nr,new Sx),this.hr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.lr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.dr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._r=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}return(0,c.Z)(e,[{key:"start",value:function(){var e=Rt(Dt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.bi();case 2:t=e.sent,n=E(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.nr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(yx(this.persistenceKey,i)))&&(o=xx.Zi(i,a))&&(this.rr=this.rr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.mr(),(s=this.storage.getItem(this.wr))&&(u=this.gr(s))&&this.yr(u),c=E(this.ur);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ir(f)}catch(d){c.e(d)}finally{c.f()}this.ur=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.pr(this.rr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.rr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ir(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ir(e,t,n),this.Tr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(kx(this.persistenceKey,e));if(n){var r=wx.Zi(e,n);r&&(t=r.state)}}return this.Er.tr(e),this.mr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Er.er(e),this.mr()}},{key:"isLocalQueryTarget",value:function(e){return this.Er.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(kx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Ar(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Tr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Rr(e)}},{key:"notifyBundleLoaded",value:function(e){this.vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Qp("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Qp("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Qp("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ir",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Qp("SharedClientState","EVENT",n.key,n.newValue),n.key===this.cr)return void $p("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable(Rt(Dt().mark((function e(){var r,i,a,o,s,u,c;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.hr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.br(n.key),e.abrupt("return",t.Pr(r,null));case 6:if(!(i=t.Vr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Pr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.lr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Sr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Dr(a));case 16:e.next=41;break;case 18:if(!t.dr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Cr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Nr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.gr(n.newValue))){e.next=30;break}return e.abrupt("return",t.yr(s));case 30:e.next=41;break;case 32:if(n.key!==t.ar){e.next=37;break}u=function(e){var t=$v.ct;if(null!=e)try{var n=JSON.parse(e);tv("number"==typeof n),t=n}catch(e){$p("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==$v.ct&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t._r){e.next=41;break}return c=t.kr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Or(e)})));case 41:e.next=44;break;case 43:t.ur.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Er",get:function(){return this.rr.get(this.nr)}},{key:"mr",value:function(){this.setItem(this.cr,this.Er.Xi())}},{key:"Ir",value:function(e,t,n){var r=new bx(this.currentUser,e,t,n),i=gx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Xi())}},{key:"Tr",value:function(e){var t=gx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Rr",value:function(e){var t={clientId:this.nr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Ar",value:function(e,t,n){var r=kx(this.persistenceKey,e),i=new wx(e,t,n);this.setItem(r,i.Xi())}},{key:"vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}},{key:"br",value:function(e){var t=this.hr.exec(e);return t?t[1]:null}},{key:"Vr",value:function(e,t){var n=this.br(e);return xx.Zi(n,t)}},{key:"Sr",value:function(e,t){var n=this.lr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return bx.Zi(new Gp(i),r,t)}},{key:"Cr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]);return wx.Zi(r,t)}},{key:"gr",value:function(e){return _x.Zi(e)}},{key:"kr",value:function(e){return JSON.parse(e)}},{key:"Dr",value:function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:Qp("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Nr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"Pr",value:function(e,t){var n=this,r=t?this.rr.insert(e,t):this.rr.remove(e),i=this.pr(this.rr),a=this.pr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Fr(o,s).then((function(){n.rr=r}))}},{key:"yr",value:function(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"pr",value:function(e){var t=Ag();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Ix=function(){function e(){u(this,e),this.Br=new Sx,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return(0,c.Z)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Br.tr(e),this.Lr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Lr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Br.er(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Lr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Br.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Br=new Sx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Tx=function(){function e(){u(this,e)}return(0,c.Z)(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Cx=function(){function e(){var t=this;u(this,e),this.Ur=function(){return t.Kr()},this.Gr=function(){return t.Qr()},this.zr=[],this.jr()}return(0,c.Z)(e,[{key:"qr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}},{key:"Kr",value:function(){Qp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=E(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Qr",value:function(){Qp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=E(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Nx=null;function Ax(){return null===Nx?Nx=268435456+Math.round(2147483648*Math.random()):Nx++,"0x"+Nx.toString(16)}var Ox={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Dx=function(){function e(t){u(this,e),this.Wr=t.Wr,this.Hr=t.Hr}return(0,c.Z)(e,[{key:"Jr",value:function(e){this.Yr=e}},{key:"Zr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.eo=e}},{key:"close",value:function(){this.Hr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"no",value:function(){this.Yr()}},{key:"so",value:function(e){this.Xr(e)}},{key:"io",value:function(e){this.eo(e)}}]),e}(),Px="WebChannelConnection",Rx=function(e){f(n,e);var t=m(n);function n(e){var r;return u(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return(0,c.Z)(n,[{key:"lo",value:function(e,t,n,r){var i=Ax();return new Promise((function(a,o){var s=new qp;s.setWithCredentials(!0),s.listenOnce(Up.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case jp.NO_ERROR:var t=s.getResponseJson();Qp(Px,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case jp.TIMEOUT:Qp(Px,"RPC '".concat(e,"' ").concat(i," timed out")),o(new iv(rv.DEADLINE_EXCEEDED,"Request time out"));break;case jp.HTTP_ERROR:var n=s.getStatus();if(Qp(Px,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(rv).indexOf(t)>=0?t:rv.UNKNOWN}(u.status);o(new iv(c,u.message))}else o(new iv(rv.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new iv(rv.UNAVAILABLE,"Connection failed."));break;default:ev()}}finally{Qp(Px,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);Qp(Px,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=Ax(),i=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Lp(),o=Fp(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Bp({})),this.ho(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var u=i.join("");Qp(Px,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),s);var c=a.createWebChannel(u,s),l=!1,f=!1,h=new Dx({Wr:function(t){f?Qp(Px,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(Qp(Px,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),Qp(Px,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Hr:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,zp.EventType.OPEN,(function(){f||Qp(Px,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(c,zp.EventType.CLOSE,(function(){f||(f=!0,Qp(Px,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.so())})),d(c,zp.EventType.ERROR,(function(t){f||(f=!0,Jp(Px,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.so(new iv(rv.UNAVAILABLE,"The operation could not be completed")))})),d(c,zp.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];tv(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Qp(Px,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=sk[e];if(void 0!==t)return mk(t)}(s),l=o.message;void 0===u&&(u=rv.INTERNAL,l="Unknown error status: "+s+" with message "+o.message),f=!0,h.so(new iv(u,l)),c.close()}else Qp(Px,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.io(i)}})),d(o,Vp.STAT_EVENT,(function(t){t.stat===Zp.PROXY?Qp(Px,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Zp.NOPROXY&&Qp(Px,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.no()}),0),h}}]),n}(function(){function e(t){u(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return(0,c.Z)(e,[{key:"uo",get:function(){return!1}},{key:"co",value:function(e,t,n,r,i){var a=Ax(),o=this.ao(e,t);Qp("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.ho(s,r,i),this.lo(e,o,s,n).then((function(t){return Qp("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Jp("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=Ox[e];return"".concat(this.ro,"/v1/").concat(t,":").concat(n)}}]),e}());function Mx(){return"undefined"!=typeof window?window:null}function Lx(){return"undefined"!=typeof document?document:null}function Fx(e){return new Ok(e,!0)}var jx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;u(this,e),this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return(0,c.Z)(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Qp("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}},{key:"vo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),Ux=function(){function e(t,n,r,i,a,o,s,c){u(this,e),this.Ws=t,this.bo=r,this.Po=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=c,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new jx(t,n)}return(0,c.Z)(e,[{key:"xo",value:function(){return 1===this.state||5===this.state||this.No()}},{key:"No",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.ko()}},{key:"stop",value:function(){var e=Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.xo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.Co.reset()}},{key:"$o",value:function(){var e=this;this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,(function(){return e.Mo()})))}},{key:"Fo",value:function(e){this.Bo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.No()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"close",value:function(){var e=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,4!==t?this.Co.reset():n&&n.code===rv.RESOURCE_EXHAUSTED?($p(n.toString()),$p("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===rv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,i.Z)(t,2),a=r[0],o=r[1];e.Vo===n&&e.Ko(a,o)}),(function(n){t((function(){var t=new iv(rv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Go(t)}))}))}},{key:"Ko",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr((function(){r((function(){return n.state=2,n.Do=n.Ws.enqueueAfterDelay(n.Po,1e4,(function(){return n.No()&&(n.state=3),Promise.resolve()})),n.listener.Jr()}))})),this.stream.Zr((function(e){r((function(){return n.Go(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"ko",value:function(){var e=this;this.state=5,this.Co.Ao(Rt(Dt().mark((function t(){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Go",value:function(e){return Qp("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Ws.enqueueAndForget((function(){return t.Vo===e?n():(Qp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Vx=function(e){f(n,e);var t=m(n);function n(e,r,i,a,o,s){var c;return u(this,n),(c=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,c}return(0,c.Z)(n,[{key:"Qo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Co.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ev()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(tv(void 0===t||"string"==typeof t),Zm.fromBase64String(t||"")):(tv(void 0===t||t instanceof Uint8Array),Zm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?rv.UNKNOWN:mk(e.code);return new iv(t,e.message||"")}(o);n=new _k(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Uk(e,u.document.name),l=Mk(u.document.updateTime),f=u.document.createTime?Mk(u.document.createTime):bv.min(),h=new gy({mapValue:{fields:u.document.fields}}),d=by.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new wk(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Uk(e,m.document),g=m.readTime?Mk(m.readTime):bv.min(),k=by.newNoDocument(y,g),b=m.removedTargetIds||[];n=new wk([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=Uk(e,w.document),_=w.removedTargetIds||[];n=new wk([],_,x,null)}else{if(!("filter"in t))return ev();t.filter;var S=t.filter;S.targetId;var E=S.count||0,I=new pk(E),T=S.targetId;n=new xk(T,I)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return bv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?bv.min():t.readTime?Mk(t.readTime):bv.min()}(e);return this.listener.zo(t,n)}},{key:"jo",value:function(e){var t={};t.database=Bk(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=Ky(r)?{documents:Kk(e,r)}:{query:Qk(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Pk(e,t.resumeToken):t.snapshotVersion.compareTo(bv.min())>0&&(n.readTime=Dk(e,t.snapshotVersion.toTimestamp())),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ev()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=Bk(this.serializer),t.removeTarget=e,this.Fo(t)}}]),n}(Ux),Zx=function(e){f(n,e);var t=m(n);function n(e,r,i,a,o,s){var c;return u(this,n),(c=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,c.Ho=!1,c}return(0,c.Z)(n,[{key:"Jo",get:function(){return this.Ho}},{key:"start",value:function(){this.Ho=!1,this.lastStreamToken=void 0,fr(h(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Ho&&this.Yo([])}},{key:"Qo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(tv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();var t=function(e,t){return e&&e.length>0?(tv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Mk(e.updateTime):Mk(t);return n.isEqual(bv.min())&&(n=Mk(t)),new Hg(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Mk(e.commitTime);return this.listener.Zo(n,t)}return tv(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}},{key:"tu",value:function(){var e={};e.database=Bk(this.serializer),this.Fo(e)}},{key:"Yo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Hk(t.serializer,e)}))};this.Fo(n)}}]),n}(Ux),Bx=function(e){f(n,e);var t=m(n);function n(e,r,i,a){var o;return u(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.eu=!1,o}return(0,c.Z)(n,[{key:"nu",value:function(){if(this.eu)throw new iv(rv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,i.Z)(a,2),s=o[0],u=o[1];return r.connection.co(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===rv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new iv(rv.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var a=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var s=(0,i.Z)(o,2),u=s[0],c=s[1];return a.connection.fo(e,t,n,u,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===rv.UNAUTHENTICATED&&(a.authCredentials.invalidateToken(),a.appCheckCredentials.invalidateToken()),e):new iv(rv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.eu=!0}}]),n}(function(){return(0,c.Z)((function e(){u(this,e)}))}());var zx=function(){function e(t,n){u(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}return(0,c.Z)(e,[{key:"ou",value:function(){var e=this;0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.iu=null,e.cu("Backend didn't respond within 10 seconds."),e.uu("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.uu("Offline")))}},{key:"set",value:function(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}},{key:"uu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"cu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ru?($p(t),this.ru=!1):Qp("OnlineStateTracker",t)}},{key:"hu",value:function(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}]),e}(),qx=(0,c.Z)((function e(t,n,r,i,a){var o=this;u(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=a,this._u.qr((function(e){r.enqueueAndForget(Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t_(o),!e.t0){e.next=5;break}return Qp("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=nv(t)).du.add(4),e.next=4,Hx(n);case 4:return n.mu.set("Unknown"),n.du.delete(4),e.next=8,Wx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.mu=new zx(r,i)}));function Wx(e){return Gx.apply(this,arguments)}function Gx(){return Gx=Rt(Dt().mark((function e(t){var n,r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t_(t)){e.next=18;break}n=E(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Gx.apply(this,arguments)}function Hx(e){return Yx.apply(this,arguments)}function Yx(){return Yx=Rt(Dt().mark((function e(t){var n,r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=E(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Yx.apply(this,arguments)}function Kx(e,t){var n=nv(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),e_(n)?Xx(n):A_(n).No()&&$x(n,t))}function Qx(e,t){var n=nv(e),r=A_(n);n.fu.delete(t),r.No()&&Jx(n,t),0===n.fu.size&&(r.No()?r.$o():t_(n)&&n.mu.set("Unknown"))}function $x(e,t){e.gu.Ot(t.targetId),A_(e).jo(t)}function Jx(e,t){e.gu.Ot(t),A_(e).Wo(t)}function Xx(e){e.gu=new Ek({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.fu.get(t)||null}}),A_(e).start(),e.mu.ou()}function e_(e){return t_(e)&&!A_(e).xo()&&e.fu.size>0}function t_(e){return 0===nv(e).du.size}function n_(e){e.gu=void 0}function r_(e){return i_.apply(this,arguments)}function i_(){return i_=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.fu.forEach((function(e,n){$x(t,e)}));case 1:case"end":return e.stop()}}),e)}))),i_.apply(this,arguments)}function a_(e,t){return o_.apply(this,arguments)}function o_(){return o_=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n_(t),e_(t)?(t.mu.au(n),Xx(t)):t.mu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),o_.apply(this,arguments)}function s_(e,t,n){return u_.apply(this,arguments)}function u_(){return u_=Rt(Dt().mark((function e(t,n,r){var i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mu.set("Online"),!(n instanceof _k&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Rt(Dt().mark((function e(t,n){var r,i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=E(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.fu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.fu.delete(o),t.gu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Qp("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,c_(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof wk?t.gu.Kt(n):n instanceof xk?t.gu.Jt(n):t.gu.zt(n),r.isEqual(bv.min())){e.next=29;break}return e.prev=14,e.next=17,nx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.gu.Xt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.fu.get(r);i&&e.fu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.fu.get(t);if(n){e.fu.set(t,n.withResumeToken(Zm.EMPTY_BYTE_STRING,n.snapshotVersion)),Jx(e,t);var r=new sb(n.target,t,1,n.sequenceNumber);$x(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Qp("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,c_(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),u_.apply(this,arguments)}function c_(e,t,n){return l_.apply(this,arguments)}function l_(){return l_=Rt(Dt().mark((function e(t,n,r){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qv(n)){e.next=2;break}throw n;case 2:return t.du.add(1),e.next=5,Hx(t);case 5:t.mu.set("Offline"),r||(r=function(){return nx(t.localStore)}),t.asyncQueue.enqueueRetryable(Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qp("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.du.delete(1),e.next=6,Wx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),l_.apply(this,arguments)}function f_(e,t){return t().catch((function(n){return c_(e,n,t)}))}function h_(e){return d_.apply(this,arguments)}function d_(){return d_=Rt(Dt().mark((function e(t){var n,r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=nv(t),r=O_(n),i=n.lu.length>0?n.lu[n.lu.length-1].batchId:-1;case 2:if(!p_(n)){e.next=19;break}return e.prev=3,e.next=6,ax(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.lu.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,v_(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,c_(n,e.t0);case 17:e.next=2;break;case 19:m_(n)&&y_(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),d_.apply(this,arguments)}function p_(e){return t_(e)&&e.lu.length<10}function v_(e,t){e.lu.push(t);var n=O_(e);n.No()&&n.Jo&&n.Yo(t.mutations)}function m_(e){return t_(e)&&!O_(e).xo()&&e.lu.length>0}function y_(e){O_(e).start()}function g_(e){return k_.apply(this,arguments)}function k_(){return k_=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O_(t).tu();case 1:case"end":return e.stop()}}),e)}))),k_.apply(this,arguments)}function b_(e){return w_.apply(this,arguments)}function w_(){return w_=Rt(Dt().mark((function e(t){var n,r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=O_(t),r=E(t.lu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Yo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),w_.apply(this,arguments)}function x_(e,t,n){return __.apply(this,arguments)}function __(){return __=Rt(Dt().mark((function e(t,n,r){var i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.lu.shift(),a=hk.from(i,n,r),e.next=3,f_(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,h_(t);case 5:case"end":return e.stop()}}),e)}))),__.apply(this,arguments)}function S_(e,t){return E_.apply(this,arguments)}function E_(){return E_=Rt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&O_(t).Jo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Rt(Dt().mark((function e(t,n){var r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!vk(i=n.code)||i===rv.ABORTED){e.next=7;break}return r=t.lu.shift(),O_(t).Oo(),e.next=5,f_(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,h_(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:m_(t)&&y_(t);case 5:case"end":return e.stop()}}),e)}))),E_.apply(this,arguments)}function I_(e,t){return T_.apply(this,arguments)}function T_(){return T_=Rt(Dt().mark((function e(t,n){var r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=nv(t)).asyncQueue.verifyOperationInProgress(),Qp("RemoteStore","RemoteStore received new credentials"),i=t_(r),r.du.add(3),e.next=6,Hx(r);case 6:return i&&r.mu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.du.delete(3),e.next=12,Wx(r);case 12:case"end":return e.stop()}}),e)}))),T_.apply(this,arguments)}function C_(e,t){return N_.apply(this,arguments)}function N_(){return N_=Rt(Dt().mark((function e(t,n){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=nv(t),!n){e.next=7;break}return r.du.delete(2),e.next=5,Wx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.du.add(2),e.next=12,Hx(r);case 12:r.mu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),N_.apply(this,arguments)}function A_(e){return e.yu||(e.yu=function(e,t,n){var r=nv(e);return r.nu(),new Vx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:r_.bind(null,e),Zr:a_.bind(null,e),zo:s_.bind(null,e)}),e.wu.push(function(){var t=Rt(Dt().mark((function t(n){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.yu.Oo(),e_(e)?Xx(e):e.mu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.yu.stop();case 6:n_(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}function O_(e){return e.pu||(e.pu=function(e,t,n){var r=nv(e);return r.nu(),new Zx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:g_.bind(null,e),Zr:S_.bind(null,e),Xo:b_.bind(null,e),Zo:x_.bind(null,e)}),e.wu.push(function(){var t=Rt(Dt().mark((function t(n){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.pu.Oo(),t.next=4,h_(e);case 4:t.next=9;break;case 6:return t.next=8,e.pu.stop();case 8:e.lu.length>0&&(Qp("RemoteStore","Stopping write stream with ".concat(e.lu.length," pending writes")),e.lu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}var D_=function(){function e(t,n,r,i,a){u(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new av,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return(0,c.Z)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new iv(rv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function P_(e,t){if($p("AsyncQueue","".concat(t,": ").concat(e)),qv(e))return new iv(rv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var R_=function(){function e(t){u(this,e),this.comparator=t?function(e,n){return t(e,n)||Ev.comparator(e.key,n.key)}:function(e,t){return Ev.comparator(e.key,t.key)},this.keyedMap=wg(),this.sortedSet=new Pm(this.comparator)}return(0,c.Z)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),M_=function(){function e(){u(this,e),this.Iu=new Pm(Ev.comparator)}return(0,c.Z)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Iu.get(t);n?0!==e.type&&3===n.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==n.type?this.Iu=this.Iu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Iu=this.Iu.remove(t):1===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):ev():this.Iu=this.Iu.insert(t,e)}},{key:"Tu",value:function(){var e=[];return this.Iu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),L_=function(){function e(t,n,r,i,a,o,s,c,l){u(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=c,this.hasCachedResults=l}return(0,c.Z)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,R_.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),F_=(0,c.Z)((function e(){u(this,e),this.Eu=void 0,this.listeners=[]})),j_=(0,c.Z)((function e(){u(this,e),this.queries=new yg((function(e){return fg(e)}),lg),this.onlineState="Unknown",this.Au=new Set}));function U_(e,t){return V_.apply(this,arguments)}function V_(){return V_=Rt(Dt().mark((function e(t,n){var r,i,a,o,s;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=nv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new F_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Eu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=P_(e.t0,"Initialization of query '".concat(hg(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Ru(r.onlineState),o.Eu&&n.vu(o.Eu)&&W_(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),V_.apply(this,arguments)}function Z_(e,t){return B_.apply(this,arguments)}function B_(){return B_=Rt(Dt().mark((function e(t,n){var r,i,a,o,s;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=nv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),B_.apply(this,arguments)}function z_(e,t){var n,r=nv(e),i=!1,a=E(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=E(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Eu=o}}}catch(f){a.e(f)}finally{a.f()}i&&W_(r)}function q_(e,t,n){var r=nv(e),i=r.queries.get(t);if(i){var a,o=E(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function W_(e){e.Au.forEach((function(e){e.next()}))}var G_=function(){function e(t,n,r){u(this,e),this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return(0,c.Z)(e,[{key:"vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=E(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new L_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),a=!0):this.Du(e,this.onlineState)&&(this.Cu(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.bu.error(e)}},{key:"Ru",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}},{key:"Du",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.xu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Su",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Cu",value:function(e){e=L_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}]),e}(),H_=function(){function e(t,n){u(this,e),this.Nu=t,this.byteLength=n}return(0,c.Z)(e,[{key:"ku",value:function(){return"metadata"in this.Nu}}]),e}(),Y_=function(){function e(t){u(this,e),this.serializer=t}return(0,c.Z)(e,[{key:"Hi",value:function(e){return Uk(this.serializer,e)}},{key:"Ji",value:function(e){return e.metadata.exists?Wk(this.serializer,e.document,!1):by.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}},{key:"Yi",value:function(e){return Mk(e)}}]),e}(),K_=function(){function e(t,n,r){u(this,e),this.Ou=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Q_(t)}return(0,c.Z)(e,[{key:"$u",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;var n=xv.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Mu",value:function(e){var t,n=new Map,r=new Y_(this.serializer),i=E(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Hi(a.metadata.name),u=E(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Cg()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Rt(Dt().mark((function e(){var t,n,r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dx(this.localStore,new Y_(this.serializer),this.documents,this.Ou.id);case 2:t=e.sent,n=this.Mu(this.documents),r=E(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,vx(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Fu:this.collectionGroups,Bu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Q_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var $_=(0,c.Z)((function e(t){u(this,e),this.key=t})),J_=(0,c.Z)((function e(t){u(this,e),this.key=t})),X_=function(){function e(t,n){u(this,e),this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=Cg(),this.mutatedKeys=Cg(),this.Ku=vg(t),this.Gu=new R_(this.Ku)}return(0,c.Z)(e,[{key:"Qu",get:function(){return this.Lu}},{key:"zu",value:function(e,t){var n=this,r=t?t.ju:new M_,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=dg(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Wu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ku(f,u)>0||c&&n.Ku(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,ju:r,Mi:s,mutatedKeys:a}}},{key:"Wu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.ju.Tu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ev()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],s=0===this.Uu.size&&this.current?1:0,u=s!==this.qu;return this.qu=s,0!==a.length||u?{snapshot:new L_(this.query,e.Gu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}},{key:"Ru",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new M_,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}},{key:"Zu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.Uu;this.Uu=Cg(),this.Gu.forEach((function(t){e.Zu(t.key)&&(e.Uu=e.Uu.add(t.key))}));var n=[];return t.forEach((function(t){e.Uu.has(t)||n.push(new J_(t))})),this.Uu.forEach((function(e){t.has(e)||n.push(new $_(e))})),n}},{key:"Xu",value:function(e){this.Lu=e.Wi,this.Uu=Cg();var t=this.zu(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return L_.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),eS=(0,c.Z)((function e(t,n,r){u(this,e),this.query=t,this.targetId=n,this.view=r})),tS=(0,c.Z)((function e(t){u(this,e),this.key=t,this.ec=!1})),nS=function(){function e(t,n,r,i,a,o){u(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new yg((function(e){return fg(e)}),lg),this.ic=new Map,this.rc=new Set,this.oc=new Pm(Ev.comparator),this.uc=new Map,this.cc=new Pw,this.ac={},this.hc=new Map,this.lc=cw.bn(),this.onlineState="Unknown",this.fc=void 0}return(0,c.Z)(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function rS(e,t){return iS.apply(this,arguments)}function iS(){return iS=Rt(Dt().mark((function e(t,n){var r,i,a,o,s,u;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=QS(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,ox(r.localStore,sg(n));case 8:return s=e.sent,r.isPrimaryClient&&Kx(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,aS(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),iS.apply(this,arguments)}function aS(e,t,n,r,i){return oS.apply(this,arguments)}function oS(){return oS=Rt(Dt().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=Rt(Dt().mark((function e(t,n,r,i){var a,o,s;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.zu(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,cx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.zu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(IS(t,n.targetId,s.Yu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,cx(t.localStore,n,!0);case 3:return o=e.sent,s=new X_(n,o.Wi),u=s.zu(o.documents),c=bk.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),IS(t,r,l.Yu),f=new eS(n,r,s),e.abrupt("return",(t.sc.set(n,f),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),oS.apply(this,arguments)}function sS(e,t){return uS.apply(this,arguments)}function uS(){return uS=Rt(Dt().mark((function e(t,n){var r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=nv(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!lg(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,sx(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Qx(r.remoteStore,i.targetId),SS(r,i.targetId)})).catch(Fv);case 9:e.next=14;break;case 11:return SS(r,i.targetId),e.next=14,sx(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),uS.apply(this,arguments)}function cS(e,t,n){return lS.apply(this,arguments)}function lS(){return lS=Rt(Dt().mark((function e(t,n,r){var i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$S(t),e.prev=1,e.next=4,function(e,t){var n,r,i=nv(e),a=kv.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Cg());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=kg(),u=Cg();return i.Ki.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=E(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=ek(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new rk(c.key,l,ky(l.value.mapValue),Yg.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:xg(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new Pm(mv)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,NS(i,a.changes);case 9:return e.next=11,h_(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=P_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),lS.apply(this,arguments)}function fS(e,t){return hS.apply(this,arguments)}function hS(){return hS=Rt(Dt().mark((function e(t,n){var r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nv(t),e.prev=1,e.next=4,rx(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(tv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?tv(n.ec):e.removedDocuments.size>0&&(tv(n.ec),n.ec=!1))})),e.next=8,NS(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Fv(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),hS.apply(this,arguments)}function dS(e,t,n){var r=nv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.Ru(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=nv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=E(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Ru(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&W_(n)}(r.eventManager,t),i.length&&r.nc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function pS(e,t,n){return vS.apply(this,arguments)}function vS(){return vS=Rt(Dt().mark((function e(t,n,r){var i,a,o,s,u,c;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=nv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Pm(Ev.comparator)).insert(o,by.newNoDocument(o,bv.min())),u=Cg().add(o),c=new kk(bv.min(),new Map,new Lm(mv),s,u),e.next=9,fS(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),CS(i),e.next=16;break;case 14:return e.next=16,sx(i.localStore,n,!1).then((function(){return SS(i,n,r)})).catch(Fv);case 16:case"end":return e.stop()}}),e)}))),vS.apply(this,arguments)}function mS(e,t){return yS.apply(this,arguments)}function yS(){return yS=Rt(Dt().mark((function e(t,n){var r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nv(t),i=n.batch.batchId,e.prev=1,e.next=4,tx(r.localStore,n);case 4:return a=e.sent,_S(r,i,null),xS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,NS(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Fv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),yS.apply(this,arguments)}function gS(e,t,n){return kS.apply(this,arguments)}function kS(){return kS=Rt(Dt().mark((function e(t,n,r){var i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nv(t),e.prev=1,e.next=4,function(e,t){var n=nv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return tv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,_S(i,n,r),xS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,NS(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Fv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),kS.apply(this,arguments)}function bS(e,t){return wS.apply(this,arguments)}function wS(){return wS=Rt(Dt().mark((function e(t,n){var r,i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t_((r=nv(t)).remoteStore)||Qp("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=nv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.hc.get(i)||[]).push(n),r.hc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=P_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),wS.apply(this,arguments)}function xS(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function _S(e,t,n){var r=nv(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function SS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=E(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach((function(t){e.cc.containsKey(t)||ES(e,t)}))}function ES(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(Qx(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),CS(e))}function IS(e,t,n){var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof $_?(e.cc.addReference(a.key,t),TS(e,a)):a instanceof J_?(Qp("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||ES(e,a.key)):ev()}}catch(o){i.e(o)}finally{i.f()}}function TS(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(Qp("SyncEngine","New document in limbo: "+n),e.rc.add(r),CS(e))}function CS(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new Ev(xv.fromString(t)),r=e.lc.next();e.uc.set(r,new tS(n)),e.oc=e.oc.insert(n,r),Kx(e.remoteStore,new sb(sg(tg(n.path)),r,2,$v.ct))}}function NS(e,t,n){return AS.apply(this,arguments)}function AS(){return AS=Rt(Dt().mark((function e(t,n,r){var i,a,o,s;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=nv(t),a=[],o=[],s=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){s.push(i.dc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Kw.Di(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.nc.zo(a),e.next=9,function(){var e=Rt(Dt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Uv.forEach(n,(function(t){return Uv.forEach(t.Vi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Uv.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),qv(e.t0)){e.next=10;break}throw e.t0;case 10:Qp("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=E(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Li.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Li=r.Li.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),AS.apply(this,arguments)}function OS(e,t){return DS.apply(this,arguments)}function DS(){return DS=Rt(Dt().mark((function e(t,n){var r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=nv(t)).currentUser.isEqual(n)){e.next=11;break}return Qp("SyncEngine","User change. New user:",n.toKey()),e.next=5,Xw(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new iv(rv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,NS(r,i.Qi);case 11:case"end":return e.stop()}}),e)}))),DS.apply(this,arguments)}function PS(e,t){var n=nv(e),r=n.uc.get(t);if(r&&r.ec)return Cg().add(r.key);var i=Cg(),a=n.ic.get(t);if(!a)return i;var o,s=E(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.sc.get(u);i=i.unionWith(c.view.Qu)}}catch(l){s.e(l)}finally{s.f()}return i}function RS(e,t){return MS.apply(this,arguments)}function MS(){return MS=Rt(Dt().mark((function e(t,n){var r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nv(t),e.next=3,cx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Xu(i),e.abrupt("return",(r.isPrimaryClient&&IS(r,n.targetId,a.Yu),a));case 6:case"end":return e.stop()}}),e)}))),MS.apply(this,arguments)}function LS(e,t){return FS.apply(this,arguments)}function FS(){return FS=Rt(Dt().mark((function e(t,n){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nv(t),e.abrupt("return",fx(r.localStore,n).then((function(e){return NS(r,e)})));case 2:case"end":return e.stop()}}),e)}))),FS.apply(this,arguments)}function jS(e,t,n,r){return US.apply(this,arguments)}function US(){return US=Rt(Dt().mark((function e(t,n,r,i){var a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=nv(t),e.next=3,function(e,t){var n=nv(e),r=nv(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.In(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Uv.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,h_(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(_S(a,n,i||null),xS(a,n),function(e,t){nv(nv(e).mutationQueue).En(t)}(a.localStore,n)):ev();case 11:return e.next=13,NS(a,o);case 13:e.next=16;break;case 15:Qp("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),US.apply(this,arguments)}function VS(e,t){return ZS.apply(this,arguments)}function ZS(){return ZS=Rt(Dt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(QS(r=nv(t)),$S(r),!0!==n||!0===r.fc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,BS(r,i.toArray());case 5:return a=e.sent,r.fc=!0,e.next=9,C_(r.remoteStore,!0);case 9:o=E(a);try{for(o.s();!(s=o.n()).done;)u=s.value,Kx(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.fc){e.next=25;break}return c=[],l=Promise.resolve(),r.ic.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return SS(r,t),sx(r.localStore,t,!0)})),Qx(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,BS(r,c);case 21:return function(e){var t=nv(e);t.uc.forEach((function(e,n){Qx(t.remoteStore,n)})),t.cc.ls(),t.uc=new Map,t.oc=new Pm(Ev.comparator)}(r),r.fc=!1,e.next=25,C_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),ZS.apply(this,arguments)}function BS(e,t,n){return zS.apply(this,arguments)}function zS(){return zS=Rt(Dt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=nv(t),a=[],o=[],s=E(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.ic.get(c))||0===f.length){e.next=34;break}return e.next=11,ox(i.localStore,sg(f[0]));case 11:l=e.sent,h=E(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.sc.get(p),e.next=20,RS(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,lx(i.localStore,c);case 36:return y=e.sent,e.next=39,ox(i.localStore,y);case 39:return l=e.sent,e.next=42,aS(i,qS(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.nc.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),zS.apply(this,arguments)}function qS(e){return eg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function WS(e){var t=nv(e);return nv(nv(t.localStore).persistence).bi()}function GS(e,t,n,r){return HS.apply(this,arguments)}function HS(){return HS=Rt(Dt().mark((function e(t,n,r,i){var a,o,s,u;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=nv(t)).fc){e.next=3;break}return e.abrupt("return",void Qp("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ic.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,fx(a.localStore,pg(o[0]));case 10:return s=e.sent,u=kk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Zm.EMPTY_BYTE_STRING),e.next=14,NS(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,sx(a.localStore,n,!0);case 17:return SS(a,n,i),e.abrupt("break",20);case 19:ev();case 20:case"end":return e.stop()}}),e)}))),HS.apply(this,arguments)}function YS(e,t,n){return KS.apply(this,arguments)}function KS(){return KS=Rt(Dt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=QS(t)).fc){e.next=45;break}a=E(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.ic.has(s)){e.next=10;break}return Qp("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,lx(i.localStore,s);case 12:return u=e.sent,e.next=15,ox(i.localStore,u);case 15:return c=e.sent,e.next=18,aS(i,qS(u),c.targetId,!1,c.resumeToken);case 18:Kx(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=E(r),e.prev=30,h=Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ic.has(t),!e.t0){e.next=5;break}return e.next=5,sx(i.localStore,t,!1).then((function(){Qx(i.remoteStore,t),SS(i,t)})).catch(Fv);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),KS.apply(this,arguments)}function QS(e){var t=nv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=fS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pS.bind(null,t),t.nc.zo=z_.bind(null,t.eventManager),t.nc.wc=q_.bind(null,t.eventManager),t}function $S(e){var t=nv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gS.bind(null,t),t}function JS(e,t,n){var r=nv(e);(function(){var e=Rt(Dt().mark((function e(t,n,r){var i,a,o,s,u;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=nv(e),r=Mk(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.xs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Q_(i)),a=new K_(i,t.localStore,n.serializer),e.next=15,n._c();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.$u(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n._c();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,NS(t,u.Bu,void 0);case 31:return e.next=33,function(e,t){var n=nv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.xs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Fu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Jp("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var XS=function(){function e(){u(this,e),this.synchronizeTabs=!1}return(0,c.Z)(e,[{key:"initialize",value:function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Fx(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Jw(this.persistence,new Qw,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Uw(Zw.Fs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Ix}},{key:"terminate",value:function(){var e=Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),eE=function(e){f(n,e);var t=m(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).mc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return(0,c.Z)(n,[{key:"initialize",value:function(){var e=Rt(Dt().mark((function e(t){var r=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr(h(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.mc.initialize(this,t);case 4:return e.next=6,$S(this.mc.syncEngine);case 6:return e.next=8,h_(this.mc.remoteStore);case 8:return e.next=10,this.persistence.hi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return Jw(this.persistence,new Qw,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new mw(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Qv(t,this.persistence);return new Kv(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=Yw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?tw.withCacheSize(this.cacheSizeBytes):tw.DEFAULT;return new Ww(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Mx(),Lx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new Ix}}]),n}(XS),tE=function(e){f(n,e);var t=m(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,r,!1)).mc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return(0,c.Z)(n,[{key:"initialize",value:function(){var e=Rt(Dt().mark((function e(t){var r,i=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr(h(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.mc.syncEngine,e.t0=this.sharedClientState instanceof Ex,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:jS.bind(null,r),Mr:GS.bind(null,r),Fr:YS.bind(null,r),bi:WS.bind(null,r),Or:LS.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.hi(function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VS(i.mc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=Mx();if(!Ex.D(t))throw new iv(rv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Yw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ex(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(eE),nE=function(){function e(){u(this,e)}return(0,c.Z)(e,[{key:"initialize",value:function(){var e=Rt(Dt().mark((function e(t,n){var r=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return dS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=OS.bind(null,this.syncEngine),e.next=12,C_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new j_}},{key:"createDatastore",value:function(e){var t,n=Fx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Rx(t));return function(e,t,n,r){return new Bx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return dS(o.syncEngine,e,0)},a=Cx.D()?new Cx:new Tx,new qx(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new nS(e,t,n,r,i,a);return o&&(s.fc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nv(t),Qp("RemoteStore","RemoteStore shutting down."),n.du.add(5),e.next=5,Hx(n);case 5:n._u.shutdown(),n.mu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function rE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Rt(Dt().mark((function r(){var i;return Dt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var iE=function(){function e(t){u(this,e),this.observer=t,this.muted=!1}return(0,c.Z)(e,[{key:"next",value:function(e){this.observer.next&&this.gc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.gc(this.observer.error,e):$p("Uncaught Error in snapshot listener:",e.toString())}},{key:"yc",value:function(){this.muted=!0}},{key:"gc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),aE=function(){function e(t,n){var r=this;u(this,e),this.Ic=t,this.serializer=n,this.metadata=new av,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then((function(e){e&&e.ku()?r.metadata.resolve(e.Nu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Nu))))}),(function(e){return r.metadata.reject(e)}))}return(0,c.Z)(e,[{key:"close",value:function(){return this.Ic.cancel()}},{key:"getMetadata",value:function(){var e=Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_c",value:function(){var e=Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ec());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ec",value:function(){var e=Rt(Dt().mark((function e(){var t,n,r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ac();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Tc.decode(t),r=Number(n),isNaN(r)&&this.Rc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new H_(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ac",value:function(){var e=Rt(Dt().mark((function e(){var t,n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.bc()<0)){e.next=7;break}return e.next=3,this.Pc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.bc())<0&&this.Rc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Pc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Rc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Tc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Rc",value:function(e){throw this.Ic.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Pc",value:function(){var e=Rt(Dt().mark((function e(){var t,n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ic.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),oE=function(){function e(t){u(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return(0,c.Z)(e,[{key:"lookup",value:function(){var e=Rt(Dt().mark((function e(t){var n,r=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new iv(rv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Rt(Dt().mark((function e(t,n){var r,i,a,o,s,u;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nv(t),i=Bk(r.serializer)+"/documents",a={documents:n.map((function(e){return jk(r.serializer,e)}))},e.next=5,r.fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Gk(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());tv(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new ck(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Rt(Dt().mark((function e(){var t,n=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Ev.fromPath(t);n.mutations.push(new lk(r,n.precondition(r)))})),e.next=7,function(){var e=Rt(Dt().mark((function e(t,n){var r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nv(t),i=Bk(r.serializer)+"/documents",a={writes:n.map((function(e){return Hk(r.serializer,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ev();t=bv.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new iv(rv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(bv.min())?Yg.exists(!1):Yg.updateTime(t):Yg.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bv.min()))throw new iv(rv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yg.updateTime(t)}return Yg.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),sE=function(){function e(t,n,r,i,a){u(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Vc=r.maxAttempts,this.Co=new jx(this.asyncQueue,"transaction_retry")}return(0,c.Z)(e,[{key:"run",value:function(){this.Vc-=1,this.Sc()}},{key:"Sc",value:function(){var e=this;this.Co.Ao(Rt(Dt().mark((function t(){var n,r;return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new oE(e.datastore),(r=e.Dc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Cc(t)}))}))})).catch((function(t){e.Cc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Dc",value:function(e){try{var t=this.updateFunction(e);return!Jv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Cc",value:function(e){var t=this;this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!vk(t)}return!1}}]),e}(),uE=function(){function e(t,n,r,i){var a=this;u(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Gp.UNAUTHENTICATED,this.clientId=vv.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qp("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Qp("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return(0,c.Z)(e,[{key:"getConfiguration",value:function(){var e=Rt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new iv(rv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new av;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Rt(Dt().mark((function n(){var r;return Dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=P_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function cE(e,t){return lE.apply(this,arguments)}function lE(){return lE=Rt(Dt().mark((function e(t,n){var r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Qp("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Xw(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),lE.apply(this,arguments)}function fE(e,t){return hE.apply(this,arguments)}function hE(){return hE=Rt(Dt().mark((function e(t,n){var r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,pE(t);case 3:return r=e.sent,Qp("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return I_(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return I_(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),hE.apply(this,arguments)}function dE(e){return"FirebaseError"===e.name?e.code===rv.FAILED_PRECONDITION||e.code===rv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function pE(e){return vE.apply(this,arguments)}function vE(){return vE=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Qp("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,cE(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),dE(n=e.t0)){e.next=13;break}throw n;case 13:return Jp("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,cE(t,new XS);case 16:e.next=21;break;case 18:return Qp("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,cE(t,new XS);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),vE.apply(this,arguments)}function mE(e){return yE.apply(this,arguments)}function yE(){return yE=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Qp("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,fE(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Qp("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,fE(t,new nE);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),yE.apply(this,arguments)}function gE(e){return pE(e).then((function(e){return e.persistence}))}function kE(e){return pE(e).then((function(e){return e.localStore}))}function bE(e){return mE(e).then((function(e){return e.remoteStore}))}function wE(e){return mE(e).then((function(e){return e.syncEngine}))}function xE(e){return mE(e).then((function(e){return e.datastore}))}function _E(e){return SE.apply(this,arguments)}function SE(){return SE=Rt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=rS.bind(null,n.syncEngine),r.onUnlisten=sS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),SE.apply(this,arguments)}function EE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new av;return e.asyncQueue.enqueueAndForget(Rt(Dt().mark((function i(){return Dt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new iE({next:function(a){t.enqueueAndForget((function(){return Z_(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new iv(rv.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new iv(rv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new G_(tg(n.path),a,{includeMetadataChanges:!0,xu:!0});return U_(e,o)},i.next=3,_E(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function IE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new av;return e.asyncQueue.enqueueAndForget(Rt(Dt().mark((function i(){return Dt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new iE({next:function(n){t.enqueueAndForget((function(){return Z_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new iv(rv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new G_(n,a,{includeMetadataChanges:!0,xu:!0});return U_(e,o)},i.next=3,_E(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var TE=new Map;function CE(e,t,n){if(!n)throw new iv(rv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function NE(e,t,n,r){if(!0===t&&!0===r)throw new iv(rv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function AE(e){if(!Ev.isDocumentKey(e))throw new iv(rv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function OE(e){if(Ev.isDocumentKey(e))throw new iv(rv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function DE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ev()}function PE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new iv(rv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=DE(e);throw new iv(rv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function RE(e,t){if(t<=0)throw new iv(rv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var ME=function(){function e(t){var n;if(u(this,e),void 0===t.host){if(void 0!==t.ssl)throw new iv(rv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new iv(rv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,NE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return(0,c.Z)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),LE=function(){function e(t,n,r,i){u(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ME({}),this._settingsFrozen=!1}return(0,c.Z)(e,[{key:"app",get:function(){if(!this._app)throw new iv(rv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new iv(rv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ME(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new sv;switch(e.type){case"firstParty":return new fv(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new iv(rv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=TE.get(e);t&&(Qp("ComponentProvider","Removing Datastore"),TE.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function FE(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=PE(e,LE))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Jp("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Gp.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[at(JSON.stringify({alg:"none",type:"JWT"})),at(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new iv(rv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Gp(u)}e._authCredentials=new uv(new ov(o,s))}}var jE=function(){function e(t,n,r){u(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return(0,c.Z)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new VE(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),UE=function(){function e(t,n,r){u(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return(0,c.Z)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),VE=function(e){f(n,e);var t=m(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this,e,r,tg(i)))._path=i,a.type="collection",a}return(0,c.Z)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new jE(this.firestore,null,new Ev(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(UE);function ZE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ot(e),CE("collection","path",t),e instanceof LE){var a=xv.fromString.apply(xv,[t].concat(r));return OE(a),new VE(e,null,a)}if(!(e instanceof jE||e instanceof VE))throw new iv(rv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(xv.fromString.apply(xv,[t].concat(r)));return OE(o),new VE(e.firestore,null,o)}function BE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ot(e),1===arguments.length&&(t=vv.A()),CE("doc","path",t),e instanceof LE){var a=xv.fromString.apply(xv,[t].concat(r));return AE(a),new jE(e,null,new Ev(a))}if(!(e instanceof jE||e instanceof VE))throw new iv(rv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(xv.fromString.apply(xv,[t].concat(r)));return AE(o),new jE(e.firestore,e instanceof VE?e.converter:null,new Ev(o))}function zE(e,t){return e=Ot(e),t=Ot(t),(e instanceof jE||e instanceof VE)&&(t instanceof jE||t instanceof VE)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function qE(e,t){return e=Ot(e),t=Ot(t),e instanceof UE&&t instanceof UE&&e.firestore===t.firestore&&lg(e._query,t._query)&&e.converter===t.converter}var WE=function(){function e(){var t=this;u(this,e),this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new jx(this,"async_queue_retry"),this.qc=function(){var e=Lx();e&&Qp("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Co.vo()};var n=Lx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qc)}return(0,c.Z)(e,[{key:"isShuttingDown",get:function(){return this.Oc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Uc(),this.Kc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;var t=Lx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Uc(),this.Oc)return new Promise((function(){}));var n=new av;return this.Kc((function(){return t.Oc&&t.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.kc.push(e),t.Gc()}))}},{key:"Gc",value:function(){var e=Rt(Dt().mark((function e(){var t=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.kc.length){e.next=14;break}return e.prev=1,e.next=4,this.kc[0]();case 4:this.kc.shift(),this.Co.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),qv(e.t0)){e.next=12;break}throw e.t0;case 12:Qp("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.kc.length>0&&this.Co.Ao((function(){return t.Gc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(e){var t=this,n=this.Nc.then((function(){return t.Fc=!0,e().catch((function(e){t.Mc=e,t.Fc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw $p("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Fc=!1,e}))}));return this.Nc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);var i=D_.createAndSchedule(this,e,t,n,(function(e){return r.Qc(e)}));return this.$c.push(i),i}},{key:"Uc",value:function(){this.Mc&&ev()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Rt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Nc,e.next=3,t;case 3:if(t!==this.Nc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"jc",value:function(e){var t,n=E(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Wc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=E(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Hc",value:function(e){this.Lc.push(e)}},{key:"Qc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function GE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=E(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var HE=function(){function e(){u(this,e),this._progressObserver={},this._taskCompletionResolver=new av,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return(0,c.Z)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),YE=function(e){f(n,e);var t=m(n);function n(e,r,i,a){var o;return u(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new WE,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return(0,c.Z)(n,[{key:"_terminate",value:function(){return this._firestoreClient||QE(this),this._firestoreClient.terminate()}}]),n}(LE);function KE(e){return e._firestoreClient||QE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function QE(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Km(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new uE(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function $E(e,t,n){var r=new av;return e.asyncQueue.enqueue(Rt(Dt().mark((function i(){var a;return Dt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,cE(e,n);case 3:return i.next=5,fE(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),dE(a=i.t0)){i.next=13;break}throw a;case 13:Jp("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function JE(e){return function(e){return e.asyncQueue.enqueue(Rt(Dt().mark((function t(){var n,r;return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gE(e);case 2:return n=t.sent,t.next=5,bE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=nv(e);return t.du.delete(0),Wx(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(KE(e=PE(e,YE)))}function XE(e){return function(e){return e.asyncQueue.enqueue(Rt(Dt().mark((function t(){var n,r;return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gE(e);case 2:return n=t.sent,t.next=5,bE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=nv(t)).du.add(0),e.next=4,Hx(n);case 4:n.mu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(KE(e=PE(e,YE)))}function eI(e,t){var n=KE(e=PE(e,YE)),r=new HE;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new aE(e,t)}(function(e,t){if(e instanceof Uint8Array)return rE(e,t);if(e instanceof ArrayBuffer)return rE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Fx(t));e.asyncQueue.enqueueAndForget(Rt(Dt().mark((function t(){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=JS,t.next=3,wE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function tI(e,t){return function(e,t){return e.asyncQueue.enqueue(Rt(Dt().mark((function n(){return Dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=nv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.xs.getNamedQuery(e,t)}))},n.next=3,kE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(KE(e=PE(e,YE)),t).then((function(t){return t?new UE(e,null,t.query):null}))}function nI(e){if(e._initialized||e._terminated)throw new iv(rv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var rI=function(){function e(t){u(this,e),this._byteString=t}return(0,c.Z)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Zm.fromBase64String(t))}catch(t){throw new iv(rv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Zm.fromUint8Array(t))}}]),e}(),iI=function(){function e(){u(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new iv(rv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sv(n)}return(0,c.Z)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var aI=(0,c.Z)((function e(t){u(this,e),this._methodName=t})),oI=function(){function e(t,n){if(u(this,e),!isFinite(t)||t<-90||t>90)throw new iv(rv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new iv(rv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return(0,c.Z)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return mv(this._lat,e._lat)||mv(this._long,e._long)}}]),e}(),sI=/^__.*__$/,uI=function(){function e(t,n,r){u(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,c.Z)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new rk(e,this.data,this.fieldMask,t,this.fieldTransforms):new nk(e,this.data,t,this.fieldTransforms)}}]),e}(),cI=function(){function e(t,n,r){u(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,c.Z)(e,[{key:"toMutation",value:function(e,t){return new rk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function lI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ev()}}var fI=function(){function e(t,n,r,i,a,o){u(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Jc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return(0,c.Z)(e,[{key:"path",get:function(){return this.settings.path}},{key:"Yc",get:function(){return this.settings.Yc}},{key:"Zc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Xc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.ea(e),r}},{key:"na",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.Jc(),r}},{key:"sa",value:function(e){return this.Zc({path:void 0,ta:!0})}},{key:"ia",value:function(e){return OI(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Jc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ea(this.path.get(e))}},{key:"ea",value:function(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(lI(this.Yc)&&sI.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}]),e}(),hI=function(){function e(t,n,r){u(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Fx(t)}return(0,c.Z)(e,[{key:"ua",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new fI({Yc:e,methodName:t,oa:n,path:Sv.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function dI(e){var t=e._freezeSettings(),n=Fx(e._databaseId);return new hI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pI(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ua(a.merge||a.mergeFields?2:0,t,n,i);TI("Data must be an object, but it was:",o,r);var s,u,c=EI(r,o);if(a.merge)s=new Um(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=E(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=CI(t,l.value,n);if(!o.contains(d))throw new iv(rv.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));DI(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new Um(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new uI(new gy(c),s,u)}var vI=function(e){f(n,e);var t=m(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Yc)throw 1===e.Yc?e.ia("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ia("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(aI);function mI(e,t,n){return new fI({Yc:3,oa:t.settings.oa,methodName:e._methodName,ta:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var yI=function(e){f(n,e);var t=m(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"_toFieldTransform",value:function(e){return new Gg(e.path,new jg)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(aI),gI=function(e){f(n,e);var t=m(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e)).ca=r,i}return(0,c.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=mI(this,e,!0),n=this.ca.map((function(e){return SI(e,t)})),r=new Ug(n);return new Gg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(aI),kI=function(e){f(n,e);var t=m(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e)).ca=r,i}return(0,c.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=mI(this,e,!0),n=this.ca.map((function(e){return SI(e,t)})),r=new Zg(n);return new Gg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(aI),bI=function(e){f(n,e);var t=m(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e)).aa=r,i}return(0,c.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=new zg(e.serializer,Pg(e.serializer,this.aa));return new Gg(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(aI);function wI(e,t,n,r){var i=e.ua(1,t,n);TI("Data must be an object, but it was:",i,r);var a=[],o=gy.empty();Om(r,(function(e,r){var s=AI(t,e,n);r=Ot(r);var u=i.na(s);if(r instanceof vI)a.push(s);else{var c=SI(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Um(a);return new cI(o,s,i.fieldTransforms)}function xI(e,t,n,r,i,a){var o=e.ua(1,t,n),s=[CI(t,r,n)],u=[i];if(a.length%2!=0)throw new iv(rv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(CI(t,a[c])),u.push(a[c+1]);for(var l=[],f=gy.empty(),h=s.length-1;h>=0;--h)if(!DI(l,s[h])){var d=s[h],p=u[h];p=Ot(p);var v=o.na(d);if(p instanceof vI)l.push(d);else{var m=SI(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Um(l);return new cI(f,y,o.fieldTransforms)}function _I(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return SI(n,e.ua(r?4:3,t))}function SI(e,t){if(II(e=Ot(e)))return TI("Unsupported field value:",t,e),EI(e,t);if(e instanceof aI)return function(e,t){if(!lI(t.Yc))throw t.ia("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ia("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&4!==t.Yc)throw t.ia("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=E(e);try{for(a.s();!(n=a.n()).done;){var o=SI(n.value,t.sa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ot(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Pg(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=kv.fromDate(e);return{timestampValue:Dk(t.serializer,n)}}if(e instanceof kv){var r=new kv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Dk(t.serializer,r)}}if(e instanceof oI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof rI)return{bytesValue:Pk(t.serializer,e._byteString)};if(e instanceof jE){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ia("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Lk(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ia("Unsupported field value: ".concat(DE(e)))}(e,t)}function EI(e,t){var n={};return Dm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Om(e,(function(e,r){var i=SI(r,t.Xc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function II(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof kv||e instanceof oI||e instanceof rI||e instanceof jE||e instanceof aI)}function TI(e,t,n){if(!II(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=DE(n);throw"an object"===r?t.ia(e+" a custom object"):t.ia(e+" "+r)}}function CI(e,t,n){if((t=Ot(t))instanceof iI)return t._internalPath;if("string"==typeof t)return AI(e,t);throw OI("Field path arguments must be of type string or ",e,!1,void 0,n)}var NI=new RegExp("[~\\*/\\[\\]]");function AI(e,t,n){if(t.search(NI)>=0)throw OI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return y(iI,(0,s.Z)(t.split(".")))._internalPath}catch(r){throw OI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function OI(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new iv(rv.INVALID_ARGUMENT,s+e+u)}function DI(e,t){return e.some((function(e){return e.isEqual(t)}))}var PI=function(){function e(t,n,r,i,a){u(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return(0,c.Z)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new jE(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new RI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(MI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),RI=function(e){f(n,e);var t=m(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"data",value:function(){return fr(h(n.prototype),"data",this).call(this)}}]),n}(PI);function MI(e,t){return"string"==typeof t?AI(e,t):t instanceof iI?t._internalPath:t._delegate._internalPath}function LI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new iv(rv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var FI=(0,c.Z)((function e(){u(this,e)})),jI=function(e){f(n,e);var t=m(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,c.Z)(n)}(FI);function UI(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof FI&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof ZI})).length,n=e.filter((function(e){return e instanceof VI})).length;if(t>1||t>0&&n>0)throw new iv(rv.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=E(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var VI=function(e){f(n,e);var t=m(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return(0,c.Z)(n,[{key:"_apply",value:function(e){var t=this._parse(e);return XI(e._query,t),new UE(e.firestore,e.converter,ug(e._query,t))}},{key:"_parse",value:function(e){var t=dI(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new iv(rv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){JI(o,a);var u,c=[],l=E(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push($I(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=$I(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||JI(o,a),s=_I(n,"where",o,"in"===a||"not-in"===a);return Ty.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(jI);var ZI=function(e){f(n,e);var t=m(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return(0,c.Z)(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Cy.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=E(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;XI(r,a),r=ug(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new UE(e.firestore,e.converter,ug(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(FI);var BI=function(e){f(n,e);var t=m(n);function n(e,r){var i;return u(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return(0,c.Z)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new iv(rv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new iv(rv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Sy(t,n);return function(e,t){if(null===rg(e)){var n=ig(e);null!==n&&eT(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new UE(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Xy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(jI);var zI=function(e){f(n,e);var t=m(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return(0,c.Z)(n,[{key:"_apply",value:function(e){return new UE(e.firestore,e.converter,cg(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(jI);var qI=function(e){f(n,e);var t=m(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return(0,c.Z)(n,[{key:"_apply",value:function(e){var t=QI(e,this.type,this._docOrFields,this._inclusive);return new UE(e.firestore,e.converter,function(e,t){return new Xy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(jI);function WI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qI._create("startAt",t,!0)}function GI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qI._create("startAfter",t,!1)}var HI=function(e){f(n,e);var t=m(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return(0,c.Z)(n,[{key:"_apply",value:function(e){var t=QI(e,this.type,this._docOrFields,this._inclusive);return new UE(e.firestore,e.converter,function(e,t){return new Xy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(jI);function YI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return HI._create("endBefore",t,!1)}function KI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return HI._create("endAt",t,!0)}function QI(e,t,n,r){if(n[0]=Ot(n[0]),n[0]instanceof PI)return function(e,t,n,r,i){if(!r)throw new iv(rv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=E(og(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(oy(t,r.key));else{var c=r.data.field(u.field);if(Gm(c))throw new iv(rv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new iv(rv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new wy(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=dI(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new iv(rv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new iv(rv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!ag(e)&&-1!==c.indexOf("/"))throw new iv(rv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(xv.fromString(c));if(!Ev.isDocumentKey(l))throw new iv(rv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Ev(l);s.push(oy(t,f))}else{var h=_I(n,r,c);s.push(h)}}return new wy(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function $I(e,t,n){if("string"==typeof(n=Ot(n))){if(""===n)throw new iv(rv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ag(t)&&-1!==n.indexOf("/"))throw new iv(rv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(xv.fromString(n));if(!Ev.isDocumentKey(r))throw new iv(rv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return oy(e,new Ev(r))}if(n instanceof jE)return oy(e,n._key);throw new iv(rv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(DE(n),"."))}function JI(e,t){if(!Array.isArray(e)||0===e.length)throw new iv(rv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function XI(e,t){if(t.isInequality()){var n=ig(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new iv(rv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=rg(e);null!==i&&eT(e,r,i)}var a=function(e,t){var n,r=E(e);try{for(r.s();!(n=r.n()).done;){var i,a=E(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new iv(rv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new iv(rv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function eT(e,t,n){if(!n.isEqual(t))throw new iv(rv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var tT=function(){function e(){u(this,e)}return(0,c.Z)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Xm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ev()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Om(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new oI(qm(e.latitude),qm(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Hm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ym(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=zm(e);return new kv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=xv.fromString(e);tv(ob(n));var r=new Qm(n.get(1),n.get(3)),i=new Ev(n.popFirst(5));return r.isEqual(t)||$p("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function nT(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var rT=function(e){f(n,e);var t=m(n);function n(e){var r;return u(this,n),(r=t.call(this)).firestore=e,r}return(0,c.Z)(n,[{key:"convertBytes",value:function(e){return new rI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new jE(this.firestore,null,t)}}]),n}(tT);var iT=function(){function e(t,n){u(this,e),this.hasPendingWrites=t,this.fromCache=n}return(0,c.Z)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),aT=function(e){f(n,e);var t=m(n);function n(e,r,i,a,o,s){var c;return u(this,n),(c=t.call(this,e,r,i,a,s))._firestore=e,c._firestoreImpl=e,c.metadata=o,c}return(0,c.Z)(n,[{key:"exists",value:function(){return fr(h(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new oT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(MI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(PI),oT=function(e){f(n,e);var t=m(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fr(h(n.prototype),"data",this).call(this,e)}}]),n}(aT),sT=function(){function e(t,n,r,i){u(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new iT(i.hasPendingWrites,i.fromCache),this.query=r}return(0,c.Z)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new oT(n._firestore,n._userDataWriter,r.key,r,new iT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new iv(rv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new oT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new iT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new oT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new iT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:uT(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function uT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ev()}}function cT(e,t){return e instanceof aT&&t instanceof aT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof sT&&t instanceof sT&&e._firestore===t._firestore&&qE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var lT=function(e){f(n,e);var t=m(n);function n(e){var r;return u(this,n),(r=t.call(this)).firestore=e,r}return(0,c.Z)(n,[{key:"convertBytes",value:function(e){return new rI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new jE(this.firestore,null,t)}}]),n}(tT);function fT(e){e=PE(e,jE);var t=PE(e.firestore,YE),n=KE(t),r=new lT(t);return function(e,t){var n=new av;return e.asyncQueue.enqueueAndForget(Rt(Dt().mark((function r(){return Dt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Rt(Dt().mark((function e(t,n,r){var i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=nv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new iv(rv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=P_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,kE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new aT(t,r,e._key,n,new iT(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function hT(e){e=PE(e,UE);var t=PE(e.firestore,YE),n=KE(t),r=new lT(t);return function(e,t){var n=new av;return e.asyncQueue.enqueueAndForget(Rt(Dt().mark((function r(){return Dt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Rt(Dt().mark((function e(t,n,r){var i,a,o,s,u;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cx(t,n,!0);case 3:i=e.sent,a=new X_(n,i.Wi),o=a.zu(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=P_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,kE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new sT(t,r,e,n)}))}function dT(e,t,n){e=PE(e,jE);var r=PE(e.firestore,YE),i=nT(e.converter,t,n);return yT(r,[pI(dI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Yg.none())])}function pT(e,t,n){e=PE(e,jE);for(var r=PE(e.firestore,YE),i=dI(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return yT(r,[("string"==typeof(t=Ot(t))||t instanceof iI?xI(i,"updateDoc",e._key,t,n,o):wI(i,"updateDoc",e._key,t)).toMutation(e._key,Yg.exists(!0))])}function vT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ot(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||GE(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(GE(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof jE)l=PE(e.firestore,YE),f=tg(e._key.path),c={next:function(t){n[u]&&n[u](gT(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=PE(e,UE);l=PE(p.firestore,YE),f=p._query;var v=new lT(l);c={next:function(e){n[u]&&n[u](new sT(l,v,p,e))},error:n[u+1],complete:n[u+2]},LI(e._query)}return function(e,t,n,r){var i=new iE(r),a=new G_(t,i,n);return e.asyncQueue.enqueueAndForget(Rt(Dt().mark((function t(){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=U_,t.next=3,_E(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.yc(),e.asyncQueue.enqueueAndForget(Rt(Dt().mark((function t(){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Z_,t.next=3,_E(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(KE(l),f,h,c)}function mT(e,t){return function(e,t){var n=new iE(t);return e.asyncQueue.enqueueAndForget(Rt(Dt().mark((function t(){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){nv(e).Au.add(t),t.next()},t.next=3,_E(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.yc(),e.asyncQueue.enqueueAndForget(Rt(Dt().mark((function t(){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){nv(e).Au.delete(t)},t.next=3,_E(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(KE(e=PE(e,YE)),GE(t)?t:{next:t})}function yT(e,t){return function(e,t){var n=new av;return e.asyncQueue.enqueueAndForget(Rt(Dt().mark((function r(){return Dt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=cS,r.next=3,wE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(KE(e),t)}function gT(e,t,n){var r=n.docs.get(t._key),i=new lT(e);return new aT(e,i,t._key,r,new iT(n.hasPendingWrites,n.fromCache),t.converter)}var kT={maxAttempts:5},bT=function(){function e(t,n){u(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=dI(t)}return(0,c.Z)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=wT(e,this._firestore),i=nT(r.converter,t,n),a=pI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Yg.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=wT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Ot(t))||t instanceof iI?xI(this._dataReader,"WriteBatch.update",i._key,t,n,o):wI(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Yg.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=wT(e,this._firestore);return this._mutations=this._mutations.concat(new ck(t._key,Yg.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new iv(rv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function wT(e,t){if((e=Ot(e)).firestore!==t)throw new iv(rv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var xT=function(e){f(n,e);var t=m(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,r))._firestore=e,i}return(0,c.Z)(n,[{key:"get",value:function(e){var t=this,r=wT(e,this._firestore),i=new lT(this._firestore);return fr(h(n.prototype),"get",this).call(this,e).then((function(e){return new aT(t._firestore,i,r._key,e._document,new iT(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){u(this,e),this._firestore=t,this._transaction=n,this._dataReader=dI(t)}return(0,c.Z)(e,[{key:"get",value:function(e){var t=this,n=wT(e,this._firestore),r=new rT(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ev();var i=e[0];if(i.isFoundDocument())return new PI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new PI(t._firestore,r,n._key,null,n.converter);throw ev()}))}},{key:"set",value:function(e,t,n){var r=wT(e,this._firestore),i=nT(r.converter,t,n),a=pI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=wT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Ot(t))||t instanceof iI?xI(this._dataReader,"Transaction.update",i._key,t,n,o):wI(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=wT(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function _T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new gI("arrayUnion",t)}function ST(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kI("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Hp=e}(Dn),En(new Mt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new YE(new cv(e.getProvider("auth-internal")),new dv(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new iv(rv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qm(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),jn(Wp,"3.10.1",e),jn(Wp,"3.10.1","esm2017")}();function ET(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new iv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function IT(){if("undefined"===typeof Uint8Array)throw new iv("unimplemented","Uint8Arrays are not available in this environment.")}function TT(){if("undefined"==typeof atob)throw new iv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var CT=function(){function e(t){u(this,e),this._delegate=t}return(0,c.Z)(e,[{key:"toBase64",value:function(){return TT(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return IT(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return TT(),new e(rI.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return IT(),new e(rI.fromUint8Array(t))}}]),e}();function NT(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=E(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var AT=function(){function e(){u(this,e)}return(0,c.Z)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){nI(e=PE(e,YE));var n=KE(e);if(n._uninitializedComponentsProvider)throw new iv(rv.FAILED_PRECONDITION,"SDK cache is already specified.");Jp("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new nE;return $E(n,i,new eE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){nI(e=PE(e,YE));var t=KE(e);if(t._uninitializedComponentsProvider)throw new iv(rv.FAILED_PRECONDITION,"SDK cache is already specified.");Jp("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new nE;return $E(t,r,new tE(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new iv(rv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new av;return e._queue.enqueueAndForgetEvenWhileRestricted(Rt(Dt().mark((function n(){return Dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Rt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zv.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Zv.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Yw(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),OT=function(){function e(t,n,r){var i=this;u(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Qm||(this._appCompat=t)}return(0,c.Z)(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Jp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};FE(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return JE(this._delegate)}},{key:"disableNetwork",value:function(){return XE(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&NE("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new av;return e.asyncQueue.enqueueAndForget(Rt(Dt().mark((function n(){return Dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=bS,n.next=3,wE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(KE(e=PE(e,YE)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return mT(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new iv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new WT(this,ZE(this._delegate,e))}catch(t){throw FT(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new LT(this,BE(this._delegate,e))}catch(t){throw FT(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new BT(this,function(e,t){if(e=PE(e,LE),CE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new iv(rv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new UE(e,null,function(e){return new Xy(xv.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw FT(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=PE(e,YE);var r=Object.assign(Object.assign({},kT),n);return function(e){if(e.maxAttempts<1)throw new iv(rv.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new av;return e.asyncQueue.enqueueAndForget(Rt(Dt().mark((function i(){var a;return Dt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,xE(e);case 2:a=i.sent,new sE(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(KE(e),(function(n){return t(new xT(e,n))}),r)}(this._delegate,(function(n){return e(new PT(t,n))}))}},{key:"batch",value:function(){var e=this;return KE(this._delegate),new RT(new bT(this._delegate,(function(t){return yT(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return eI(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return tI(this._delegate,e).then((function(e){return e?new BT(t,e):null}))}}]),e}(),DT=function(e){f(n,e);var t=m(n);function n(e){var r;return u(this,n),(r=t.call(this)).firestore=e,r}return(0,c.Z)(n,[{key:"convertBytes",value:function(e){return new CT(new rI(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return LT.forKey(t,this.firestore,null)}}]),n}(tT);var PT=function(){function e(t,n){u(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new DT(t)}return(0,c.Z)(e,[{key:"get",value:function(e){var t=this,n=GT(e);return this._delegate.get(n).then((function(e){return new VT(t._firestore,new aT(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=GT(e);return n?(ET("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=GT(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=GT(e);return this._delegate.delete(t),this}}]),e}(),RT=function(){function e(t){u(this,e),this._delegate=t}return(0,c.Z)(e,[{key:"set",value:function(e,t,n){var r=GT(e);return n?(ET("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=GT(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=GT(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),MT=function(){function e(t,n,r){u(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return(0,c.Z)(e,[{key:"fromFirestore",value:function(e,t){var n=new oT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ZT(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new DT(t),n),i.set(n,a)),a}}]),e}();MT.INSTANCES=new WeakMap;var LT=function(){function e(t,n){u(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new DT(t)}return(0,c.Z)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new WT(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new WT(this.firestore,ZE(this._delegate,e))}catch(t){throw FT(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Ot(e))instanceof jE&&zE(this._delegate,e)}},{key:"set",value:function(e,t){t=ET("DocumentReference.set",t);try{return t?dT(this._delegate,e,t):dT(this._delegate,e)}catch(n){throw FT(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?pT(this._delegate,e):pT.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw FT(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return yT(PE(e.firestore,YE),[new ck(e._key,Yg.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=jT(n),a=UT(n,(function(t){return new VT(e.firestore,new aT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return vT(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?fT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=PE(e,jE);var t=PE(e.firestore,YE);return EE(KE(t),e._key,{source:"server"}).then((function(n){return gT(t,e,n)}))}(this._delegate):function(e){e=PE(e,jE);var t=PE(e.firestore,YE);return EE(KE(t),e._key).then((function(n){return gT(t,e,n)}))}(this._delegate),t.then((function(e){return new VT(n.firestore,new aT(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(MT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new iv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new jE(n._delegate,r,new Ev(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new jE(n._delegate,r,t))}}]),e}();function FT(e,t,n){return e.message=e.message.replace(t,n),e}function jT(e){var t,n=E(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!NT(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function UT(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=NT(e[0])?e[0]:NT(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var VT=function(){function e(t,n){u(this,e),this._firestore=t,this._delegate=n}return(0,c.Z)(e,[{key:"ref",get:function(){return new LT(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return cT(this._delegate,e._delegate)}}]),e}(),ZT=function(e){f(n,e);var t=m(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||ev()}(void 0!==t),t}}]),n}(VT),BT=function(){function e(t,n){u(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new DT(t)}return(0,c.Z)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,UI(this._delegate,function(e,t,n){var r=t,i=MI("where",e);return VI._create(i,r,n)}(t,n,r)))}catch(i){throw FT(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,UI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=MI("orderBy",e);return BI._create(n,t)}(t,n)))}catch(r){throw FT(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,UI(this._delegate,function(e){return RE("limit",e),zI._create("limit",e,"F")}(t)))}catch(n){throw FT(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,UI(this._delegate,function(e){return RE("limitToLast",e),zI._create("limitToLast",e,"L")}(t)))}catch(n){throw FT(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,UI(this._delegate,WI.apply(void 0,arguments)))}catch(t){throw FT(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,UI(this._delegate,GI.apply(void 0,arguments)))}catch(t){throw FT(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,UI(this._delegate,YI.apply(void 0,arguments)))}catch(t){throw FT(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,UI(this._delegate,KI.apply(void 0,arguments)))}catch(t){throw FT(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return qE(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?hT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=PE(e,UE);var t=PE(e.firestore,YE),n=KE(t),r=new lT(t);return IE(n,e._query,{source:"server"}).then((function(n){return new sT(t,r,e,n)}))}(this._delegate):function(e){e=PE(e,UE);var t=PE(e.firestore,YE),n=KE(t),r=new lT(t);return LI(e._query),IE(n,e._query).then((function(n){return new sT(t,r,e,n)}))}(this._delegate),t.then((function(e){return new qT(n.firestore,new sT(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=jT(n),a=UT(n,(function(t){return new qT(e.firestore,new sT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return vT(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(MT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),zT=function(){function e(t,n){u(this,e),this._firestore=t,this._delegate=n}return(0,c.Z)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new ZT(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),qT=function(){function e(t,n){u(this,e),this._firestore=t,this._delegate=n}return(0,c.Z)(e,[{key:"query",get:function(){return new BT(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new ZT(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new zT(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new ZT(n._firestore,r))}))}},{key:"isEqual",value:function(e){return cT(this._delegate,e._delegate)}}]),e}(),WT=function(e){f(n,e);var t=m(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return(0,c.Z)(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new LT(this.firestore,e):null}},{key:"doc",value:function(e){try{return new LT(this.firestore,void 0===e?BE(this._delegate):BE(this._delegate,e))}catch(t){throw FT(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=PE(e.firestore,YE),r=BE(e),i=nT(e.converter,t);return yT(n,[pI(dI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Yg.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new LT(t.firestore,e)}))}},{key:"isEqual",value:function(e){return zE(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(MT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(BT);function GT(e){return PE(e,jE)}var HT=function(){function e(){u(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=y(iI,n)}return(0,c.Z)(e,[{key:"isEqual",value:function(e){return(e=Ot(e))instanceof iI&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Sv.keyField().canonicalString())}}]),e}(),YT=function(){function e(t){u(this,e),this._delegate=t}return(0,c.Z)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new yI("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new vI("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=_T.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=ST.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new bI("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),KT={Firestore:OT,GeoPoint:oI,Timestamp:kv,Blob:CT,Transaction:PT,WriteBatch:RT,DocumentReference:LT,DocumentSnapshot:VT,Query:BT,QueryDocumentSnapshot:ZT,QuerySnapshot:qT,CollectionReference:WT,FieldPath:HT,FieldValue:YT,setLogLevel:function(e){!function(e){Yp.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Mt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},KT)))}(e,(function(e,t){return new OT(e,t,new AT)})),e.registerVersion("@firebase/firestore-compat","0.3.7")}(lr);var QT=lr.initializeApp({apiKey:"AIzaSyAqYQNEFb9R2SJ-YCB_fgdVwXrsecSqhXk",authDomain:"clone-7f91e.firebaseapp.com",projectId:"clone-7f91e",storageBucket:"clone-7f91e.appspot.com",messagingSenderId:"56375399292",appId:"1:56375399292:web:5ada3d42852740a9060af9",measurementId:"G-F9G798W15T"}),$T=lr.auth(),JT=QT.firestore();var XT=function(){var e=et(),t=(0,i.Z)(e,2),n=t[0],r=n.basket,s=n.user;return t[1],(0,$e.jsxs)("div",{className:"header",children:[(0,$e.jsx)(Ye,{to:"/",children:(0,$e.jsx)("img",{className:"header__logo",src:"http://pngimg.com/uploads/amazon/amazon_PNG11.png"})}),(0,$e.jsxs)("div",{className:"header__search",children:[(0,$e.jsx)("input",{className:"header__searchInput",type:"text"}),(0,$e.jsx)(a.Z,{className:"header__searchIcon"})]}),(0,$e.jsxs)("div",{className:"header__nav",children:[(0,$e.jsx)(Ye,{to:!s&&"/login",className:"header__clearlink",children:(0,$e.jsxs)("div",{onClick:function(){s&&$T.signOut()},className:"header__option",children:[(0,$e.jsxs)("span",{className:"header__optionLineOne",children:["Hello ",s?s.email:"Guest"]}),(0,$e.jsx)("span",{className:"header__optionLineTwo",children:s?"Sign Out":"Sign In"})]})}),(0,$e.jsx)(Ye,{to:"/orders",className:"header__clearlink",children:(0,$e.jsxs)("div",{className:"header__option",children:[(0,$e.jsx)("span",{className:"header__optionLineOne",children:"Returns"}),(0,$e.jsx)("span",{className:"header__optionLineTwo",children:"& Orders"})]})}),(0,$e.jsxs)("div",{className:"header__option",children:[(0,$e.jsx)("span",{className:"header__optionLineOne",children:"Your"}),(0,$e.jsx)("span",{className:"header__optionLineTwo",children:"Prime"})]}),(0,$e.jsx)(Ye,{to:"/checkout",className:"header__clearlink",children:(0,$e.jsxs)("div",{className:"header__optionBasket",children:[(0,$e.jsx)(o.Z,{}),(0,$e.jsx)("span",{className:"header__optionLineTwo header__basketCount",children:r.length})]})})]})]})};var eC=function(e){var t=e.id,n=e.title,r=e.image,a=e.price,o=e.rating,s=et(),u=(0,i.Z)(s,2),c=(u[0].basket,u[1]);return(0,$e.jsxs)("div",{className:"product",children:[(0,$e.jsxs)("div",{className:"product__info",children:[(0,$e.jsx)("p",{children:n}),(0,$e.jsxs)("p",{className:"product__price",children:[(0,$e.jsx)("small",{children:"$"}),(0,$e.jsx)("strong",{children:a})]}),(0,$e.jsx)("div",{className:"product__rating",children:Array(o).fill().map((function(e,t){return(0,$e.jsx)("p",{children:"\ud83c\udf1f"},t)}))})]}),(0,$e.jsx)("img",{src:r,alt:""}),(0,$e.jsx)("button",{onClick:function(){c({type:"ADD_TO_BASKET",item:{id:t,title:n,image:r,price:a,rating:o}})},children:"Add to Basket"})]})};var tC=function(){return(0,$e.jsx)("div",{className:"home",children:(0,$e.jsxs)("div",{className:"home__container",children:[(0,$e.jsx)("img",{className:"home__image",src:"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg",alt:""}),(0,$e.jsxs)("div",{className:"home__row",children:[(0,$e.jsx)(eC,{id:"12321341",title:"New Apple iMac with Retina 5K Display (27-inch, 8GB RAM, 256GB SSD Storage)",price:1669,rating:5,image:"https://m.media-amazon.com/images/I/71KR2i6-WaL._AC_UY218_.jpg"}),(0,$e.jsx)(eC,{id:"49538094",title:"Epic Racing Professional Gaming Chair with Adjustable Height, Full Recline and Headrest/Lumbar Support",price:159.99,rating:4,image:"https://m.media-amazon.com/images/I/71t8UBllIgL._AC_UL320_.jpg"})]}),(0,$e.jsxs)("div",{className:"home__row",children:[(0,$e.jsx)(eC,{id:"4903850",title:"New Apple Watch Series 6 (GPS, 40mm) - Space Gray Aluminum Case with Black Sport Band",price:499.99,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/71yOGVLGWpL._AC_SX679_.jpg"}),(0,$e.jsx)(eC,{id:"99903850",title:"4K 60FPS Video Camera Camcorder Ultra HD 48MP YouTube Camera Vlogging WiFi Digital Camera Recorder IPS Touch Screen",price:139.99,rating:4,image:"https://m.media-amazon.com/images/I/81eUw7H78UL._AC_UY218_.jpg"}),(0,$e.jsx)(eC,{id:"3254354345",title:"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB) - Silver (4th Generation)",price:598.99,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg"})]}),(0,$e.jsx)("div",{className:"home__row",children:(0,$e.jsx)(eC,{id:"90829332",title:"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor - Super Ultra Wide Dual WQHD 5120 x 1440",price:1094.98,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/81r8JazRcoL._AC_SL1500_.jpg"})}),(0,$e.jsxs)("div",{className:"home__row",children:[(0,$e.jsx)(eC,{id:"903850",title:"2021 1080P Streaming Business Webcam with Microphone & Privacy Cover, AutoFocus, NexiGo N930P HD USB Web Camera, for Zoom Meeting YouTube Skype FaceTime",price:69.99,rating:5,image:"https://m.media-amazon.com/images/I/61KFXbnW13L._AC_UY218_.jpg"}),(0,$e.jsx)(eC,{id:"8903851",title:"SAMSUNG 85-inch Class QLED Q950T Series  Smart TV with Alexa Built-in (QN85Q950TSFXZA, 2020 Model",price:999.99,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/91GMSrYPaHL._AC_SL1500_.jpg"}),(0,$e.jsx)(eC,{id:"23445930",title:"Amazon Echo (3rd generation) | Smart speaker with Alexa, Charcoal Fabric",price:98.99,rating:5,image:"https://media.very.co.uk/i/very/P6LTG_SQ1_0000000071_CHARCOAL_SLf?$300x400_retinamobilex2$"})]})]})})};var nC=function(e){var t=e.id,n=e.image,r=e.title,a=e.price,o=e.rating,s=e.hideButton,u=et(),c=(0,i.Z)(u,2),l=(c[0].basket,c[1]);return(0,$e.jsxs)("div",{className:"checkoutProduct",children:[(0,$e.jsx)("img",{className:"checkoutProduct__image",src:n}),(0,$e.jsxs)("div",{className:"checkoutProduct__info",children:[(0,$e.jsx)("p",{className:"checkoutProduct__title",children:r}),(0,$e.jsxs)("p",{className:"checkoutProduct__price",children:[(0,$e.jsx)("small",{children:"$"}),(0,$e.jsx)("strong",{children:a})]}),(0,$e.jsx)("div",{className:"checkoutProduct__rating",children:Array(o).fill().map((function(e,t){return(0,$e.jsx)("p",{children:"\ud83c\udf1f"},t)}))}),!s&&(0,$e.jsx)("button",{onClick:function(){l({type:"REMOVE_FROM_BASKET",id:t})},children:"Remove from Basket"})," "]})]})},rC=n(2482),iC=n.n(rC);var aC=function(){var e=et(),t=(0,i.Z)(e,2),n=t[0].basket,r=(t[1],Se());return(0,$e.jsxs)("div",{className:"subtotal",children:[(0,$e.jsx)(iC(),{renderText:function(e){return(0,$e.jsxs)("div",{children:[(0,$e.jsxs)("p",{children:["Subtotal (",n.length," items): ",(0,$e.jsx)("strong",{children:e})]}),(0,$e.jsxs)("small",{className:"subtotal__gift",children:[(0,$e.jsx)("input",{type:"checkbox"})," This order contains a gift"]})]})},decimalScale:2,value:function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)}(n),displayType:"text",thousandSeparator:!0,prefix:"$"}),(0,$e.jsx)("button",{onClick:function(e){return r("/payment")},children:"Proceed to Checkout"})]})};var oC=function(){var e=et(),t=(0,i.Z)(e,2),n=t[0].basket;return t[1],(0,$e.jsxs)("div",{className:"checkout",children:[(0,$e.jsxs)("div",{className:"checkout__left",children:[(0,$e.jsx)("img",{className:"checkout__ad",src:"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg",alt:""}),(0,$e.jsx)("h3",{children:"Hello"}),(0,$e.jsx)("h2",{className:"checkout__title",children:"Your shopping Basket"}),n.map((function(e){return(0,$e.jsx)(nC,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})}))]}),(0,$e.jsx)("div",{className:"checkout__right",children:(0,$e.jsx)(aC,{})})]})};var sC=function(){var e=Se(),n=(0,t.useState)(""),r=(0,i.Z)(n,2),a=r[0],o=r[1],s=(0,t.useState)(""),u=(0,i.Z)(s,2),c=u[0],l=u[1];return(0,$e.jsxs)("div",{className:"login",children:[(0,$e.jsx)(Ye,{to:"/",children:(0,$e.jsx)("img",{className:"login__logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png"})}),(0,$e.jsxs)("div",{className:"login__container",children:[(0,$e.jsx)("h1",{children:"Sign-in"}),(0,$e.jsxs)("form",{children:[(0,$e.jsx)("h5",{children:"E-mail"}),(0,$e.jsx)("input",{type:"text",value:a,onChange:function(e){return o(e.target.value)}}),(0,$e.jsx)("h5",{children:"Password"}),(0,$e.jsx)("input",{type:"password",value:c,onChange:function(e){return l(e.target.value)}}),(0,$e.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),$T.signInWithEmailAndPassword(a,c).then((function(t){e("/")})).catch((function(e){return alert(e.message)}))},className:"login__signInButton",children:"Sign In"})]}),(0,$e.jsx)("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),(0,$e.jsx)("button",{onClick:function(t){t.preventDefault(),$T.createUserWithEmailAndPassword(a,c).then((function(t){t&&e("/")})).catch((function(e){return console.log(e.message)}))},className:"login__registerButton",children:"Create your Amazon Account"})]})]})};var uC=function(){return(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(XT,{}),(0,$e.jsx)(Le,{})]})},cC=n(5764),lC=n(4569),fC=n.n(lC)().create({baseURL:"https://us-central1-fir-fa874.cloudfunctions.net/api"});var hC=function(){var e=et(),n=(0,i.Z)(e,2),r=n[0],a=r.basket,o=r.user,s=n[1],u=Se(),c=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)},l=(0,cC.useStripe)(),f=(0,cC.useElements)(),h=(0,t.useState)(null),d=(0,i.Z)(h,2),p=d[0],v=d[1],m=(0,t.useState)(!0),y=(0,i.Z)(m,2),g=y[0],k=y[1],b=(0,t.useState)(!1),w=(0,i.Z)(b,2),x=w[0],_=w[1],S=(0,t.useState)(""),E=(0,i.Z)(S,2),I=E[0],T=E[1],C=(0,t.useState)(!0),N=(0,i.Z)(C,2),A=N[0],O=N[1];(0,t.useEffect)((function(){var e=function(){var e=Rt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fC({method:"post",url:"/payments/create?total=".concat(100*c(a))});case 2:t=e.sent,O(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]),console.log("THE SECRET IS >>>",A);var D=function(){var e=Rt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),T(!0),e.next=4,l.confirmCardPayment(A,{payment_method:{card:f.getElement(cC.CardElement)}}).then((function(e){var t=e.paymentIntent;JT.collection("users").doc(null===o||void 0===o?void 0:o.uid).collection("orders").doc(t.id).set({basket:a,amount:t.amount,created:t.created}),_(!0),v(null),T(!1),s({type:"EMPTY_BASKET"}),u("/orders")}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,$e.jsx)("div",{className:"payment",children:(0,$e.jsxs)("div",{className:"payment__container",children:[(0,$e.jsxs)("h1",{children:["Checkout (",(0,$e.jsxs)(Ye,{to:"/checkout",children:[null===a||void 0===a?void 0:a.length," items"]}),")"]}),(0,$e.jsxs)("div",{className:"payment__section",children:[(0,$e.jsx)("div",{className:"payment__title",children:(0,$e.jsx)("h3",{children:"Delivery Address"})}),(0,$e.jsxs)("div",{className:"payment__address",children:[(0,$e.jsx)("p",{children:null===o||void 0===o?void 0:o.email}),(0,$e.jsx)("p",{children:"123 React Lane"}),(0,$e.jsx)("p",{children:"Chicago, IL"})]})]}),(0,$e.jsxs)("div",{className:"payment__section",children:[(0,$e.jsx)("div",{className:"payment__title",children:(0,$e.jsx)("h3",{children:"Review items and delivery"})}),(0,$e.jsx)("div",{className:"payment__items",children:a.map((function(e){return(0,$e.jsx)(nC,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})}))})]}),(0,$e.jsxs)("div",{className:"payment__section",children:[(0,$e.jsx)("div",{className:"payment__title",children:(0,$e.jsx)("h3",{children:"Payment Method"})}),(0,$e.jsx)("div",{className:"payment__details",children:(0,$e.jsxs)("form",{onSubmit:D,children:[(0,$e.jsx)(cC.CardElement,{onChange:function(e){k(e.empty),v(e.error?e.error.message:"")}}),(0,$e.jsxs)("div",{className:"payment__priceContainer",children:[(0,$e.jsx)(iC(),{renderText:function(e){return(0,$e.jsxs)("h3",{children:["Order Total: ",e]})},decimalScale:2,value:c(a),displayType:"text",thousandSeparator:!0,prefix:"$"}),(0,$e.jsx)("button",{disabled:I||g||x,children:(0,$e.jsx)("span",{children:I?(0,$e.jsx)("p",{children:"Processing"}):"Buy Now"})})]}),p&&(0,$e.jsx)("div",{children:p})]})})]})]})})},dC="https://js.stripe.com/v3",pC=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,vC="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",mC=null,yC=function(e){return null!==mC||(mC=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(vC),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(dC,'"]')),t=0;t<e.length;t++){var n=e[t];if(pC.test(n.src))return n}return null}();r&&e?console.warn(vC):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(dC).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(i){return void n(i)}else t(null)}))),mC},gC=Promise.resolve().then((function(){return yC(null)})),kC=!1;gC.catch((function(e){kC||console.warn(e)}));var bC=n(2426),wC=n.n(bC);var xC=function(e){var t,n=e.order;return(0,$e.jsxs)("div",{className:"order",children:[(0,$e.jsx)("h2",{children:"Order"}),(0,$e.jsx)("p",{children:wC().unix(n.data.created).format("MMMM Do YYYY, h:mma")}),(0,$e.jsx)("p",{className:"order__id",children:(0,$e.jsx)("small",{children:n.id})}),null===(t=n.data.basket)||void 0===t?void 0:t.map((function(e){return(0,$e.jsx)(nC,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating,hideButton:!0})})),(0,$e.jsx)(iC(),{renderText:function(e){return(0,$e.jsxs)("h3",{className:"order__total",children:["Order Total: ",e]})},decimalScale:2,value:n.data.amount/100,displayType:"text",thousandSeparator:!0,prefix:"$"})]})},_C=function(){var e=et(),n=(0,i.Z)(e,2),r=n[0],a=(r.basket,r.user),o=(n[1],(0,t.useState)([])),s=(0,i.Z)(o,2),u=s[0],c=s[1];return(0,t.useEffect)((function(){a?JT.collection("users").doc(null===a||void 0===a?void 0:a.uid).collection("orders").orderBy("created","desc").onSnapshot((function(e){return c(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})):c([])}),[a]),(0,$e.jsxs)("div",{className:"orders",children:[(0,$e.jsx)("h1",{children:"Your Orders"}),(0,$e.jsx)("div",{className:"orders__order",children:null===u||void 0===u?void 0:u.map((function(e,t){return(0,$e.jsx)("div",{children:(0,$e.jsx)(xC,{order:e})},t)}))})]})},SC=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];kC=!0;var r=Date.now();return gC.then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.52.1",startTime:t})}(r,n),r}(e,t,r)}))}("pk_test_51N2PvaBT4XGJH2fWE9R5v8STa04uLFSvWrumjGOiclVjPSRdrRru8ELMESKFUny3a1m52ru9LOlSSpq1kOa16iRh00XpX8SaTL");var EC=function(){var e=et(),n=(0,i.Z)(e,2);!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(n[0]);var r=n[1];return(0,t.useEffect)((function(){$T.onAuthStateChanged((function(e){r(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}))}),[]),(0,$e.jsx)(We,{children:(0,$e.jsx)("div",{children:(0,$e.jsx)(Ue,{children:(0,$e.jsxs)(Fe,{path:"/",element:(0,$e.jsx)(uC,{}),children:[(0,$e.jsx)(Fe,{path:"/",element:(0,$e.jsx)(tC,{})}),(0,$e.jsx)(Fe,{path:"/orders",element:(0,$e.jsx)(_C,{})}),(0,$e.jsx)(Fe,{path:"/login",element:(0,$e.jsx)(sC,{})}),(0,$e.jsx)(Fe,{path:"/payment",element:(0,$e.jsx)($e.Fragment,{children:(0,$e.jsx)(cC.Elements,{stripe:SC,children:(0,$e.jsx)(hC,{})})})}),(0,$e.jsx)(Fe,{path:"/Checkout",element:(0,$e.jsx)(oC,{})})]})})})})},IC=function(e){e&&e instanceof Function&&n.e(377).then(n.bind(n,9377)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},TC=function(e,t){switch(console.log(t),t.type){case"ADD_TO_BASKET":return Yt(Yt({},e),{},{basket:[].concat((0,s.Z)(e.basket),[t.item])});case"EMPTY_BASKET":return Yt(Yt({},e),{},{basket:[]});case"REMOVE_FROM_BASKET":var n=e.basket.findIndex((function(e){return e.id===t.id})),r=(0,s.Z)(e.basket);return n>=0?r.splice(n,1):console.warn("Cant remove product (id: ".concat(t.id,") as its not in basket!")),Yt(Yt({},e),{},{basket:r});case"SET_USER":return Yt(Yt({},e),{},{user:t.user});default:return e}};r.render((0,$e.jsx)(t.StrictMode,{children:(0,$e.jsx)(Xe,{initialState:{basket:[],user:null},reducer:TC,children:(0,$e.jsx)(EC,{})})}),document.getElementById("root")),IC()}()}();
//# sourceMappingURL=main.f89e7ee0.js.map